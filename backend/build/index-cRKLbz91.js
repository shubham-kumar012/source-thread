const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-ChTnxcgK.js","strapi-DzZ06wIK.js","strapi-D6821bIJ.css","sortable.esm-BGtYod8n.js","index-Bt3WoJSF.js","groupBy-CYe6L0PH.js","_baseEach-B4uqNNrQ.js","sortBy-DTqlduuv.js","_baseMap-DdlMsPP4.js","index-S4MR_Qjz.js","index-BRVyLNfZ.js"])))=>i.map(i=>d[i]);
import{j as g,$ as Re,f as Ce,q as sv,T as Ie,l as gt,r as W,L as op,dH as nE,cX as ki,db as rE,bB as sp,fY as lp,hg as zi,da as iE,I as sr,k as up,hh as Un,bU as Mi,hi as aE,cH as Hr,bX as oE,cz as un,D as dt,w as ba,hj as ms,hk as vo,a as ct,hl as lv,di as sE,hm as lE,fN as uE,hn as uv,dk as cE,dl as pE,dm as dE,dh as fE,bV as tl,aX as Ur,H as or,gX as ha,gD as Ms,cr as io,b8 as Ri,fq as Fs,b as Fi,cq as hE,bw as cp,bE as nl,fz as mE,a3 as cv,E as pv,cW as gE,ho as dv,hp as fv,cC as kn,el as vE,aJ as ii,bK as pp,ct as rl,hq as hv,dZ as mv,h0 as yE,hr as dp,hs as ai,a6 as gs,e7 as bE,bi as xE,b7 as Ti,cJ as ti,bm as il,dP as _E,bF as gv,c$ as fp,c as vv,bI as Oi,bJ as yo,cd as yv,ht as wE,eZ as Wt,hu as kE,p as al,o as bv,hv as CE,hw as SE,al as ao,a4 as EE,hx as Ht,hy as kh,bL as AE,hz as TE,M as Je,gE as xv,ap as jE,ar as vs,as as Ch,hA as IE,hB as RE,at as OE,au as zE,aw as Za,av as Du,aq as Sh,ax as Eh,ay as ME,an as FE,hC as Ah,ao as NE,az as $E,am as PE,hD as hp,s as _v,aH as DE,aQ as LE,d8 as ir,aV as Zr,aW as Bn,hE as wv,hF as kv,eD as Cv,cO as BE,cP as UE,hG as Th,hH as ZE,hI as HE,hJ as WE,hK as qE,ab as VE,hL as GE,hM as KE,hN as JE,hO as YE,hP as XE,hQ as QE,hR as eA,hS as tA,g_ as nA,hT as rA,hU as iA,hb as aA,hV as oA,hW as sA,hX as lA,hY as uA,F as Sv,hZ as cA,dJ as pA,h_ as dA,h$ as fA,i0 as hA,i1 as mA,ft as gA,i2 as vA,eU as yA,i3 as bA,i4 as xA,i5 as _A,i6 as wA,i7 as kA,h as CA,cw as SA,i8 as Lu,i9 as Ev,ia as Av,ib as Tv,ic as EA,id as AA,ie as TA,ig as jA,ih as IA,ii as RA,ij as jv,ik as Iv,il as Rv,im as OA,cZ as zA,io as MA,ip as FA,ae as NA,fg as $A,af as PA,a9 as DA,iq as LA,fA as BA,ha as UA,ir as ZA,is as HA,it as WA,iu as qA,gb as VA,iv as GA,iw as KA,ix as JA,f$ as YA,iy as XA,iz as QA,iA as eT,iB as tT,iC as nT,ah as Ov,iD as rT,bZ as iT,iE as aT,iF as oT,ac as sT,iG as lT,iH as uT,iI as cT,iJ as pT,iK as dT,iL as fT,iM as hT,iN as mT,iO as gT,iP as vT,iQ as yT,cD as bT,iR as xT,iS as _T,iT as wT,iU as kT,iV as CT,iW as ST,iX as ET,iY as AT,iZ as TT,i_ as jT,i$ as IT,j0 as RT,j1 as OT,j2 as zT,j3 as MT,j4 as FT,j5 as NT,j6 as $T,bn as ol,j7 as zv,d2 as PT,f3 as DT,d1 as LT,j8 as BT,cu as UT,eL as ZT,j9 as Qt,ja as HT,jb as WT,dB as qT,jc as VT,jd as GT,je as Mv,gu as KT,gT as JT,jf as YT,jg as XT,jh as QT,ji as ej,fy as mp,N as tj,O as nj,jj as Fv,eB as Nv,jk as rj,jl as ij,jm as aj,bM as rr,bf as oo,b2 as jt,b3 as Vt,jn as Bu,b1 as Lt,eV as oj,bd as jh,jo as Ga,jp as $v,jq as sj,jr as lj,V as uj,cn as cj,bA as pj,cm as dj,gC as fj,js as hj,P as Uu,jt as mj,ju as gj,C as vj,R as yj,Q as ys,_ as bj}from"./strapi-DzZ06wIK.js";import{P as Et}from"./index-Bt3WoJSF.js";import{g as xj}from"./groupBy-CYe6L0PH.js";import{s as _j}from"./sortBy-DTqlduuv.js";import{f as wj}from"./index-S4MR_Qjz.js";const bs={danger:{background:"danger100",borderColor:"danger200",textColor:"danger700"},warning:{background:"warning100",borderColor:"warning200",textColor:"warning600"}},Ha=({title:e,variant:t="danger"})=>g.jsx(Re,{padding:3,background:bs[t].background,borderColor:bs[t].borderColor,hasRadius:!0,width:"100%",children:g.jsxs(Ce,{gap:2,children:[g.jsx(sv,{style:{minWidth:"16px"},fill:bs[t].textColor}),g.jsx(Ie,{variant:"omega",textColor:bs[t].textColor,children:e})]})}),Pv=gt(Re)`
  opacity: 0;
  transform: ${({$direction:e="up"})=>e==="up"?"translateY(10px)":"translateX(-10px)"};

  @media (prefers-reduced-motion: no-preference) {
    animation: ${({$direction:e="up"})=>e==="up"?"appearUp":"appearLeft"}
      ${({theme:e})=>e.motion.timings[200]}
      ${({theme:e})=>e.motion.easings.easeOutQuad} forwards;
  }

  @keyframes appearUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes appearLeft {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
`;var kj={STRAPI_AI_URL:"https://strapi-ai.apps.strapi.io"};const Dv="application/vnd.strapi.code",Zu=15,Cj=15*1024*1024,Lv=kj.STRAPI_AI_URL?.replace(/\/+$/,"")??"https://strapi-ai.apps.strapi.io",Sj=`${Lv}/schemas/chat`,Ej=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),Aj=e=>e.startsWith("data:image/"),gp=({src:e,alt:t,inferSize:n=!1,onLoad:r,onError:i,...s})=>{const[o,u]=W.useState(null),[c,p]=W.useState({}),[d,m]=W.useState(!0),[v,y]=W.useState(!1);W.useEffect(()=>{(async()=>{if(m(!0),y(!1),Aj(e)){u(e),m(!1);return}try{const k=new URL(e);if(["strapi-ai-staging.s3.us-east-1.amazonaws.com","strapi-ai-production.s3.us-east-1.amazonaws.com"].includes(k.hostname)){u(e),m(!1);return}}catch{}try{const k=await fetch(e);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const S=await k.blob(),A=await Ej(S);u(A),m(!1)}catch(k){console.error("Error converting image to base64:",k),y(!0),m(!1)}})()},[e,i]);const h=b=>{if(n){const{naturalWidth:k,naturalHeight:S}=b.currentTarget;p({width:k,height:S})}r&&r(b)};if(d)return g.jsx(Ce,{direction:"column",gap:2,alignItems:"center",width:"100%",children:g.jsx(op,{small:!0})});if(v)return g.jsx(Ce,{direction:"column",gap:2,alignItems:"center",width:"100%",children:g.jsx(nE,{width:24,height:24,fill:"danger600"})});const x={src:o||"",alt:t,onLoad:h,...s};return n&&!s.width&&!s.height&&c.width&&c.height&&(x.width=c.width,x.height=c.height),o?g.jsx("img",{...x}):null},oa={fadeIn:ki`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,scaleIn:ki`
    from {
      opacity: 0;
      transform: scale(0.7);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  `,slideUpIn:ki`
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideUpOut:ki`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  `,slideDownIn:ki`
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideDownOut:ki`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  `},Bv=W.createContext(void 0),Tj=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,"0")}`,jj=gt.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 500;
  pointer-events: auto; /* Explicitly enable pointer events */
  background: ${e=>Tj(e.theme.colors.neutral800,.2)};
`,Ij=gt.div`
  max-width: 80vw;
  max-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto; /* Explicitly enable pointer events */
  position: relative;
  animation: ${oa.scaleIn} 0.3s ease;
`,Rj=gt(gp)`
  max-width: 100%;
  max-height: 90vh;
  object-fit: contain;
  pointer-events: auto; /* Explicitly enable pointer events */
`,Oj=({src:e,alt:t,onClose:n})=>{const r=W.useRef(null),i=W.useRef(null);return W.useEffect(()=>{const s=o=>{if(o.key==="Escape")return o.preventDefault(),o.stopPropagation(),n?.(),o.stopImmediatePropagation(),o.cancelBubble=!0,!1};return window.addEventListener("keydown",s,!0),()=>window.removeEventListener("keydown",s,!0)},[n]),W.useEffect(()=>{const s=p=>{p.target===r.current&&(p.preventDefault(),p.stopPropagation(),n?.())},o=p=>{p.stopPropagation()},u=r.current,c=i.current;return u&&u.addEventListener("click",s),c&&c.addEventListener("click",o),()=>{u&&u.removeEventListener("click",s),c&&c.removeEventListener("click",o)}},[n]),rE.createPortal(g.jsx(jj,{ref:r,children:g.jsx(Ij,{ref:i,children:g.jsx(Rj,{src:e,alt:t})})}),document.body)},zj=({children:e,src:t,alt:n,onClose:r,defaultOpen:i=!1})=>{const[s,o]=W.useState(i),u=()=>o(!0),c=()=>{o(!1),r?.()};return g.jsxs(Bv.Provider,{value:{isOpen:s,open:u,close:c,src:t,alt:n},children:[e,s&&g.jsx(Oj,{src:t,alt:n,onClose:c})]})},Mj=()=>{const e=W.useContext(Bv);if(!e)throw new Error("useFullScreenImage must be used within a FullScreenImage.Root");return e},Fj=({children:e,asChild:t=!1})=>{const{open:n}=Mj(),r=i=>{i.stopPropagation(),n()};return t?g.jsx("div",{onClick:r,style:{cursor:"pointer",display:"contents"},children:e}):g.jsx("div",{onClick:r,style:{cursor:"pointer"},children:e})},Ns={Root:zj,Trigger:Fj},Uv=W.createContext({error:null}),Nj=()=>W.useContext(Uv),$j=gt(Re)`
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.neutral100};
  }
`,Pj=({children:e,error:t=null,minWidth:n,maxWidth:r})=>g.jsx(Uv.Provider,{value:{error:t},children:g.jsxs(Ce,{direction:"column",alignItems:"flex-start",gap:2,minWidth:n,maxWidth:r,children:[g.jsx($j,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px",padding:2,width:"100%",children:g.jsx(Ce,{gap:2,children:e})}),t&&g.jsx(Ie,{variant:"pi",textColor:"danger500",children:t})]})}),Dj=({children:e})=>{const{error:t}=Nj();return g.jsx(Ce,{alignItems:"center",justifyContent:"center",children:t?g.jsx(sv,{fill:"danger500"}):e})},Lj=({children:e})=>g.jsx(Re,{grow:1,children:g.jsx(Ie,{variant:"omega",ellipsis:!0,style:{userSelect:"none",maxWidth:"100px"},children:e})}),Bj=({onClick:e})=>g.jsx(Ce,{alignItems:"center",justifyContent:"center",shrink:0,onClick:e,children:g.jsx(sp,{fill:"neutral500"})}),oi={Root:Pj,Preview:Dj,Title:Lj,Remove:Bj},Uj=gt(gp)`
  width: 24px;
  height: 24px;
  object-fit: cover;
  border-radius: ${({theme:e})=>e.borderRadius};
`,Zj=({attachment:e,onRemove:t,...n})=>g.jsx(Ns.Root,{src:e.url,alt:e.filename||"image",children:g.jsx(Ns.Trigger,{asChild:!0,children:g.jsxs(oi.Root,{...n,children:[g.jsx(oi.Preview,{children:e.status==="loading"?g.jsx(op,{small:!0}):g.jsx(Uj,{src:e.url,alt:e.filename})}),g.jsx(oi.Title,{children:e.filename||"unknown"}),t&&g.jsx(oi.Remove,{onClick:t})]})})}),Hj=({attachment:e,onRemove:t,...n})=>g.jsxs(oi.Root,{...n,children:[g.jsx(oi.Preview,{children:e.status==="loading"?g.jsx(op,{small:!0}):g.jsx(lp,{height:24,width:24})}),g.jsx(oi.Title,{children:e.filename||"unknown"}),t&&g.jsx(oi.Remove,{onClick:t})]}),vp=({attachment:e,onRemove:t,...n})=>e.mediaType?.startsWith("image/")?g.jsx(Zj,{attachment:e,onRemove:t,...n}):e.mediaType===Dv?g.jsx(Hj,{attachment:e,onRemove:t,...n}):null,Wj=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function ma(e,t,n){const r=qj(e),{webkitRelativePath:i}=e,s=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&Ih(r,"path",s),Ih(r,"relativePath",s),r}function qj(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=Wj.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function Ih(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Vj=[".DS_Store","Thumbs.db"];function Gj(e){return zi(this,void 0,void 0,function*(){return $s(e)&&Kj(e.dataTransfer)?Qj(e.dataTransfer,e.type):Jj(e)?Yj(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Xj(e):[]})}function Kj(e){return $s(e)}function Jj(e){return $s(e)&&$s(e.target)}function $s(e){return typeof e=="object"&&e!==null}function Yj(e){return Sc(e.target.files).map(t=>ma(t))}function Xj(e){return zi(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>ma(n))})}function Qj(e,t){return zi(this,void 0,void 0,function*(){if(e.items){const n=Sc(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(eI));return Rh(Zv(r))}return Rh(Sc(e.files).map(n=>ma(n)))})}function Rh(e){return e.filter(t=>Vj.indexOf(t.name)===-1)}function Sc(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function eI(e){if(typeof e.webkitGetAsEntry!="function")return Oh(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Hv(t):Oh(e,t)}function Zv(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?Zv(n):[n]],[])}function Oh(e,t){return zi(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,ma(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return ma(r,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function tI(e){return zi(this,void 0,void 0,function*(){return e.isDirectory?Hv(e):nI(e)})}function Hv(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function s(){t.readEntries(o=>zi(this,void 0,void 0,function*(){if(o.length){const u=Promise.all(o.map(tI));i.push(u),s()}else try{const u=yield Promise.all(i);n(u)}catch(u){r(u)}}),o=>{r(o)})}s()})}function nI(e){return zi(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=ma(r,e.fullPath);t(i)},r=>{n(r)})})})}var Hu=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var u=o.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?s===u.replace(/\/.*$/,""):i===u})}return!0};function zh(e){return aI(e)||iI(e)||qv(e)||rI()}function rI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aI(e){if(Array.isArray(e))return Ec(e)}function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mh(Object(n),!0).forEach(function(r){Wv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function so(e,t){return lI(e)||sI(e,t)||qv(e,t)||oI()}function oI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qv(e,t){if(e){if(typeof e=="string")return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ec(e,t)}}function Ec(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sI(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,u;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(c){s=!0,u=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw u}}return r}}function lI(e){if(Array.isArray(e))return e}var uI=typeof Hu=="function"?Hu:Hu.default,cI="file-invalid-type",pI="file-too-large",dI="file-too-small",fI="too-many-files",hI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:cI,message:"File type must be ".concat(r)}},Nh=function(t){return{code:pI,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},$h=function(t){return{code:dI,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},mI={code:fI,message:"Too many files"};function Vv(e,t){var n=e.type==="application/x-moz-file"||uI(e,t);return[n,n?null:hI(t)]}function Gv(e,t,n){if(Si(e.size))if(Si(t)&&Si(n)){if(e.size>n)return[!1,Nh(n)];if(e.size<t)return[!1,$h(t)]}else{if(Si(t)&&e.size<t)return[!1,$h(t)];if(Si(n)&&e.size>n)return[!1,Nh(n)]}return[!0,null]}function Si(e){return e!=null}function gI(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,s=e.multiple,o=e.maxFiles,u=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(c){var p=Vv(c,n),d=so(p,1),m=d[0],v=Gv(c,r,i),y=so(v,1),h=y[0],x=u?u(c):null;return m&&h&&!x})}function Ps(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function xs(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ph(e){e.preventDefault()}function vI(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function yI(e){return e.indexOf("Edge/")!==-1}function bI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return vI(e)||yI(e)}function xr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return t.some(function(u){return!Ps(r)&&u&&u.apply(void 0,[r].concat(s)),Ps(r)})}}function xI(){return"showOpenFilePicker"in window}function _I(e){if(Si(e)){var t=Object.entries(e).filter(function(n){var r=so(n,2),i=r[0],s=r[1],o=!0;return Kv(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(Jv))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=so(r,2),s=i[0],o=i[1];return Fh(Fh({},n),{},Wv({},s,o))},{});return[{description:"Files",accept:t}]}return e}function wI(e){if(Si(e))return Object.entries(e).reduce(function(t,n){var r=so(n,2),i=r[0],s=r[1];return[].concat(zh(t),[i],zh(s))},[]).filter(function(t){return Kv(t)||Jv(t)}).join(",")}function kI(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function CI(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Kv(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Jv(e){return/^.*\.[\w]+$/.test(e)}var SI=["children"],EI=["open"],AI=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],TI=["refKey","onChange","onClick"];function jI(e){return OI(e)||RI(e)||Yv(e)||II()}function II(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OI(e){if(Array.isArray(e))return Ac(e)}function Wu(e,t){return FI(e)||MI(e,t)||Yv(e,t)||zI()}function zI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yv(e,t){if(e){if(typeof e=="string")return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ac(e,t)}}function Ac(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MI(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,u;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(c){s=!0,u=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw u}}return r}}function FI(e){if(Array.isArray(e))return e}function Dh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dh(Object(n),!0).forEach(function(r){Tc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ds(e,t){if(e==null)return{};var n=NI(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var yp=W.forwardRef(function(e,t){var n=e.children,r=Ds(e,SI),i=Qv(r),s=i.open,o=Ds(i,EI);return W.useImperativeHandle(t,function(){return{open:s}},[s]),iE.createElement(W.Fragment,null,n(qt(qt({},o),{},{open:s})))});yp.displayName="Dropzone";var Xv={disabled:!1,getFilesFromEvent:Gj,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};yp.defaultProps=Xv;yp.propTypes={children:Et.func,accept:Et.objectOf(Et.arrayOf(Et.string)),multiple:Et.bool,preventDropOnDocument:Et.bool,noClick:Et.bool,noKeyboard:Et.bool,noDrag:Et.bool,noDragEventsBubbling:Et.bool,minSize:Et.number,maxSize:Et.number,maxFiles:Et.number,disabled:Et.bool,getFilesFromEvent:Et.func,onFileDialogCancel:Et.func,onFileDialogOpen:Et.func,useFsAccessApi:Et.bool,autoFocus:Et.bool,onDragEnter:Et.func,onDragLeave:Et.func,onDragOver:Et.func,onDrop:Et.func,onDropAccepted:Et.func,onDropRejected:Et.func,onError:Et.func,validator:Et.func};var jc={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Qv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=qt(qt({},Xv),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,u=t.multiple,c=t.maxFiles,p=t.onDragEnter,d=t.onDragLeave,m=t.onDragOver,v=t.onDrop,y=t.onDropAccepted,h=t.onDropRejected,x=t.onFileDialogCancel,b=t.onFileDialogOpen,k=t.useFsAccessApi,S=t.autoFocus,A=t.preventDropOnDocument,I=t.noClick,F=t.noKeyboard,O=t.noDrag,D=t.noDragEventsBubbling,B=t.onError,K=t.validator,V=W.useMemo(function(){return wI(n)},[n]),L=W.useMemo(function(){return _I(n)},[n]),Q=W.useMemo(function(){return typeof b=="function"?b:Lh},[b]),M=W.useMemo(function(){return typeof x=="function"?x:Lh},[x]),Y=W.useRef(null),w=W.useRef(null),P=W.useReducer($I,jc),xe=Wu(P,2),oe=xe[0],ue=xe[1],z=oe.isFocused,se=oe.isFileDialogActive,X=W.useRef(typeof window<"u"&&window.isSecureContext&&k&&xI()),R=function(){!X.current&&se&&setTimeout(function(){if(w.current){var pe=w.current.files;pe.length||(ue({type:"closeDialog"}),M())}},300)};W.useEffect(function(){return window.addEventListener("focus",R,!1),function(){window.removeEventListener("focus",R,!1)}},[w,se,M,X]);var Te=W.useRef([]),ke=function(pe){Y.current&&Y.current.contains(pe.target)||(pe.preventDefault(),Te.current=[])};W.useEffect(function(){return A&&(document.addEventListener("dragover",Ph,!1),document.addEventListener("drop",ke,!1)),function(){A&&(document.removeEventListener("dragover",Ph),document.removeEventListener("drop",ke))}},[Y,A]),W.useEffect(function(){return!r&&S&&Y.current&&Y.current.focus(),function(){}},[Y,S,r]);var ae=W.useCallback(function(re){B?B(re):console.error(re)},[B]),Ye=W.useCallback(function(re){re.preventDefault(),re.persist(),G(re),Te.current=[].concat(jI(Te.current),[re.target]),xs(re)&&Promise.resolve(i(re)).then(function(pe){if(!(Ps(re)&&!D)){var U=pe.length,ie=U>0&&gI({files:pe,accept:V,minSize:o,maxSize:s,multiple:u,maxFiles:c,validator:K}),we=U>0&&!ie;ue({isDragAccept:ie,isDragReject:we,isDragActive:!0,type:"setDraggedFiles"}),p&&p(re)}}).catch(function(pe){return ae(pe)})},[i,p,ae,D,V,o,s,u,c,K]),Xe=W.useCallback(function(re){re.preventDefault(),re.persist(),G(re);var pe=xs(re);if(pe&&re.dataTransfer)try{re.dataTransfer.dropEffect="copy"}catch{}return pe&&m&&m(re),!1},[m,D]),he=W.useCallback(function(re){re.preventDefault(),re.persist(),G(re);var pe=Te.current.filter(function(ie){return Y.current&&Y.current.contains(ie)}),U=pe.indexOf(re.target);U!==-1&&pe.splice(U,1),Te.current=pe,!(pe.length>0)&&(ue({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),xs(re)&&d&&d(re))},[Y,d,D]),Oe=W.useCallback(function(re,pe){var U=[],ie=[];re.forEach(function(we){var Ae=Vv(we,V),De=Wu(Ae,2),pt=De[0],_t=De[1],ft=Gv(we,o,s),Qe=Wu(ft,2),an=Qe[0],ht=Qe[1],kt=K?K(we):null;if(pt&&an&&!kt)U.push(we);else{var ot=[_t,ht];kt&&(ot=ot.concat(kt)),ie.push({file:we,errors:ot.filter(function(cr){return cr})})}}),(!u&&U.length>1||u&&c>=1&&U.length>c)&&(U.forEach(function(we){ie.push({file:we,errors:[mI]})}),U.splice(0)),ue({acceptedFiles:U,fileRejections:ie,isDragReject:ie.length>0,type:"setFiles"}),v&&v(U,ie,pe),ie.length>0&&h&&h(ie,pe),U.length>0&&y&&y(U,pe)},[ue,u,V,o,s,c,v,y,h,K]),ge=W.useCallback(function(re){re.preventDefault(),re.persist(),G(re),Te.current=[],xs(re)&&Promise.resolve(i(re)).then(function(pe){Ps(re)&&!D||Oe(pe,re)}).catch(function(pe){return ae(pe)}),ue({type:"reset"})},[i,Oe,ae,D]),je=W.useCallback(function(){if(X.current){ue({type:"openDialog"}),Q();var re={multiple:u,types:L};window.showOpenFilePicker(re).then(function(pe){return i(pe)}).then(function(pe){Oe(pe,null),ue({type:"closeDialog"})}).catch(function(pe){kI(pe)?(M(pe),ue({type:"closeDialog"})):CI(pe)?(X.current=!1,w.current?(w.current.value=null,w.current.click()):ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ae(pe)});return}w.current&&(ue({type:"openDialog"}),Q(),w.current.value=null,w.current.click())},[ue,Q,M,k,Oe,ae,L,u]),Ve=W.useCallback(function(re){!Y.current||!Y.current.isEqualNode(re.target)||(re.key===" "||re.key==="Enter"||re.keyCode===32||re.keyCode===13)&&(re.preventDefault(),je())},[Y,je]),We=W.useCallback(function(){ue({type:"focus"})},[]),E=W.useCallback(function(){ue({type:"blur"})},[]),le=W.useCallback(function(){I||(bI()?setTimeout(je,0):je())},[I,je]),H=function(pe){return r?null:pe},$=function(pe){return F?null:H(pe)},C=function(pe){return O?null:H(pe)},G=function(pe){D&&pe.stopPropagation()},me=W.useMemo(function(){return function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=re.refKey,U=pe===void 0?"ref":pe,ie=re.role,we=re.onKeyDown,Ae=re.onFocus,De=re.onBlur,pt=re.onClick,_t=re.onDragEnter,ft=re.onDragOver,Qe=re.onDragLeave,an=re.onDrop,ht=Ds(re,AI);return qt(qt(Tc({onKeyDown:$(xr(we,Ve)),onFocus:$(xr(Ae,We)),onBlur:$(xr(De,E)),onClick:H(xr(pt,le)),onDragEnter:C(xr(_t,Ye)),onDragOver:C(xr(ft,Xe)),onDragLeave:C(xr(Qe,he)),onDrop:C(xr(an,ge)),role:typeof ie=="string"&&ie!==""?ie:"presentation"},U,Y),!r&&!F?{tabIndex:0}:{}),ht)}},[Y,Ve,We,E,le,Ye,Xe,he,ge,F,O,r]),ye=W.useCallback(function(re){re.stopPropagation()},[]),te=W.useMemo(function(){return function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=re.refKey,U=pe===void 0?"ref":pe,ie=re.onChange,we=re.onClick,Ae=Ds(re,TI),De=Tc({accept:V,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:H(xr(ie,ge)),onClick:H(xr(we,ye)),tabIndex:-1},U,w);return qt(qt({},De),Ae)}},[w,n,u,ge,r]);return qt(qt({},oe),{},{isFocused:z&&!r,getRootProps:me,getInputProps:te,rootRef:Y,inputRef:w,open:H(je)})}function $I(e,t){switch(t.type){case"focus":return qt(qt({},e),{},{isFocused:!0});case"blur":return qt(qt({},e),{},{isFocused:!1});case"openDialog":return qt(qt({},jc),{},{isFileDialogActive:!0});case"closeDialog":return qt(qt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return qt(qt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return qt(qt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return qt({},jc);default:return e}}function Lh(){}const PI=({onAddFiles:e,isEnabled:t=!1})=>{const n=W.useCallback(async r=>{if(!t)return;const i=r.clipboardData?.items;if(!i||i.length===0)return;const s=[];for(const o of i)if(o.kind==="file"){const u=o.getAsFile();u&&u.type.startsWith("image/")&&s.push(u)}s.length>0&&(e(s),r.preventDefault())},[t,e]);W.useEffect(()=>(document.addEventListener("paste",n),()=>{document.removeEventListener("paste",n)}),[n])},ey=W.createContext({}),DI=()=>W.useContext(ey),LI=({children:e,isEnabled:t=!0,onAddFiles:n=()=>{},accept:r={"image/*":[]},...i})=>{PI({onAddFiles:n,isEnabled:t});const{getRootProps:s,isDragActive:o}=Qv({onDrop:n,noClick:!0,noKeyboard:!0,accept:r});return g.jsx(ey.Provider,{value:{isEnabled:t,isDragActive:o,onAddFiles:n},children:g.jsx(Ce,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...s(),...i,children:e})})},BI=({error:e,title:t,...n})=>{const{isEnabled:r,isDragActive:i}=DI();if(!i)return null;const s=t||"Drop images here";return g.jsxs(Ce,{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2,cursor:r?"pointer":"not-allowed",width:"100%",height:"100%",borderStyle:"dashed",borderColor:e?"danger600":"primary500",background:e?"danger100":"primary100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,...n,children:[g.jsx(Re,{width:"24px",height:"24px",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M19.5 13.572L12 6.072L4.5 13.572",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M12 6.072V20.072",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M3.9998 20.072H20.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),g.jsxs(Ce,{direction:"column",alignItems:"center",gap:2,children:[g.jsx(Ie,{variant:"omega",textColor:"neutral600",textAlign:"center",children:s}),e&&g.jsx(Ie,{variant:"pi",textColor:"danger600",children:e})]})]})},ty={Root:LI,Area:BI},ny=W.createContext({size:"md",position:"bottom-right",isOpen:!1,onToggle:()=>{}}),Bh={sm:{width:"350px",height:"500px"},md:{width:"480px",height:"600px"},lg:{width:"600px",height:"700px"}},UI={"bottom-right":{bottom:4,right:4},"bottom-left":{bottom:4,left:4},"top-right":{top:4,right:4},"top-left":{top:4,left:4}},ZI=gt(Re)`
  position: fixed;
  display: flex;
  flex-direction: column;
  z-index: 11;
  align-items: ${({$position:e})=>e.includes("right")?"flex-end":"flex-start"};
  ${({$position:e,theme:t})=>Object.entries(UI[e]).reduce((n,[r,i])=>({...n,[r]:t.spaces[i]}),{})}
`,HI=gt(Re)`
  width: ${({$size:e})=>Bh[e].width};
  max-height: 85vh;
  max-width: 85vw;
  display: flex;
  flex-direction: column;
  height: ${({$size:e})=>Bh[e].height};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: 200ms;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);

    &[data-state='open'] {
      animation-name: ${({$position:e})=>e.startsWith("top")?oa.slideDownIn:oa.slideUpIn};
    }

    &[data-state='closed'] {
      animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
      animation-name: ${({$position:e})=>e.startsWith("top")?oa.slideDownOut:oa.slideUpOut};
    }
  }
`,WI=({children:e,size:t="md",position:n="bottom-right",isOpen:r=!1,onToggle:i=()=>{},toggleIcon:s})=>g.jsx(ny.Provider,{value:{size:t,position:n,isOpen:r,onToggle:i},children:g.jsxs(ZI,{$position:n,children:[r?g.jsx(HI,{$size:t,$position:n,background:"neutral0",shadow:"popupShadow",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px","data-state":r?"open":"closed",children:e}):null,s&&!r&&s]})}),qI=({children:e})=>g.jsx(Re,{padding:[2,2,2,4],borderColor:"neutral150",borderStyle:"solid",borderWidth:"0 0 1px 0",children:g.jsx(Ce,{justifyContent:"space-between",alignItems:"center",children:e})}),VI=({children:e})=>g.jsx(Re,{padding:4,flex:"1",overflow:"auto",children:e}),GI=({children:e})=>g.jsx(Re,{padding:4,children:e}),KI=({label:e})=>{const{onToggle:t}=JI();return g.jsx(sr,{onClick:t,variant:"ghost",label:e||"Close",children:g.jsx(up,{})})},Wa={Root:WI,Header:qI,Body:VI,Footer:GI,Close:KI},JI=()=>W.useContext(ny),ry=e=>g.jsxs("svg",{width:e.width||16,height:e.height||16,viewBox:"0 0 200 300",xmlns:"http://www.w3.org/2000/svg","aria-label":"Figma logo",style:{display:"block",margin:"0 auto",...e.style},...e,children:[g.jsx("title",{children:"Figma.logo"}),g.jsx("desc",{children:"Created using Figma"}),g.jsx("path",{d:"M50 300c27.6 0 50-22.4 50-50v-50H50c-27.6 0-50 22.4-50 50s22.4 50 50 50z",fill:"#0acf83"}),g.jsx("path",{d:"M50 200c-27.6 0-50-22.4-50-50s22.4-50 50-50h50v100H50z",fill:"#a259ff"}),g.jsx("path",{d:"M0 50C0 22.4 22.4 0 50 0h50v100H50C22.4 100 0 77.6 0 50z",fill:"#f24e1e"}),g.jsx("path",{d:"M100 0h50c27.6 0 50 22.4 50 50s-22.4 50-50 50h-50V0z",fill:"#ff7262"}),g.jsx("path",{d:"M200 150c0 27.6-22.4 50-50 50s-50-22.4-50-50 22.4-50 50-50 50 22.4 50 50z",fill:"#1abcfe"})]}),YI=e=>g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:g.jsx("rect",{x:"2",y:"2",width:"11",height:"11",rx:"2",fill:"white"})}),XI=W.createContext({}),QI=({children:e,isLoading:t=!1,...n})=>g.jsx(XI.Provider,{value:{isLoading:t},children:g.jsx(Ce,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...n,children:e})}),eR=({children:e,...t})=>g.jsx(Re,{position:"absolute",bottom:"102%",left:0,right:0,background:"neutral0",width:"100%",...t,children:e}),tR=gt(Re)`
  padding: ${({theme:e})=>e.spaces[3]} 0};
`,nR=({children:e,gap:t=2,...n})=>g.jsx(Ce,{gap:t,wrap:"wrap",paddingBottom:2,maxHeight:"150px",overflow:"auto",...n,children:e}),rR=gt(Re)`
  outline: none;
  box-shadow: none;
  transition-property: border-color, box-shadow, fill;
  transition-duration: 0.2s;

  &:focus-within {
    border: 1px solid
      ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600};
    box-shadow: ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600}
      0px 0px 0px 2px;
  }
`,iR=({children:e,disclaimer:t,error:n=!1,...r})=>g.jsxs(rR,{background:"neutral0",hasRadius:!0,borderColor:n?"danger600":"neutral200",borderWidth:"1px",borderStyle:"solid",width:"100%",$hasError:n,...r,children:[g.jsx(Re,{padding:3,children:e}),t&&g.jsx(Re,{background:"neutral100",padding:[2,3],borderColor:"neutral200",borderWidth:"1px 0 0 0",borderStyle:"solid",borderRadius:"0 0 4px 4px",children:g.jsx(Ie,{variant:"pi",textColor:"neutral600",children:t})})]}),aR=({children:e})=>g.jsx(Ce,{justifyContent:"flex-end",alignItems:"center",gap:2,children:e}),Ci={Root:QI,Header:eR,HeaderItem:tR,Attachments:nR,Content:iR,Actions:aR};function oR(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const sR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uR={};function Uh(e,t){return(uR.jsx?lR:sR).test(e)}const cR=/[ \t\n\f\r]/g;function pR(e){return typeof e=="object"?e.type==="text"?Zh(e.value):!1:Zh(e)}function Zh(e){return e.replace(cR,"")===""}class bo{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}bo.prototype.normal={};bo.prototype.property={};bo.prototype.space=void 0;function iy(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new bo(n,r,t)}function Ic(e){return e.toLowerCase()}class Mn{constructor(t,n){this.attribute=n,this.property=t}}Mn.prototype.attribute="";Mn.prototype.booleanish=!1;Mn.prototype.boolean=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.defined=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.number=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.property="";Mn.prototype.spaceSeparated=!1;Mn.prototype.space=void 0;let dR=0;const it=Ni(),nn=Ni(),Rc=Ni(),Se=Ni(),Tt=Ni(),pa=Ni(),Dn=Ni();function Ni(){return 2**++dR}const Oc=Object.freeze(Object.defineProperty({__proto__:null,boolean:it,booleanish:nn,commaOrSpaceSeparated:Dn,commaSeparated:pa,number:Se,overloadedBoolean:Rc,spaceSeparated:Tt},Symbol.toStringTag,{value:"Module"})),qu=Object.keys(Oc);class bp extends Mn{constructor(t,n,r,i){let s=-1;if(super(t,n),Hh(this,"space",i),typeof r=="number")for(;++s<qu.length;){const o=qu[s];Hh(this,qu[s],(r&Oc[o])===Oc[o])}}}bp.prototype.defined=!0;function Hh(e,t,n){n&&(e[t]=n)}function xa(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new bp(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Ic(r)]=r,n[Ic(s.attribute)]=r}return new bo(t,n,e.space)}const ay=xa({properties:{ariaActiveDescendant:null,ariaAtomic:nn,ariaAutoComplete:null,ariaBusy:nn,ariaChecked:nn,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:Tt,ariaCurrent:null,ariaDescribedBy:Tt,ariaDetails:null,ariaDisabled:nn,ariaDropEffect:Tt,ariaErrorMessage:null,ariaExpanded:nn,ariaFlowTo:Tt,ariaGrabbed:nn,ariaHasPopup:null,ariaHidden:nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tt,ariaLevel:Se,ariaLive:null,ariaModal:nn,ariaMultiLine:nn,ariaMultiSelectable:nn,ariaOrientation:null,ariaOwns:Tt,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:nn,ariaReadOnly:nn,ariaRelevant:null,ariaRequired:nn,ariaRoleDescription:Tt,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:nn,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function oy(e,t){return t in e?e[t]:t}function sy(e,t){return oy(e,t.toLowerCase())}const fR=xa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:pa,acceptCharset:Tt,accessKey:Tt,action:null,allow:null,allowFullScreen:it,allowPaymentRequest:it,allowUserMedia:it,alt:null,as:null,async:it,autoCapitalize:null,autoComplete:Tt,autoFocus:it,autoPlay:it,blocking:Tt,capture:null,charSet:null,checked:it,cite:null,className:Tt,cols:Se,colSpan:null,content:null,contentEditable:nn,controls:it,controlsList:Tt,coords:Se|pa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:it,defer:it,dir:null,dirName:null,disabled:it,download:Rc,draggable:nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:it,formTarget:null,headers:Tt,height:Se,hidden:Rc,high:Se,href:null,hrefLang:null,htmlFor:Tt,httpEquiv:Tt,id:null,imageSizes:null,imageSrcSet:null,inert:it,inputMode:null,integrity:null,is:null,isMap:it,itemId:null,itemProp:Tt,itemRef:Tt,itemScope:it,itemType:Tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:it,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:it,muted:it,name:null,nonce:null,noModule:it,noValidate:it,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:it,optimum:Se,pattern:null,ping:Tt,placeholder:null,playsInline:it,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:it,referrerPolicy:null,rel:Tt,required:it,reversed:it,rows:Se,rowSpan:Se,sandbox:Tt,scope:null,scoped:it,seamless:it,selected:it,shadowRootClonable:it,shadowRootDelegatesFocus:it,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:it,useMap:null,value:nn,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tt,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:it,declare:it,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:it,noHref:it,noShade:it,noWrap:it,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:nn,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:it,disableRemotePlayback:it,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:sy}),hR=xa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Dn,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:Tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:it,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:pa,g2:pa,glyphName:pa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:Dn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Dn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Dn,rev:Dn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Dn,requiredFeatures:Dn,requiredFonts:Dn,requiredFormats:Dn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:Dn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Dn,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Dn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:oy}),ly=xa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),uy=xa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:sy}),cy=xa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),mR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gR=/[A-Z]/g,Wh=/-[a-z]/g,vR=/^data[-\w.:]+$/i;function yR(e,t){const n=Ic(t);let r=t,i=Mn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vR.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Wh,xR);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Wh.test(s)){let o=s.replace(gR,bR);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=bp}return new i(r,t)}function bR(e){return"-"+e.toLowerCase()}function xR(e){return e.charAt(1).toUpperCase()}const _R=iy([ay,fR,ly,uy,cy],"html"),xp=iy([ay,hR,ly,uy,cy],"svg");function wR(e){return e.join(" ").trim()}var _p={},qh=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,kR=/\n/g,CR=/^\s*/,SR=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ER=/^:\s*/,AR=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,TR=/^[;\s]*/,jR=/^\s+|\s+$/g,IR=`
`,Vh="/",Gh="*",Ei="",RR="comment",OR="declaration";function zR(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(h){var x=h.match(kR);x&&(n+=x.length);var b=h.lastIndexOf(IR);r=~b?h.length-b:r+h.length}function s(){var h={line:n,column:r};return function(x){return x.position=new o(h),p(),x}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function u(h){var x=new Error(t.source+":"+n+":"+r+": "+h);if(x.reason=h,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function c(h){var x=h.exec(e);if(x){var b=x[0];return i(b),e=e.slice(b.length),x}}function p(){c(CR)}function d(h){var x;for(h=h||[];x=m();)x!==!1&&h.push(x);return h}function m(){var h=s();if(!(Vh!=e.charAt(0)||Gh!=e.charAt(1))){for(var x=2;Ei!=e.charAt(x)&&(Gh!=e.charAt(x)||Vh!=e.charAt(x+1));)++x;if(x+=2,Ei===e.charAt(x-1))return u("End of comment missing");var b=e.slice(2,x-2);return r+=2,i(b),e=e.slice(x),r+=2,h({type:RR,comment:b})}}function v(){var h=s(),x=c(SR);if(x){if(m(),!c(ER))return u("property missing ':'");var b=c(AR),k=h({type:OR,property:Kh(x[0].replace(qh,Ei)),value:b?Kh(b[0].replace(qh,Ei)):Ei});return c(TR),k}}function y(){var h=[];d(h);for(var x;x=v();)x!==!1&&(h.push(x),d(h));return h}return p(),y()}function Kh(e){return e?e.replace(jR,Ei):Ei}var MR=zR,FR=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_p,"__esModule",{value:!0});_p.default=$R;const NR=FR(MR);function $R(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,NR.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:u}=s;i?t(o,u,s):u&&(n=n||{},n[o]=u)}),n}var sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.camelCase=void 0;var PR=/^--[a-zA-Z0-9_-]+$/,DR=/-([a-z])/g,LR=/^[^-]+$/,BR=/^-(webkit|moz|ms|o|khtml)-/,UR=/^-(ms)-/,ZR=function(e){return!e||LR.test(e)||PR.test(e)},HR=function(e,t){return t.toUpperCase()},Jh=function(e,t){return"".concat(t,"-")},WR=function(e,t){return t===void 0&&(t={}),ZR(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(UR,Jh):e=e.replace(BR,Jh),e.replace(DR,HR))};sl.camelCase=WR;var qR=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},VR=qR(_p),GR=sl;function zc(e,t){var n={};return!e||typeof e!="string"||(0,VR.default)(e,function(r,i){r&&i&&(n[(0,GR.camelCase)(r,t)]=i)}),n}zc.default=zc;var KR=zc;const JR=Mi(KR),py=dy("end"),wp=dy("start");function dy(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function YR(e){const t=wp(e),n=py(e);if(t&&n)return{start:t,end:n}}function eo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Yh(e.position):"start"in e||"end"in e?Yh(e):"line"in e||"column"in e?Mc(e):""}function Mc(e){return Xh(e&&e.line)+":"+Xh(e&&e.column)}function Yh(e){return Mc(e&&e.start)+"-"+Mc(e&&e.end)}function Xh(e){return e&&typeof e=="number"?e:1}class bn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=eo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}bn.prototype.file="";bn.prototype.name="";bn.prototype.reason="";bn.prototype.message="";bn.prototype.stack="";bn.prototype.column=void 0;bn.prototype.line=void 0;bn.prototype.ancestors=void 0;bn.prototype.cause=void 0;bn.prototype.fatal=void 0;bn.prototype.place=void 0;bn.prototype.ruleId=void 0;bn.prototype.source=void 0;const kp={}.hasOwnProperty,XR=new Map,QR=/[A-Z]/g,eO=new Set(["table","tbody","thead","tfoot","tr"]),tO=new Set(["td","th"]),fy="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nO(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=cO(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=uO(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?xp:_R,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=hy(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function hy(e,t,n){if(t.type==="element")return rO(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return iO(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return oO(e,t,n);if(t.type==="mdxjsEsm")return aO(e,t);if(t.type==="root")return sO(e,t,n);if(t.type==="text")return lO(e,t)}function rO(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=xp,e.schema=i),e.ancestors.push(t);const s=gy(e,t.tagName,!1),o=pO(e,t);let u=Sp(e,t);return eO.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!pR(c):!0})),my(e,o,s,t),Cp(o,u),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function iO(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}lo(e,t.position)}function aO(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);lo(e,t.position)}function oO(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=xp,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:gy(e,t.name,!0),o=dO(e,t),u=Sp(e,t);return my(e,o,s,t),Cp(o,u),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function sO(e,t,n){const r={};return Cp(r,Sp(e,t)),e.create(t,e.Fragment,r,n)}function lO(e,t){return t.value}function my(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Cp(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function uO(e,t,n){return r;function r(i,s,o,u){const p=Array.isArray(o.children)?n:t;return u?p(s,o,u):p(s,o)}}function cO(e,t){return n;function n(r,i,s,o){const u=Array.isArray(s.children),c=wp(r);return t(i,s,o,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function pO(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&kp.call(t.properties,i)){const s=fO(e,i,t.properties[i]);if(s){const[o,u]=s;e.tableCellAlignToStyle&&o==="align"&&typeof u=="string"&&tO.has(t.tagName)?r=u:n[o]=u}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function dO(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const u=o.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else lo(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,s=e.evaluater.evaluateExpression(u.expression)}else lo(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Sp(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:XR;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const p=i.get(c)||0;o=c+"-"+p,i.set(c,p+1)}}const u=hy(e,s,o);u!==void 0&&n.push(u)}return n}function fO(e,t,n){const r=yR(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?oR(n):wR(n)),r.property==="style"){let i=typeof n=="object"?n:hO(e,String(n));return e.stylePropertyNameCase==="css"&&(i=mO(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?mR[r.property]||r.property:r.attribute,n]}}function hO(e,t){try{return JR(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new bn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=fy+"#cannot-parse-style-attribute",i}}function gy(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const u=Uh(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}r=o}else r=Uh(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return kp.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);lo(e)}function lo(e,t){const n=new bn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=fy+"#cannot-handle-mdx-estrees-without-createevaluater",n}function mO(e){const t={};let n;for(n in e)kp.call(e,n)&&(t[gO(n)]=e[n]);return t}function gO(e){let t=e.replace(QR,vO);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function vO(e){return"-"+e.toLowerCase()}const Vu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yO={};function bO(e,t){const n=yO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vy(e,r,i)}function vy(e,t,n){if(xO(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Qh(e.children,t,n)}return Array.isArray(e)?Qh(e,t,n):""}function Qh(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=vy(e[i],t,n);return r.join("")}function xO(e){return!!(e&&typeof e=="object")}const em=document.createElement("i");function Ep(e){const t="&"+e+";";em.innerHTML=t;const n=em.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Er(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function ar(e,t){return e.length>0?(Er(e,e.length,0,t),e):t}const tm={}.hasOwnProperty;function _O(e){const t={};let n=-1;for(;++n<e.length;)wO(t,e[n]);return t}function wO(e,t){let n;for(n in t){const i=(tm.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){tm.call(i,o)||(i[o]=[]);const u=s[o];kO(i[o],Array.isArray(u)?u:u?[u]:[])}}}function kO(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Er(e,0,0,r)}function yy(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function da(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Sr=ci(/[A-Za-z]/),Zn=ci(/[\dA-Za-z]/),CO=ci(/[#-'*+\--9=?A-Z^-~]/);function Fc(e){return e!==null&&(e<32||e===127)}const Nc=ci(/\d/),SO=ci(/[\dA-Fa-f]/),EO=ci(/[!-/:-@[-`{-~]/);function Ke(e){return e!==null&&e<-2}function zn(e){return e!==null&&(e<0||e===32)}function xt(e){return e===-2||e===-1||e===32}const AO=ci(new RegExp("\\p{P}|\\p{S}","u")),TO=ci(/\s/);function ci(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function _a(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Zn(e.charCodeAt(n+1))&&Zn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const u=e.charCodeAt(n+1);s<56320&&u>56319&&u<57344?(o=String.fromCharCode(s,u),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function It(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(c){return xt(c)?(e.enter(n),u(c)):t(c)}function u(c){return xt(c)&&s++<i?(e.consume(c),u):(e.exit(n),t(c))}}const jO={tokenize:IO};function IO(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),It(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),s(u)}function s(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(u)}function o(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Ke(u)?(e.consume(u),e.exit("chunkText"),s):(e.consume(u),o)}}const RO={tokenize:OO},nm={tokenize:zO};function OO(e){const t=this,n=[];let r=0,i,s,o;return u;function u(A){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,c,p)(A)}return p(A)}function c(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&S();const I=t.events.length;let F=I,O;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){O=t.events[F][1].end;break}k(r);let D=I;for(;D<t.events.length;)t.events[D][1].end={...O},D++;return Er(t.events,F+1,0,t.events.slice(I)),t.events.length=D,p(A)}return u(A)}function p(A){if(r===n.length){if(!i)return v(A);if(i.currentConstruct&&i.currentConstruct.concrete)return h(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(nm,d,m)(A)}function d(A){return i&&S(),k(r),v(A)}function m(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(A)}function v(A){return t.containerState={},e.attempt(nm,y,h)(A)}function y(A){return r++,n.push([t.currentConstruct,t.containerState]),v(A)}function h(A){if(A===null){i&&S(),k(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(A)}function x(A){if(A===null){b(e.exit("chunkFlow"),!0),k(0),e.consume(A);return}return Ke(A)?(e.consume(A),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(A),x)}function b(A,I){const F=t.sliceStream(A);if(I&&F.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(F),t.parser.lazy[A.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<o&&(!i.events[O][1].end||i.events[O][1].end.offset>o))return;const D=t.events.length;let B=D,K,V;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(K){V=t.events[B][1].end;break}K=!0}for(k(r),O=D;O<t.events.length;)t.events[O][1].end={...V},O++;Er(t.events,B+1,0,t.events.slice(D)),t.events.length=O}}function k(A){let I=n.length;for(;I-- >A;){const F=n[I];t.containerState=F[1],F[0].exit.call(t,e)}n.length=A}function S(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function zO(e,t,n){return It(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function rm(e){if(e===null||zn(e)||TO(e))return 1;if(AO(e))return 2}function Ap(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const $c={name:"attention",resolveAll:MO,tokenize:FO};function MO(e,t){let n=-1,r,i,s,o,u,c,p,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},v={...e[n][1].start};im(m,-c),im(v,c),o={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...u.end}},e[r][1].end={...o.start},e[n][1].start={...u.end},p=[],e[r][1].end.offset-e[r][1].start.offset&&(p=ar(p,[["enter",e[r][1],t],["exit",e[r][1],t]])),p=ar(p,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),p=ar(p,Ap(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),p=ar(p,[["exit",s,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,p=ar(p,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Er(e,r-1,n-r+3,p),n=r+p.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function FO(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=rm(r);let s;return o;function o(c){return s=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===s)return e.consume(c),u;const p=e.exit("attentionSequence"),d=rm(c),m=!d||d===2&&i||n.includes(c),v=!i||i===2&&d||n.includes(r);return p._open=!!(s===42?m:m&&(i||!v)),p._close=!!(s===42?v:v&&(d||!m)),t(c)}}function im(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const NO={name:"autolink",tokenize:$O};function $O(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return Sr(y)?(e.consume(y),o):y===64?n(y):p(y)}function o(y){return y===43||y===45||y===46||Zn(y)?(r=1,u(y)):p(y)}function u(y){return y===58?(e.consume(y),r=0,c):(y===43||y===45||y===46||Zn(y))&&r++<32?(e.consume(y),u):(r=0,p(y))}function c(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Fc(y)?n(y):(e.consume(y),c)}function p(y){return y===64?(e.consume(y),d):CO(y)?(e.consume(y),p):n(y)}function d(y){return Zn(y)?m(y):n(y)}function m(y){return y===46?(e.consume(y),r=0,d):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):v(y)}function v(y){if((y===45||Zn(y))&&r++<63){const h=y===45?v:m;return e.consume(y),h}return n(y)}}const ll={partial:!0,tokenize:PO};function PO(e,t,n){return r;function r(s){return xt(s)?It(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ke(s)?t(s):n(s)}}const by={continuation:{tokenize:LO},exit:BO,name:"blockQuote",tokenize:DO};function DO(e,t,n){const r=this;return i;function i(o){if(o===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return xt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function LO(e,t,n){const r=this;return i;function i(o){return xt(o)?It(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(by,t,n)(o)}}function BO(e){e.exit("blockQuote")}const xy={name:"characterEscape",tokenize:UO};function UO(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return EO(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const _y={name:"characterReference",tokenize:ZO};function ZO(e,t,n){const r=this;let i=0,s,o;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),c}function c(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),p):(e.enter("characterReferenceValue"),s=31,o=Zn,d(m))}function p(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=SO,d):(e.enter("characterReferenceValue"),s=7,o=Nc,d(m))}function d(m){if(m===59&&i){const v=e.exit("characterReferenceValue");return o===Zn&&!Ep(r.sliceSerialize(v))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(m)&&i++<s?(e.consume(m),d):n(m)}}const am={partial:!0,tokenize:WO},om={concrete:!0,name:"codeFenced",tokenize:HO};function HO(e,t,n){const r=this,i={partial:!0,tokenize:F};let s=0,o=0,u;return c;function c(O){return p(O)}function p(O){const D=r.events[r.events.length-1];return s=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,u=O,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(O)}function d(O){return O===u?(o++,e.consume(O),d):o<3?n(O):(e.exit("codeFencedFenceSequence"),xt(O)?It(e,m,"whitespace")(O):m(O))}function m(O){return O===null||Ke(O)?(e.exit("codeFencedFence"),r.interrupt?t(O):e.check(am,x,I)(O)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(O))}function v(O){return O===null||Ke(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(O)):xt(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),It(e,y,"whitespace")(O)):O===96&&O===u?n(O):(e.consume(O),v)}function y(O){return O===null||Ke(O)?m(O):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(O))}function h(O){return O===null||Ke(O)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(O)):O===96&&O===u?n(O):(e.consume(O),h)}function x(O){return e.attempt(i,I,b)(O)}function b(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),k}function k(O){return s>0&&xt(O)?It(e,S,"linePrefix",s+1)(O):S(O)}function S(O){return O===null||Ke(O)?e.check(am,x,I)(O):(e.enter("codeFlowValue"),A(O))}function A(O){return O===null||Ke(O)?(e.exit("codeFlowValue"),S(O)):(e.consume(O),A)}function I(O){return e.exit("codeFenced"),t(O)}function F(O,D,B){let K=0;return V;function V(w){return O.enter("lineEnding"),O.consume(w),O.exit("lineEnding"),L}function L(w){return O.enter("codeFencedFence"),xt(w)?It(O,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):Q(w)}function Q(w){return w===u?(O.enter("codeFencedFenceSequence"),M(w)):B(w)}function M(w){return w===u?(K++,O.consume(w),M):K>=o?(O.exit("codeFencedFenceSequence"),xt(w)?It(O,Y,"whitespace")(w):Y(w)):B(w)}function Y(w){return w===null||Ke(w)?(O.exit("codeFencedFence"),D(w)):B(w)}}}function WO(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Gu={name:"codeIndented",tokenize:VO},qO={partial:!0,tokenize:GO};function VO(e,t,n){const r=this;return i;function i(p){return e.enter("codeIndented"),It(e,s,"linePrefix",5)(p)}function s(p){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(p):n(p)}function o(p){return p===null?c(p):Ke(p)?e.attempt(qO,o,c)(p):(e.enter("codeFlowValue"),u(p))}function u(p){return p===null||Ke(p)?(e.exit("codeFlowValue"),o(p)):(e.consume(p),u)}function c(p){return e.exit("codeIndented"),t(p)}}function GO(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Ke(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):It(e,s,"linePrefix",5)(o)}function s(o){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(o):Ke(o)?i(o):n(o)}}const KO={name:"codeText",previous:YO,resolve:JO,tokenize:XO};function JO(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function YO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function XO(e,t,n){let r=0,i,s;return o;function o(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),c(m))}function c(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),c):m===96?(s=e.enter("codeTextSequence"),i=0,d(m)):Ke(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("codeTextData"),p(m))}function p(m){return m===null||m===32||m===96||Ke(m)?(e.exit("codeTextData"),c(m)):(e.consume(m),p)}function d(m){return m===96?(e.consume(m),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(s.type="codeTextData",p(m))}}class QO{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&qa(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),qa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),qa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);qa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);qa(this.left,n.reverse())}}}function qa(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function wy(e){const t={};let n=-1,r,i,s,o,u,c,p;const d=new QO(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,ez(d,n)),n=t[n],p=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},u=d.slice(i,n),u.unshift(r),d.splice(i,n-i+1,u))}}return Er(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!p}function ez(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const u=o.events,c=[],p={};let d,m,v=-1,y=n,h=0,x=0;const b=[x];for(;y;){for(;e.get(++i)[1]!==y;);s.push(i),y._tokenizer||(d=r.sliceStream(y),y.next||d.push(null),m&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(x=v+1,b.push(x),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):b.pop(),v=b.length;v--;){const k=u.slice(b[v],b[v+1]),S=s.pop();c.push([S,S+k.length-1]),e.splice(S,2,k)}for(c.reverse(),v=-1;++v<c.length;)p[h+c[v][0]]=h+c[v][1],h+=c[v][1]-c[v][0]-1;return p}const tz={resolve:rz,tokenize:iz},nz={partial:!0,tokenize:az};function rz(e){return wy(e),e}function iz(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?s(u):Ke(u)?e.check(nz,o,s)(u):(e.consume(u),i)}function s(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function o(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function az(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),It(e,s,"linePrefix")}function s(o){if(o===null||Ke(o))return n(o);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function ky(e,t,n,r,i,s,o,u,c){const p=c||Number.POSITIVE_INFINITY;let d=0;return m;function m(k){return k===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(k),e.exit(s),v):k===null||k===32||k===41||Fc(k)?n(k):(e.enter(r),e.enter(o),e.enter(u),e.enter("chunkString",{contentType:"string"}),x(k))}function v(k){return k===62?(e.enter(s),e.consume(k),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(e.exit("chunkString"),e.exit(u),v(k)):k===null||k===60||Ke(k)?n(k):(e.consume(k),k===92?h:y)}function h(k){return k===60||k===62||k===92?(e.consume(k),y):y(k)}function x(k){return!d&&(k===null||k===41||zn(k))?(e.exit("chunkString"),e.exit(u),e.exit(o),e.exit(r),t(k)):d<p&&k===40?(e.consume(k),d++,x):k===41?(e.consume(k),d--,x):k===null||k===32||k===40||Fc(k)?n(k):(e.consume(k),k===92?b:x)}function b(k){return k===40||k===41||k===92?(e.consume(k),x):x(k)}}function Cy(e,t,n,r,i,s){const o=this;let u=0,c;return p;function p(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),d}function d(y){return u>999||y===null||y===91||y===93&&!c||y===94&&!u&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):Ke(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||Ke(y)||u++>999?(e.exit("chunkString"),d(y)):(e.consume(y),c||(c=!xt(y)),y===92?v:m)}function v(y){return y===91||y===92||y===93?(e.consume(y),u++,m):m(y)}}function Sy(e,t,n,r,i,s){let o;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),o=v===40?41:v,c):n(v)}function c(v){return v===o?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(s),p(v))}function p(v){return v===o?(e.exit(s),c(o)):v===null?n(v):Ke(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),It(e,p,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(v))}function d(v){return v===o||v===null||Ke(v)?(e.exit("chunkString"),p(v)):(e.consume(v),v===92?m:d)}function m(v){return v===o||v===92?(e.consume(v),d):d(v)}}function to(e,t){let n;return r;function r(i){return Ke(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):xt(i)?It(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const oz={name:"definition",tokenize:lz},sz={partial:!0,tokenize:uz};function lz(e,t,n){const r=this;let i;return s;function s(y){return e.enter("definition"),o(y)}function o(y){return Cy.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return i=da(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),c):n(y)}function c(y){return zn(y)?to(e,p)(y):p(y)}function p(y){return ky(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return e.attempt(sz,m,m)(y)}function m(y){return xt(y)?It(e,v,"whitespace")(y):v(y)}function v(y){return y===null||Ke(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function uz(e,t,n){return r;function r(u){return zn(u)?to(e,i)(u):n(u)}function i(u){return Sy(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return xt(u)?It(e,o,"whitespace")(u):o(u)}function o(u){return u===null||Ke(u)?t(u):n(u)}}const cz={name:"hardBreakEscape",tokenize:pz};function pz(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Ke(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const dz={name:"headingAtx",resolve:fz,tokenize:hz};function fz(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Er(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function hz(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||zn(d)?(e.exit("atxHeadingSequence"),u(d)):n(d)}function u(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||Ke(d)?(e.exit("atxHeading"),t(d)):xt(d)?It(e,u,"whitespace")(d):(e.enter("atxHeadingText"),p(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),u(d))}function p(d){return d===null||d===35||zn(d)?(e.exit("atxHeadingText"),u(d)):(e.consume(d),p)}}const mz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sm=["pre","script","style","textarea"],gz={concrete:!0,name:"htmlFlow",resolveTo:bz,tokenize:xz},vz={partial:!0,tokenize:wz},yz={partial:!0,tokenize:_z};function bz(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function xz(e,t,n){const r=this;let i,s,o,u,c;return p;function p(R){return d(R)}function d(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),m}function m(R){return R===33?(e.consume(R),v):R===47?(e.consume(R),s=!0,x):R===63?(e.consume(R),i=3,r.interrupt?t:z):Sr(R)?(e.consume(R),o=String.fromCharCode(R),b):n(R)}function v(R){return R===45?(e.consume(R),i=2,y):R===91?(e.consume(R),i=5,u=0,h):Sr(R)?(e.consume(R),i=4,r.interrupt?t:z):n(R)}function y(R){return R===45?(e.consume(R),r.interrupt?t:z):n(R)}function h(R){const Te="CDATA[";return R===Te.charCodeAt(u++)?(e.consume(R),u===Te.length?r.interrupt?t:Q:h):n(R)}function x(R){return Sr(R)?(e.consume(R),o=String.fromCharCode(R),b):n(R)}function b(R){if(R===null||R===47||R===62||zn(R)){const Te=R===47,ke=o.toLowerCase();return!Te&&!s&&sm.includes(ke)?(i=1,r.interrupt?t(R):Q(R)):mz.includes(o.toLowerCase())?(i=6,Te?(e.consume(R),k):r.interrupt?t(R):Q(R)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):s?S(R):A(R))}return R===45||Zn(R)?(e.consume(R),o+=String.fromCharCode(R),b):n(R)}function k(R){return R===62?(e.consume(R),r.interrupt?t:Q):n(R)}function S(R){return xt(R)?(e.consume(R),S):V(R)}function A(R){return R===47?(e.consume(R),V):R===58||R===95||Sr(R)?(e.consume(R),I):xt(R)?(e.consume(R),A):V(R)}function I(R){return R===45||R===46||R===58||R===95||Zn(R)?(e.consume(R),I):F(R)}function F(R){return R===61?(e.consume(R),O):xt(R)?(e.consume(R),F):A(R)}function O(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),c=R,D):xt(R)?(e.consume(R),O):B(R)}function D(R){return R===c?(e.consume(R),c=null,K):R===null||Ke(R)?n(R):(e.consume(R),D)}function B(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||zn(R)?F(R):(e.consume(R),B)}function K(R){return R===47||R===62||xt(R)?A(R):n(R)}function V(R){return R===62?(e.consume(R),L):n(R)}function L(R){return R===null||Ke(R)?Q(R):xt(R)?(e.consume(R),L):n(R)}function Q(R){return R===45&&i===2?(e.consume(R),P):R===60&&i===1?(e.consume(R),xe):R===62&&i===4?(e.consume(R),se):R===63&&i===3?(e.consume(R),z):R===93&&i===5?(e.consume(R),ue):Ke(R)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(vz,X,M)(R)):R===null||Ke(R)?(e.exit("htmlFlowData"),M(R)):(e.consume(R),Q)}function M(R){return e.check(yz,Y,X)(R)}function Y(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),w}function w(R){return R===null||Ke(R)?M(R):(e.enter("htmlFlowData"),Q(R))}function P(R){return R===45?(e.consume(R),z):Q(R)}function xe(R){return R===47?(e.consume(R),o="",oe):Q(R)}function oe(R){if(R===62){const Te=o.toLowerCase();return sm.includes(Te)?(e.consume(R),se):Q(R)}return Sr(R)&&o.length<8?(e.consume(R),o+=String.fromCharCode(R),oe):Q(R)}function ue(R){return R===93?(e.consume(R),z):Q(R)}function z(R){return R===62?(e.consume(R),se):R===45&&i===2?(e.consume(R),z):Q(R)}function se(R){return R===null||Ke(R)?(e.exit("htmlFlowData"),X(R)):(e.consume(R),se)}function X(R){return e.exit("htmlFlow"),t(R)}}function _z(e,t,n){const r=this;return i;function i(o){return Ke(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function wz(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ll,t,n)}}const kz={name:"htmlText",tokenize:Cz};function Cz(e,t,n){const r=this;let i,s,o;return u;function u(z){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(z),c}function c(z){return z===33?(e.consume(z),p):z===47?(e.consume(z),F):z===63?(e.consume(z),A):Sr(z)?(e.consume(z),B):n(z)}function p(z){return z===45?(e.consume(z),d):z===91?(e.consume(z),s=0,h):Sr(z)?(e.consume(z),S):n(z)}function d(z){return z===45?(e.consume(z),y):n(z)}function m(z){return z===null?n(z):z===45?(e.consume(z),v):Ke(z)?(o=m,xe(z)):(e.consume(z),m)}function v(z){return z===45?(e.consume(z),y):m(z)}function y(z){return z===62?P(z):z===45?v(z):m(z)}function h(z){const se="CDATA[";return z===se.charCodeAt(s++)?(e.consume(z),s===se.length?x:h):n(z)}function x(z){return z===null?n(z):z===93?(e.consume(z),b):Ke(z)?(o=x,xe(z)):(e.consume(z),x)}function b(z){return z===93?(e.consume(z),k):x(z)}function k(z){return z===62?P(z):z===93?(e.consume(z),k):x(z)}function S(z){return z===null||z===62?P(z):Ke(z)?(o=S,xe(z)):(e.consume(z),S)}function A(z){return z===null?n(z):z===63?(e.consume(z),I):Ke(z)?(o=A,xe(z)):(e.consume(z),A)}function I(z){return z===62?P(z):A(z)}function F(z){return Sr(z)?(e.consume(z),O):n(z)}function O(z){return z===45||Zn(z)?(e.consume(z),O):D(z)}function D(z){return Ke(z)?(o=D,xe(z)):xt(z)?(e.consume(z),D):P(z)}function B(z){return z===45||Zn(z)?(e.consume(z),B):z===47||z===62||zn(z)?K(z):n(z)}function K(z){return z===47?(e.consume(z),P):z===58||z===95||Sr(z)?(e.consume(z),V):Ke(z)?(o=K,xe(z)):xt(z)?(e.consume(z),K):P(z)}function V(z){return z===45||z===46||z===58||z===95||Zn(z)?(e.consume(z),V):L(z)}function L(z){return z===61?(e.consume(z),Q):Ke(z)?(o=L,xe(z)):xt(z)?(e.consume(z),L):K(z)}function Q(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),i=z,M):Ke(z)?(o=Q,xe(z)):xt(z)?(e.consume(z),Q):(e.consume(z),Y)}function M(z){return z===i?(e.consume(z),i=void 0,w):z===null?n(z):Ke(z)?(o=M,xe(z)):(e.consume(z),M)}function Y(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||zn(z)?K(z):(e.consume(z),Y)}function w(z){return z===47||z===62||zn(z)?K(z):n(z)}function P(z){return z===62?(e.consume(z),e.exit("htmlTextData"),e.exit("htmlText"),t):n(z)}function xe(z){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),oe}function oe(z){return xt(z)?It(e,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):ue(z)}function ue(z){return e.enter("htmlTextData"),o(z)}}const Tp={name:"labelEnd",resolveAll:Tz,resolveTo:jz,tokenize:Iz},Sz={tokenize:Rz},Ez={tokenize:Oz},Az={tokenize:zz};function Tz(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Er(e,0,e.length,n),e}function jz(e,t){let n=e.length,r=0,i,s,o,u;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},p={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return u=[["enter",c,t],["enter",p,t]],u=ar(u,e.slice(s+1,s+r+3)),u=ar(u,[["enter",d,t]]),u=ar(u,Ap(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),u=ar(u,[["exit",d,t],e[o-2],e[o-1],["exit",p,t]]),u=ar(u,e.slice(o+1)),u=ar(u,[["exit",c,t]]),Er(e,s,e.length,u),e}function Iz(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return u;function u(v){return s?s._inactive?m(v):(o=r.parser.defined.includes(da(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):n(v)}function c(v){return v===40?e.attempt(Sz,d,o?d:m)(v):v===91?e.attempt(Ez,d,o?p:m)(v):o?d(v):m(v)}function p(v){return e.attempt(Az,d,m)(v)}function d(v){return t(v)}function m(v){return s._balanced=!0,n(v)}}function Rz(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return zn(m)?to(e,s)(m):s(m)}function s(m){return m===41?d(m):ky(e,o,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return zn(m)?to(e,c)(m):d(m)}function u(m){return n(m)}function c(m){return m===34||m===39||m===40?Sy(e,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):d(m)}function p(m){return zn(m)?to(e,d)(m):d(m)}function d(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function Oz(e,t,n){const r=this;return i;function i(u){return Cy.call(r,e,s,o,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(da(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function o(u){return n(u)}}function zz(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Mz={name:"labelStartImage",resolveAll:Tp.resolveAll,tokenize:Fz};function Fz(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),s}function s(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),o):n(u)}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const Nz={name:"labelStartLink",resolveAll:Tp.resolveAll,tokenize:$z};function $z(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Ku={name:"lineEnding",tokenize:Pz};function Pz(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),It(e,t,"linePrefix")}}const Ts={name:"thematicBreak",tokenize:Dz};function Dz(e,t,n){let r=0,i;return s;function s(p){return e.enter("thematicBreak"),o(p)}function o(p){return i=p,u(p)}function u(p){return p===i?(e.enter("thematicBreakSequence"),c(p)):r>=3&&(p===null||Ke(p))?(e.exit("thematicBreak"),t(p)):n(p)}function c(p){return p===i?(e.consume(p),r++,c):(e.exit("thematicBreakSequence"),xt(p)?It(e,u,"whitespace")(p):u(p))}}const Rn={continuation:{tokenize:Zz},exit:Wz,name:"list",tokenize:Uz},Lz={partial:!0,tokenize:qz},Bz={partial:!0,tokenize:Hz};function Uz(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return u;function u(y){const h=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Nc(y)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Ts,n,p)(y):p(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(y)}return n(y)}function c(y){return Nc(y)&&++o<10?(e.consume(y),c):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),p(y)):n(y)}function p(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(ll,r.interrupt?n:d,e.attempt(Lz,v,m))}function d(y){return r.containerState.initialBlankLine=!0,s++,v(y)}function m(y){return xt(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),v):n(y)}function v(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function Zz(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ll,i,s);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,It(e,t,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!xt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Bz,t,o)(u))}function o(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,It(e,e.attempt(Rn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Hz(e,t,n){const r=this;return It(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function Wz(e){e.exit(this.containerState.type)}function qz(e,t,n){const r=this;return It(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!xt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const lm={name:"setextUnderline",resolveTo:Vz,tokenize:Gz};function Vz(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Gz(e,t,n){const r=this;let i;return s;function s(p){let d=r.events.length,m;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){m=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),i=p,o(p)):n(p)}function o(p){return e.enter("setextHeadingLineSequence"),u(p)}function u(p){return p===i?(e.consume(p),u):(e.exit("setextHeadingLineSequence"),xt(p)?It(e,c,"lineSuffix")(p):c(p))}function c(p){return p===null||Ke(p)?(e.exit("setextHeadingLine"),t(p)):n(p)}}const Kz={tokenize:Jz};function Jz(e){const t=this,n=e.attempt(ll,r,e.attempt(this.parser.constructs.flowInitial,i,It(e,e.attempt(this.parser.constructs.flow,i,e.attempt(tz,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Yz={resolveAll:Ay()},Xz=Ey("string"),Qz=Ey("text");function Ey(e){return{resolveAll:Ay(e==="text"?eM:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,u);return o;function o(d){return p(d)?s(d):u(d)}function u(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return p(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function p(d){if(d===null)return!0;const m=i[d];let v=-1;if(m)for(;++v<m.length;){const y=m[v];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Ay(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function eM(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,u=0,c;for(;s--;){const p=i[s];if(typeof p=="string"){for(o=p.length;p.charCodeAt(o-1)===32;)u++,o--;if(o)break;o=-1}else if(p===-2)c=!0,u++;else if(p!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const p={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(e.splice(n,0,["enter",p,t],["exit",p,t]),n+=2)}n++}return e}const tM={42:Rn,43:Rn,45:Rn,48:Rn,49:Rn,50:Rn,51:Rn,52:Rn,53:Rn,54:Rn,55:Rn,56:Rn,57:Rn,62:by},nM={91:oz},rM={[-2]:Gu,[-1]:Gu,32:Gu},iM={35:dz,42:Ts,45:[lm,Ts],60:gz,61:lm,95:Ts,96:om,126:om},aM={38:_y,92:xy},oM={[-5]:Ku,[-4]:Ku,[-3]:Ku,33:Mz,38:_y,42:$c,60:[NO,kz],91:Nz,92:[cz,xy],93:Tp,95:$c,96:KO},sM={null:[$c,Yz]},lM={null:[42,95]},uM={null:[]},cM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:lM,contentInitial:nM,disable:uM,document:tM,flow:iM,flowInitial:rM,insideSpan:sM,string:aM,text:oM},Symbol.toStringTag,{value:"Module"}));function pM(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],u=[];const c={attempt:D(F),check:D(O),consume:S,enter:A,exit:I,interrupt:D(O,{interrupt:!0})},p={code:null,containerState:{},defineSkip:x,events:[],now:h,parser:e,previous:null,sliceSerialize:v,sliceStream:y,write:m};let d=t.tokenize.call(p,c);return t.resolveAll&&s.push(t),p;function m(L){return o=ar(o,L),b(),o[o.length-1]!==null?[]:(B(t,0),p.events=Ap(s,p.events,p),p.events)}function v(L,Q){return fM(y(L),Q)}function y(L){return dM(o,L)}function h(){const{_bufferIndex:L,_index:Q,line:M,column:Y,offset:w}=r;return{_bufferIndex:L,_index:Q,line:M,column:Y,offset:w}}function x(L){i[L.line]=L.column,V()}function b(){let L;for(;r._index<o.length;){const Q=o[r._index];if(typeof Q=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<Q.length;)k(Q.charCodeAt(r._bufferIndex));else k(Q)}}function k(L){d=d(L)}function S(L){Ke(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,V()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=L}function A(L,Q){const M=Q||{};return M.type=L,M.start=h(),p.events.push(["enter",M,p]),u.push(M),M}function I(L){const Q=u.pop();return Q.end=h(),p.events.push(["exit",Q,p]),Q}function F(L,Q){B(L,Q.from)}function O(L,Q){Q.restore()}function D(L,Q){return M;function M(Y,w,P){let xe,oe,ue,z;return Array.isArray(Y)?X(Y):"tokenize"in Y?X([Y]):se(Y);function se(ae){return Ye;function Ye(Xe){const he=Xe!==null&&ae[Xe],Oe=Xe!==null&&ae.null,ge=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return X(ge)(Xe)}}function X(ae){return xe=ae,oe=0,ae.length===0?P:R(ae[oe])}function R(ae){return Ye;function Ye(Xe){return z=K(),ue=ae,ae.partial||(p.currentConstruct=ae),ae.name&&p.parser.constructs.disable.null.includes(ae.name)?ke():ae.tokenize.call(Q?Object.assign(Object.create(p),Q):p,c,Te,ke)(Xe)}}function Te(ae){return L(ue,z),w}function ke(ae){return z.restore(),++oe<xe.length?R(xe[oe]):P}}}function B(L,Q){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&Er(p.events,Q,p.events.length-Q,L.resolve(p.events.slice(Q),p)),L.resolveTo&&(p.events=L.resolveTo(p.events,p))}function K(){const L=h(),Q=p.previous,M=p.currentConstruct,Y=p.events.length,w=Array.from(u);return{from:Y,restore:P};function P(){r=L,p.previous=Q,p.currentConstruct=M,p.events.length=Y,u=w,V()}}function V(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function dM(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const u=o[0];typeof u=="string"?o[0]=u.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function fM(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function hM(e){const r={constructs:_O([cM,...(e||{}).extensions||[]]),content:i(jO),defined:[],document:i(RO),flow:i(Kz),lazy:{},string:i(Xz),text:i(Qz)};return r;function i(s){return o;function o(u){return pM(r,s,u)}}}function mM(e){for(;!wy(e););return e}const um=/[\0\t\n\r]/g;function gM(){let e=1,t="",n=!0,r;return i;function i(s,o,u){const c=[];let p,d,m,v,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),m=0,t="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(um.lastIndex=m,p=um.exec(s),v=p&&p.index!==void 0?p.index:s.length,y=s.charCodeAt(v),!p){t=s.slice(m);break}if(y===10&&m===v&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),m<v&&(c.push(s.slice(m,v)),e+=v-m),y){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}m=v+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const vM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yM(e){return e.replace(vM,bM)}function bM(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return yy(n.slice(s?2:1),s?16:10)}return Ep(n)||e}const Ty={}.hasOwnProperty;function xM(e,t,n){return typeof t!="string"&&(n=t,t=void 0),_M(n)(mM(hM(n).document().write(gM()(e,t,!0))))}function _M(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(C),autolinkProtocol:K,autolinkEmail:K,atxHeading:s(E),blockQuote:s(Oe),characterEscape:K,characterReference:K,codeFenced:s(ge),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ge,o),codeText:s(je,o),codeTextData:K,data:K,codeFlowValue:K,definition:s(Ve),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(We),hardBreakEscape:s(le),hardBreakTrailing:s(le),htmlFlow:s(H,o),htmlFlowData:K,htmlText:s(H,o),htmlTextData:K,image:s($),label:o,link:s(C),listItem:s(me),listItemValue:v,listOrdered:s(G,m),listUnordered:s(G),paragraph:s(ye),reference:R,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(E),strong:s(te),thematicBreak:s(pe)},exit:{atxHeading:c(),atxHeadingSequence:F,autolink:c(),autolinkEmail:he,autolinkProtocol:Xe,blockQuote:c(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:ae,characterReference:Ye,codeFenced:c(b),codeFencedFence:x,codeFencedFenceInfo:y,codeFencedFenceMeta:h,codeFlowValue:V,codeIndented:c(k),codeText:c(w),codeTextData:V,data:V,definition:c(),definitionDestinationString:I,definitionLabelString:S,definitionTitleString:A,emphasis:c(),hardBreakEscape:c(Q),hardBreakTrailing:c(Q),htmlFlow:c(M),htmlFlowData:V,htmlText:c(Y),htmlTextData:V,image:c(xe),label:ue,labelText:oe,lineEnding:L,link:c(P),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Te,resourceDestinationString:z,resourceTitleString:se,resource:X,setextHeading:c(B),setextHeadingLineSequence:D,setextHeadingText:O,strong:c(),thematicBreak:c()}};jy(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(U){let ie={type:"root",children:[]};const we={stack:[ie],tokenStack:[],config:t,enter:u,exit:p,buffer:o,resume:d,data:n},Ae=[];let De=-1;for(;++De<U.length;)if(U[De][1].type==="listOrdered"||U[De][1].type==="listUnordered")if(U[De][0]==="enter")Ae.push(De);else{const pt=Ae.pop();De=i(U,pt,De)}for(De=-1;++De<U.length;){const pt=t[U[De][0]];Ty.call(pt,U[De][1].type)&&pt[U[De][1].type].call(Object.assign({sliceSerialize:U[De][2].sliceSerialize},we),U[De][1])}if(we.tokenStack.length>0){const pt=we.tokenStack[we.tokenStack.length-1];(pt[1]||cm).call(we,void 0,pt[0])}for(ie.position={start:ni(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:ni(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<t.transforms.length;)ie=t.transforms[De](ie)||ie;return ie}function i(U,ie,we){let Ae=ie-1,De=-1,pt=!1,_t,ft,Qe,an;for(;++Ae<=we;){const ht=U[Ae];switch(ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ht[0]==="enter"?De++:De--,an=void 0;break}case"lineEndingBlank":{ht[0]==="enter"&&(_t&&!an&&!De&&!Qe&&(Qe=Ae),an=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:an=void 0}if(!De&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||De===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(_t){let kt=Ae;for(ft=void 0;kt--;){const ot=U[kt];if(ot[1].type==="lineEnding"||ot[1].type==="lineEndingBlank"){if(ot[0]==="exit")continue;ft&&(U[ft][1].type="lineEndingBlank",pt=!0),ot[1].type="lineEnding",ft=kt}else if(!(ot[1].type==="linePrefix"||ot[1].type==="blockQuotePrefix"||ot[1].type==="blockQuotePrefixWhitespace"||ot[1].type==="blockQuoteMarker"||ot[1].type==="listItemIndent"))break}Qe&&(!ft||Qe<ft)&&(_t._spread=!0),_t.end=Object.assign({},ft?U[ft][1].start:ht[1].end),U.splice(ft||Ae,0,["exit",_t,ht[2]]),Ae++,we++}if(ht[1].type==="listItemPrefix"){const kt={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0};_t=kt,U.splice(Ae,0,["enter",kt,ht[2]]),Ae++,we++,Qe=void 0,an=!0}}}return U[ie][1]._spread=pt,we}function s(U,ie){return we;function we(Ae){u.call(this,U(Ae),Ae),ie&&ie.call(this,Ae)}}function o(){this.stack.push({type:"fragment",children:[]})}function u(U,ie,we){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([ie,we||void 0]),U.position={start:ni(ie.start),end:void 0}}function c(U){return ie;function ie(we){U&&U.call(this,we),p.call(this,we)}}function p(U,ie){const we=this.stack.pop(),Ae=this.tokenStack.pop();if(Ae)Ae[0].type!==U.type&&(ie?ie.call(this,U,Ae[0]):(Ae[1]||cm).call(this,U,Ae[0]));else throw new Error("Cannot close `"+U.type+"` ("+eo({start:U.start,end:U.end})+"): its not open");we.position.end=ni(U.end)}function d(){return bO(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(U){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function y(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=U}function h(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=U}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U.replace(/(\r?\n|\r)$/g,"")}function S(U){const ie=this.resume(),we=this.stack[this.stack.length-1];we.label=ie,we.identifier=da(this.sliceSerialize(U)).toLowerCase()}function A(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.title=U}function I(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.url=U}function F(U){const ie=this.stack[this.stack.length-1];if(!ie.depth){const we=this.sliceSerialize(U).length;ie.depth=we}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function D(U){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function K(U){const we=this.stack[this.stack.length-1].children;let Ae=we[we.length-1];(!Ae||Ae.type!=="text")&&(Ae=re(),Ae.position={start:ni(U.start),end:void 0},we.push(Ae)),this.stack.push(Ae)}function V(U){const ie=this.stack.pop();ie.value+=this.sliceSerialize(U),ie.position.end=ni(U.end)}function L(U){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=ie.children[ie.children.length-1];we.position.end=ni(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ie.type)&&(K.call(this,U),V.call(this,U))}function Q(){this.data.atHardBreak=!0}function M(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U}function Y(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U}function w(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.value=U}function P(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=ie,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function xe(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=ie,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function oe(U){const ie=this.sliceSerialize(U),we=this.stack[this.stack.length-2];we.label=yM(ie),we.identifier=da(ie).toLowerCase()}function ue(){const U=this.stack[this.stack.length-1],ie=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const Ae=U.children;we.children=Ae}else we.alt=ie}function z(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.url=U}function se(){const U=this.resume(),ie=this.stack[this.stack.length-1];ie.title=U}function X(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function Te(U){const ie=this.resume(),we=this.stack[this.stack.length-1];we.label=ie,we.identifier=da(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function ke(U){this.data.characterReferenceType=U.type}function ae(U){const ie=this.sliceSerialize(U),we=this.data.characterReferenceType;let Ae;we?(Ae=yy(ie,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ae=Ep(ie);const De=this.stack[this.stack.length-1];De.value+=Ae}function Ye(U){const ie=this.stack.pop();ie.position.end=ni(U.end)}function Xe(U){V.call(this,U);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(U)}function he(U){V.call(this,U);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(U)}function Oe(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function je(){return{type:"inlineCode",value:""}}function Ve(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function We(){return{type:"emphasis",children:[]}}function E(){return{type:"heading",depth:0,children:[]}}function le(){return{type:"break"}}function H(){return{type:"html",value:""}}function $(){return{type:"image",title:null,url:"",alt:null}}function C(){return{type:"link",title:null,url:"",children:[]}}function G(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function me(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function ye(){return{type:"paragraph",children:[]}}function te(){return{type:"strong",children:[]}}function re(){return{type:"text",value:""}}function pe(){return{type:"thematicBreak"}}}function ni(e){return{line:e.line,column:e.column,offset:e.offset}}function jy(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?jy(e,r):wM(e,r)}}function wM(e,t){let n;for(n in t)if(Ty.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function cm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+eo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+eo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+eo({start:t.start,end:t.end})+") is still open")}function kM(e){const t=this;t.parser=n;function n(r){return xM(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function CM(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function SM(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function EM(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function AM(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TM(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jM(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=_a(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const p={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,p),e.applyData(t,p)}function IM(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RM(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Iy(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function OM(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Iy(e,t);const i={src:_a(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function zM(e,t){const n={src:_a(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function MM(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function FM(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Iy(e,t);const i={href:_a(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function NM(e,t){const n={href:_a(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function $M(e,t,n){const r=e.all(t),i=n?PM(n):Ry(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let m;d&&d.type==="element"&&d.tagName==="p"?m=d:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const d=r[u];(i||u!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,p),e.applyData(t,p)}function PM(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ry(n[r])}return t}function Ry(e){const t=e.spread;return t??e.children.length>1}function DM(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function LM(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function BM(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function UM(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ZM(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=wp(t.children[1]),c=py(t.children[t.children.length-1]);u&&c&&(o.position={start:u,end:c}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function HM(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,u=o?o.length:t.children.length;let c=-1;const p=[];for(;++c<u;){const m=t.children[c],v={},y=o?o[c]:void 0;y&&(v.align=y);let h={type:"element",tagName:s,properties:v,children:[]};m&&(h.children=e.all(m),e.patch(m,h),h=e.applyData(m,h)),p.push(h)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(t,d),e.applyData(t,d)}function WM(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const pm=9,dm=32;function qM(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(fm(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(fm(t.slice(i),i>0,!1)),s.join("")}function fm(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===pm||s===dm;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===pm||s===dm;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function VM(e,t){const n={type:"text",value:qM(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function GM(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const KM={blockquote:CM,break:SM,code:EM,delete:AM,emphasis:TM,footnoteReference:jM,heading:IM,html:RM,imageReference:OM,image:zM,inlineCode:MM,linkReference:FM,link:NM,listItem:$M,list:DM,paragraph:LM,root:BM,strong:UM,table:ZM,tableCell:WM,tableRow:HM,text:VM,thematicBreak:GM,toml:_s,yaml:_s,definition:_s,footnoteDefinition:_s};function _s(){}const Oy=-1,ul=0,no=1,Ls=2,jp=3,Ip=4,Rp=5,Op=6,zy=7,My=8,hm=typeof self=="object"?self:globalThis,JM=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case ul:case Oy:return n(o,i);case no:{const u=n([],i);for(const c of o)u.push(r(c));return u}case Ls:{const u=n({},i);for(const[c,p]of o)u[r(c)]=r(p);return u}case jp:return n(new Date(o),i);case Ip:{const{source:u,flags:c}=o;return n(new RegExp(u,c),i)}case Rp:{const u=n(new Map,i);for(const[c,p]of o)u.set(r(c),r(p));return u}case Op:{const u=n(new Set,i);for(const c of o)u.add(r(c));return u}case zy:{const{name:u,message:c}=o;return n(new hm[u](c),i)}case My:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:u}=new Uint8Array(o);return n(new DataView(u),o)}}return n(new hm[s](o),i)};return r},mm=e=>JM(new Map,e)(0),ta="",{toString:YM}={},{keys:XM}=Object,Va=e=>{const t=typeof e;if(t!=="object"||!e)return[ul,t];const n=YM.call(e).slice(8,-1);switch(n){case"Array":return[no,ta];case"Object":return[Ls,ta];case"Date":return[jp,ta];case"RegExp":return[Ip,ta];case"Map":return[Rp,ta];case"Set":return[Op,ta];case"DataView":return[no,n]}return n.includes("Array")?[no,n]:n.includes("Error")?[zy,n]:[Ls,n]},ws=([e,t])=>e===ul&&(t==="function"||t==="symbol"),QM=(e,t,n,r)=>{const i=(o,u)=>{const c=r.push(o)-1;return n.set(u,c),c},s=o=>{if(n.has(o))return n.get(o);let[u,c]=Va(o);switch(u){case ul:{let d=o;switch(c){case"bigint":u=My,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([Oy],o)}return i([u,d],o)}case no:{if(c){let v=o;return c==="DataView"?v=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(o)),i([c,[...v]],o)}const d=[],m=i([u,d],o);for(const v of o)d.push(s(v));return m}case Ls:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],m=i([u,d],o);for(const v of XM(o))(e||!ws(Va(o[v])))&&d.push([s(v),s(o[v])]);return m}case jp:return i([u,o.toISOString()],o);case Ip:{const{source:d,flags:m}=o;return i([u,{source:d,flags:m}],o)}case Rp:{const d=[],m=i([u,d],o);for(const[v,y]of o)(e||!(ws(Va(v))||ws(Va(y))))&&d.push([s(v),s(y)]);return m}case Op:{const d=[],m=i([u,d],o);for(const v of o)(e||!ws(Va(v)))&&d.push(s(v));return m}}const{message:p}=o;return i([u,{name:c,message:p}],o)};return s},gm=(e,{json:t,lossy:n}={})=>{const r=[];return QM(!(t||n),!!t,new Map,r)(e),r},Bs=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?mm(gm(e,t)):structuredClone(e):(e,t)=>mm(gm(e,t));function eF(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function tF(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function nF(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||eF,r=e.options.footnoteBackLabel||tF,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const p=e.footnoteById.get(e.footnoteOrder[c]);if(!p)continue;const d=e.all(p),m=String(p.identifier).toUpperCase(),v=_a(m.toLowerCase());let y=0;const h=[],x=e.footnoteCounts.get(m);for(;x!==void 0&&++y<=x;){h.length>0&&h.push({type:"text",value:" "});let S=typeof n=="string"?n:n(c,y);typeof S=="string"&&(S={type:"text",value:S}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,y),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const S=b.children[b.children.length-1];S&&S.type==="text"?S.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...h)}else d.push(...h);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(d,!0)};e.patch(p,k),u.push(k)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Bs(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Fy=function(e){if(e==null)return oF;if(typeof e=="function")return cl(e);if(typeof e=="object")return Array.isArray(e)?rF(e):iF(e);if(typeof e=="string")return aF(e);throw new Error("Expected function, string, or object as test")};function rF(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Fy(e[n]);return cl(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function iF(e){const t=e;return cl(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function aF(e){return cl(t);function t(n){return n&&n.type===e}}function cl(e){return t;function t(n,r,i){return!!(sF(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function oF(){return!0}function sF(e){return e!==null&&typeof e=="object"&&"type"in e}const Ny=[],lF=!0,vm=!1,uF="skip";function cF(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Fy(i),o=r?-1:1;u(e,void 0,[])();function u(c,p,d){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=Ny,h,x,b;if((!t||s(c,p,d[d.length-1]||void 0))&&(y=pF(n(c,d)),y[0]===vm))return y;if("children"in c&&c.children){const k=c;if(k.children&&y[0]!==uF)for(x=(r?k.children.length:-1)+o,b=d.concat(k);x>-1&&x<k.children.length;){const S=k.children[x];if(h=u(S,x,b)(),h[0]===vm)return h;x=typeof h[1]=="number"?h[1]:x+o}}return y}}}function pF(e){return Array.isArray(e)?e:typeof e=="number"?[lF,e]:e==null?Ny:[e]}function $y(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),cF(e,s,u,i);function u(c,p){const d=p[p.length-1],m=d?d.children.indexOf(c):void 0;return o(c,m,d)}}const Pc={}.hasOwnProperty,dF={};function fF(e,t){const n=t||dF,r=new Map,i=new Map,s=new Map,o={...KM,...n.handlers},u={all:p,applyData:mF,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:c,options:n,patch:hF,wrap:vF};return $y(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const m=d.type==="definition"?r:i,v=String(d.identifier).toUpperCase();m.has(v)||m.set(v,d)}}),u;function c(d,m){const v=d.type,y=u.handlers[v];if(Pc.call(u.handlers,v)&&y)return y(u,d,m);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in d){const{children:x,...b}=d,k=Bs(b);return k.children=u.all(d),k}return Bs(d)}return(u.options.unknownHandler||gF)(u,d,m)}function p(d){const m=[];if("children"in d){const v=d.children;let y=-1;for(;++y<v.length;){const h=u.one(v[y],d);if(h){if(y&&v[y-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=ym(h.value)),!Array.isArray(h)&&h.type==="element")){const x=h.children[0];x&&x.type==="text"&&(x.value=ym(x.value))}Array.isArray(h)?m.push(...h):m.push(h)}}}return m}}function hF(e,t){e.position&&(t.position=YR(e))}function mF(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Bs(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function gF(e,t){const n=t.data||{},r="value"in t&&!(Pc.call(n,"hProperties")||Pc.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vF(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ym(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function bm(e,t){const n=fF(e,t),r=n.one(e,void 0),i=nF(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function yF(e,t){return e&&"run"in e?async function(n,r){const i=bm(n,{file:r,...t});await e.run(i,r)}:function(n,r){return bm(n,{file:r,...e||t})}}function xm(e){if(e)throw e}var js=Object.prototype.hasOwnProperty,Py=Object.prototype.toString,_m=Object.defineProperty,wm=Object.getOwnPropertyDescriptor,km=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Py.call(t)==="[object Array]"},Cm=function(t){if(!t||Py.call(t)!=="[object Object]")return!1;var n=js.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&js.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||js.call(t,i)},Sm=function(t,n){_m&&n.name==="__proto__"?_m(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Em=function(t,n){if(n==="__proto__")if(js.call(t,n)){if(wm)return wm(t,n).value}else return;return t[n]},bF=function e(){var t,n,r,i,s,o,u=arguments[0],c=1,p=arguments.length,d=!1;for(typeof u=="boolean"&&(d=u,u=arguments[1]||{},c=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});c<p;++c)if(t=arguments[c],t!=null)for(n in t)r=Em(u,n),i=Em(t,n),u!==i&&(d&&i&&(Cm(i)||(s=km(i)))?(s?(s=!1,o=r&&km(r)?r:[]):o=r&&Cm(r)?r:{},Sm(u,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&Sm(u,{name:n,newValue:i}));return u};const Ju=Mi(bF);function Dc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function xF(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);u(null,...i);function u(c,...p){const d=e[++s];let m=-1;if(c){o(c);return}for(;++m<i.length;)(p[m]===null||p[m]===void 0)&&(p[m]=i[m]);i=p,d?_F(d,u)(...p):o(null,...p)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function _F(e,t){let n;return r;function r(...o){const u=e.length>o.length;let c;u&&o.push(i);try{c=e.apply(this,o)}catch(p){const d=p;if(u&&n)throw d;return i(d)}u||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(o,...u){n||(n=!0,t(o,...u))}function s(o){i(null,o)}}const kr={basename:wF,dirname:kF,extname:CF,join:SF,sep:"/"};function wF(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');xo(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function kF(e){if(xo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function CF(e){xo(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const u=e.codePointAt(t);if(u===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),u===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function SF(...e){let t=-1,n;for(;++t<e.length;)xo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":EF(n)}function EF(e){xo(e);const t=e.codePointAt(0)===47;let n=AF(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function AF(e,t){let n="",r=0,i=-1,s=0,o=-1,u,c;for(;++o<=e.length;){if(o<e.length)u=e.codePointAt(o);else{if(u===47)break;u=47}if(u===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else u===46&&s>-1?s++:s=-1}return n}function xo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const TF={cwd:jF};function jF(){return"/"}function Lc(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function IF(e){if(typeof e=="string")e=new URL(e);else if(!Lc(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return RF(e)}function RF(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Yu=["history","path","basename","stem","extname","dirname"];class Dy{constructor(t){let n;t?Lc(t)?n={path:t}:typeof t=="string"||OF(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":TF.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Yu.length;){const s=Yu[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Yu.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?kr.basename(this.path):void 0}set basename(t){Qu(t,"basename"),Xu(t,"basename"),this.path=kr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?kr.dirname(this.path):void 0}set dirname(t){Am(this.basename,"dirname"),this.path=kr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?kr.extname(this.path):void 0}set extname(t){if(Xu(t,"extname"),Am(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=kr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Lc(t)&&(t=IF(t)),Qu(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?kr.basename(this.path,this.extname):void 0}set stem(t){Qu(t,"stem"),Xu(t,"stem"),this.path=kr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new bn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Xu(e,t){if(e&&e.includes(kr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+kr.sep+"`")}function Qu(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Am(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function OF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zF=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},MF={}.hasOwnProperty;class zp extends zF{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=xF()}copy(){const t=new zp;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ju(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(nc("data",this.frozen),this.namespace[t]=n,this):MF.call(this.namespace,t)&&this.namespace[t]||void 0:t?(nc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ks(t),r=this.parser||this.Parser;return ec("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ec("process",this.parser||this.Parser),tc("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const u=ks(t),c=r.parse(u);r.run(c,u,function(d,m,v){if(d||!m||!v)return p(d);const y=m,h=r.stringify(y,v);$F(h)?v.value=h:v.result=h,p(d,v)});function p(d,m){d||!m?o(d):s?s(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),ec("processSync",this.parser||this.Parser),tc("processSync",this.compiler||this.Compiler),this.process(t,i),jm("processSync","process",n),r;function i(s,o){n=!0,xm(s),r=o}}run(t,n,r){Tm(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,u){const c=ks(n);i.run(t,c,p);function p(d,m,v){const y=m||t;d?u(d):o?o(y):r(void 0,y,v)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),jm("runSync","run",r),i;function s(o,u){xm(o),i=u,r=!0}}stringify(t,n){this.freeze();const r=ks(n),i=this.compiler||this.Compiler;return tc("stringify",i),Tm(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(nc("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(p){if(typeof p=="function")c(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[d,...m]=p;c(d,m)}else o(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function o(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(p.plugins),p.settings&&(i.settings=Ju(!0,i.settings,p.settings))}function u(p){let d=-1;if(p!=null)if(Array.isArray(p))for(;++d<p.length;){const m=p[d];s(m)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function c(p,d){let m=-1,v=-1;for(;++m<r.length;)if(r[m][0]===p){v=m;break}if(v===-1)r.push([p,...d]);else if(d.length>0){let[y,...h]=d;const x=r[v][1];Dc(x)&&Dc(y)&&(y=Ju(!0,x,y)),r[v]=[p,y,...h]}}}}const FF=new zp().freeze();function ec(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function tc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function nc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Tm(e){if(!Dc(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function jm(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ks(e){return NF(e)?e:new Dy(e)}function NF(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $F(e){return typeof e=="string"||PF(e)}function PF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const DF="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Im=[],Rm={allowDangerousHtml:!0},LF=/^(https?|ircs?|mailto|xmpp)$/i,BF=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function UF(e){const t=ZF(e),n=HF(e);return WF(t.runSync(t.parse(n),n),e)}function ZF(e){const t=e.rehypePlugins||Im,n=e.remarkPlugins||Im,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Rm}:Rm;return FF().use(kM).use(n).use(yF,r).use(t)}function HF(e){const t=e.children||"",n=new Dy;return typeof t=="string"&&(n.value=t),n}function WF(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||qF;for(const d of BF)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+DF+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),$y(e,p),nO(e,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function p(d,m,v){if(d.type==="raw"&&v&&typeof m=="number")return o?v.children.splice(m,1):v.children[m]={type:"text",value:d.value},m;if(d.type==="element"){let y;for(y in Vu)if(Object.hasOwn(Vu,y)&&Object.hasOwn(d.properties,y)){const h=d.properties[y],x=Vu[y];(x===null||x.includes(d.tagName))&&(d.properties[y]=c(String(h||""),y,d))}}if(d.type==="element"){let y=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!y&&r&&typeof m=="number"&&(y=!r(d,m,v)),y&&v&&typeof m=="number")return u&&d.children?v.children.splice(m,1,...d.children):v.children.splice(m,1),m}}}function qF(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||LF.test(e.slice(0,t))?e:""}const Ly=W.createContext(),qn=()=>W.useContext(Ly);var By="vercel.ai.error",VF=Symbol.for(By),Uy,GF=class Zy extends Error{constructor({name:t,message:n,cause:r}){super(n),this[Uy]=!0,this.name=t,this.cause=r}static isInstance(t){return Zy.hasMarker(t,By)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};Uy=VF;var si=GF;function Hy(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Wy="AI_InvalidArgumentError",qy=`vercel.ai.error.${Wy}`,KF=Symbol.for(qy),Vy,JF=class extends si{constructor({message:e,cause:t,argument:n}){super({name:Wy,message:e,cause:t}),this[Vy]=!0,this.argument=n}static isInstance(e){return si.hasMarker(e,qy)}};Vy=KF;var Gy="AI_JSONParseError",Ky=`vercel.ai.error.${Gy}`,YF=Symbol.for(Ky),Jy,Om=class extends si{constructor({text:e,cause:t}){super({name:Gy,message:`JSON parsing failed: Text: ${e}.
Error message: ${Hy(t)}`,cause:t}),this[Jy]=!0,this.text=e}static isInstance(e){return si.hasMarker(e,Ky)}};Jy=YF;var Yy="AI_TypeValidationError",Xy=`vercel.ai.error.${Yy}`,XF=Symbol.for(Xy),Qy,QF=class Bc extends si{constructor({value:t,cause:n}){super({name:Yy,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Hy(n)}`,cause:n}),this[Qy]=!0,this.value=t}static isInstance(t){return si.hasMarker(t,Xy)}static wrap({value:t,cause:n}){return Bc.isInstance(n)&&n.value===t?n:new Bc({value:t,cause:n})}};Qy=XF;var Us=QF;class zm extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function rc(e){}function eN(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=rc,onError:n=rc,onRetry:r=rc,onComment:i}=e;let s="",o=!0,u,c="",p="";function d(x){const b=o?x.replace(/^\xEF\xBB\xBF/,""):x,[k,S]=tN(`${s}${b}`);for(const A of k)m(A);s=S,o=!1}function m(x){if(x===""){y();return}if(x.startsWith(":")){i&&i(x.slice(x.startsWith(": ")?2:1));return}const b=x.indexOf(":");if(b!==-1){const k=x.slice(0,b),S=x[b+1]===" "?2:1,A=x.slice(b+S);v(k,A,x);return}v(x,"",x)}function v(x,b,k){switch(x){case"event":p=b;break;case"data":c=`${c}${b}
`;break;case"id":u=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?r(parseInt(b,10)):n(new zm(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:k}));break;default:n(new zm(`Unknown field "${x.length>20?`${x.slice(0,20)}`:x}"`,{type:"unknown-field",field:x,value:b,line:k}));break}}function y(){c.length>0&&t({id:u,event:p||void 0,data:c.endsWith(`
`)?c.slice(0,-1):c}),u=void 0,c="",p=""}function h(x={}){s&&x.consume&&m(s),o=!0,u=void 0,c="",p="",s=""}return{feed:d,reset:h}}function tN(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),s=e.indexOf(`
`,r);let o=-1;if(i!==-1&&s!==-1?o=Math.min(i,s):i!==-1?i===e.length-1?o=-1:o=i:s!==-1&&(o=s),o===-1){n=e.slice(r);break}else{const u=e.slice(r,o);t.push(u),r=o+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class nN extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let i;super({start(s){i=eN({onEvent:o=>{s.enqueue(o)},onError(o){t==="terminate"?s.error(o):typeof t=="function"&&t(o)},onRetry:n,onComment:r})},transform(s){i.feed(s)}})}}function de(e,t,n){function r(u,c){var p;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(p=u._zod).traits??(p.traits=new Set),u._zod.traits.add(e),t(u,c);for(const d in o.prototype)d in u||Object.defineProperty(u,d,{value:o.prototype[d].bind(u)});u._zod.constr=o,u._zod.def=c}const i=n?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:e});function o(u){var c;const p=n?.Parent?new s:this;r(p,u),(c=p._zod).deferred??(c.deferred=[]);for(const d of p._zod.deferred)d();return p}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class fa extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class eb extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const tb={};function li(e){return tb}function nb(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Uc(e,t){return typeof t=="bigint"?t.toString():t}function pl(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Mp(e){return e==null}function Fp(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function rN(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}const s=n>i?n:i,o=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return o%u/10**s}const Mm=Symbol("evaluating");function bt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Mm)return r===void 0&&(r=Mm,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function $i(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Pi(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Fm(e){return JSON.stringify(e)}const rb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function uo(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const iN=pl(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ga(e){if(uo(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(uo(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function ib(e){return ga(e)?{...e}:Array.isArray(e)?[...e]:e}const aN=new Set(["string","number","symbol"]);function va(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pi(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Pe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function oN(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const sN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function lN(e,t){const n=e._zod.def,r=Pi(e._zod.def,{get shape(){const i={};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(i[s]=n.shape[s])}return $i(this,"shape",i),i},checks:[]});return pi(e,r)}function uN(e,t){const n=e._zod.def,r=Pi(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete i[s]}return $i(this,"shape",i),i},checks:[]});return pi(e,r)}function cN(e,t){if(!ga(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Pi(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return $i(this,"shape",s),s},checks:[]});return pi(e,i)}function pN(e,t){if(!ga(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return $i(this,"shape",r),r},checks:e._zod.def.checks};return pi(e,n)}function dN(e,t){const n=Pi(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return $i(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return pi(e,n)}function fN(e,t,n){const r=Pi(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=e?new e({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=e?new e({type:"optional",innerType:i[o]}):i[o];return $i(this,"shape",s),s},checks:[]});return pi(t,r)}function hN(e,t,n){const r=Pi(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new e({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new e({type:"nonoptional",innerType:i[o]});return $i(this,"shape",s),s},checks:[]});return pi(t,r)}function sa(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function la(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Cs(e){return typeof e=="string"?e:e?.message}function ui(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=Cs(e.inst?._zod.def?.error?.(e))??Cs(t?.error?.(e))??Cs(n.customError?.(e))??Cs(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Np(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function co(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const ab=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Uc,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ob=de("$ZodError",ab),sb=de("$ZodError",ab,{Parent:Error});function mN(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function gN(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let o=n,u=0;for(;u<s.path.length;){const c=s.path[u];u===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(s))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return r(e),n}const $p=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new fa;if(o.issues.length){const u=new(i?.Err??e)(o.issues.map(c=>ui(c,s,li())));throw rb(u,i?.callee),u}return o.value},Pp=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const u=new(i?.Err??e)(o.issues.map(c=>ui(c,s,li())));throw rb(u,i?.callee),u}return o.value},dl=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new fa;return s.issues.length?{success:!1,error:new(e??ob)(s.issues.map(o=>ui(o,i,li())))}:{success:!0,data:s.value}},vN=dl(sb),fl=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>ui(o,i,li())))}:{success:!0,data:s.value}},yN=fl(sb),bN=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return $p(e)(t,n,i)},xN=e=>(t,n,r)=>$p(e)(t,n,r),_N=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Pp(e)(t,n,i)},wN=e=>async(t,n,r)=>Pp(e)(t,n,r),kN=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return dl(e)(t,n,i)},CN=e=>(t,n,r)=>dl(e)(t,n,r),SN=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fl(e)(t,n,i)},EN=e=>async(t,n,r)=>fl(e)(t,n,r),AN=/^[cC][^\s-]{8,}$/,TN=/^[0-9a-z]+$/,jN=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,IN=/^[0-9a-vA-V]{20}$/,RN=/^[A-Za-z0-9]{27}$/,ON=/^[a-zA-Z0-9_-]{21}$/,zN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,MN=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Nm=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,FN=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,NN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function $N(){return new RegExp(NN,"u")}const PN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,LN=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,BN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UN=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,lb=/^[A-Za-z0-9_-]*$/,ZN=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,HN=/^\+(?:[0-9]){6,14}[0-9]$/,ub="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",WN=new RegExp(`^${ub}$`);function cb(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function qN(e){return new RegExp(`^${cb(e)}$`)}function VN(e){const t=cb({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${ub}T(?:${r})$`)}const GN=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},KN=/^-?\d+$/,JN=/^-?\d+(?:\.\d+)?/,YN=/^(?:true|false)$/i,XN=/^null$/i,QN=/^[^A-Z]*$/,e$=/^[^a-z]*$/,Fn=de("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),pb={number:"number",bigint:"bigint",object:"date"},db=de("$ZodCheckLessThan",(e,t)=>{Fn.init(e,t);const n=pb[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),fb=de("$ZodCheckGreaterThan",(e,t)=>{Fn.init(e,t);const n=pb[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),t$=de("$ZodCheckMultipleOf",(e,t)=>{Fn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):rN(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),n$=de("$ZodCheckNumberFormat",(e,t)=>{Fn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[i,s]=sN[t.format];e._zod.onattach.push(o=>{const u=o._zod.bag;u.format=t.format,u.minimum=i,u.maximum=s,n&&(u.pattern=KN)}),e._zod.check=o=>{const u=o.value;if(n){if(!Number.isInteger(u)){o.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?o.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):o.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}u<i&&o.issues.push({origin:"number",input:u,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),u>s&&o.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inst:e})}}),r$=de("$ZodCheckMaxLength",(e,t)=>{var n;Fn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Mp(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const o=Np(i);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),i$=de("$ZodCheckMinLength",(e,t)=>{var n;Fn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Mp(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const o=Np(i);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),a$=de("$ZodCheckLengthEquals",(e,t)=>{var n;Fn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Mp(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,s=i.length;if(s===t.length)return;const o=Np(i),u=s>t.length;r.issues.push({origin:o,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),hl=de("$ZodCheckStringFormat",(e,t)=>{var n,r;Fn.init(e,t),e._zod.onattach.push(i=>{const s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),o$=de("$ZodCheckRegex",(e,t)=>{hl.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),s$=de("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=QN),hl.init(e,t)}),l$=de("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=e$),hl.init(e,t)}),u$=de("$ZodCheckIncludes",(e,t)=>{Fn.init(e,t);const n=va(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),c$=de("$ZodCheckStartsWith",(e,t)=>{Fn.init(e,t);const n=new RegExp(`^${va(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),p$=de("$ZodCheckEndsWith",(e,t)=>{Fn.init(e,t);const n=new RegExp(`.*${va(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),d$=de("$ZodCheckOverwrite",(e,t)=>{Fn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class f${constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,n=this?.args,i=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...n,i.join(`
`))}}const h$={major:4,minor:1,patch:12},$t=de("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=h$;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const s of i._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(o,u,c)=>{let p=sa(o),d;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(o))continue}else if(p)continue;const v=o.issues.length,y=m._zod.check(o);if(y instanceof Promise&&c?.async===!1)throw new fa;if(d||y instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await y,o.issues.length!==v&&(p||(p=sa(o,v)))});else{if(o.issues.length===v)continue;p||(p=sa(o,v))}}return d?d.then(()=>o):o},s=(o,u,c)=>{if(sa(o))return o.aborted=!0,o;const p=i(u,r,c);if(p instanceof Promise){if(c.async===!1)throw new fa;return p.then(d=>e._zod.parse(d,c))}return e._zod.parse(p,c)};e._zod.run=(o,u)=>{if(u.skipChecks)return e._zod.parse(o,u);if(u.direction==="backward"){const p=e._zod.parse({value:o.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(d=>s(d,o,u)):s(p,o,u)}const c=e._zod.parse(o,u);if(c instanceof Promise){if(u.async===!1)throw new fa;return c.then(p=>i(p,r,u))}return i(c,r,u)}}e["~standard"]={validate:i=>{try{const s=vN(e,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return yN(e,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Dp=de("$ZodString",(e,t)=>{$t.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??GN(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Bt=de("$ZodStringFormat",(e,t)=>{hl.init(e,t),Dp.init(e,t)}),m$=de("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=MN),Bt.init(e,t)}),g$=de("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Nm(r))}else t.pattern??(t.pattern=Nm());Bt.init(e,t)}),v$=de("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=FN),Bt.init(e,t)}),y$=de("$ZodURL",(e,t)=>{Bt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:ZN.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),b$=de("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=$N()),Bt.init(e,t)}),x$=de("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=ON),Bt.init(e,t)}),_$=de("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=AN),Bt.init(e,t)}),w$=de("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=TN),Bt.init(e,t)}),k$=de("$ZodULID",(e,t)=>{t.pattern??(t.pattern=jN),Bt.init(e,t)}),C$=de("$ZodXID",(e,t)=>{t.pattern??(t.pattern=IN),Bt.init(e,t)}),S$=de("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=RN),Bt.init(e,t)}),E$=de("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=VN(t)),Bt.init(e,t)}),A$=de("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=WN),Bt.init(e,t)}),T$=de("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=qN(t)),Bt.init(e,t)}),j$=de("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=zN),Bt.init(e,t)}),I$=de("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=PN),Bt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),R$=de("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=DN),Bt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),O$=de("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=LN),Bt.init(e,t)}),z$=de("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=BN),Bt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function hb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const M$=de("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=UN),Bt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{hb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function F$(e){if(!lb.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return hb(n)}const N$=de("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=lb),Bt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{F$(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),$$=de("$ZodE164",(e,t)=>{t.pattern??(t.pattern=HN),Bt.init(e,t)});function P$(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const D$=de("$ZodJWT",(e,t)=>{Bt.init(e,t),e._zod.check=n=>{P$(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),mb=de("$ZodNumber",(e,t)=>{$t.init(e,t),e._zod.pattern=e._zod.bag.pattern??JN,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),n}}),L$=de("$ZodNumber",(e,t)=>{n$.init(e,t),mb.init(e,t)}),B$=de("$ZodBoolean",(e,t)=>{$t.init(e,t),e._zod.pattern=YN,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),U$=de("$ZodNull",(e,t)=>{$t.init(e,t),e._zod.pattern=XN,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const i=n.value;return i===null||n.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),n}}),Z$=de("$ZodUnknown",(e,t)=>{$t.init(e,t),e._zod.parse=n=>n}),H$=de("$ZodNever",(e,t)=>{$t.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function $m(e,t,n){e.issues.length&&t.issues.push(...la(n,e.issues)),t.value[n]=e.value}const W$=de("$ZodArray",(e,t)=>{$t.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const u=i[o],c=t.element._zod.run({value:u,issues:[]},r);c instanceof Promise?s.push(c.then(p=>$m(p,n,o))):$m(c,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function Zs(e,t,n,r){e.issues.length&&t.issues.push(...la(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function gb(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=oN(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function vb(e,t,n,r,i,s){const o=[],u=i.keySet,c=i.catchall._zod,p=c.def.type;for(const d of Object.keys(t)){if(u.has(d))continue;if(p==="never"){o.push(d);continue}const m=c.run({value:t[d],issues:[]},r);m instanceof Promise?e.push(m.then(v=>Zs(v,n,d,t))):Zs(m,n,d,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const q$=de("$ZodObject",(e,t)=>{if($t.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...u};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=pl(()=>gb(t));bt(e._zod,"propValues",()=>{const u=t.shape,c={};for(const p in u){const d=u[p]._zod;if(d.values){c[p]??(c[p]=new Set);for(const m of d.values)c[p].add(m)}}return c});const i=uo,s=t.catchall;let o;e._zod.parse=(u,c)=>{o??(o=r.value);const p=u.value;if(!i(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),u;u.value={};const d=[],m=o.shape;for(const v of o.keys){const h=m[v]._zod.run({value:p[v],issues:[]},c);h instanceof Promise?d.push(h.then(x=>Zs(x,u,v,p))):Zs(h,u,v,p)}return s?vb(d,p,u,c,r.value,e):d.length?Promise.all(d).then(()=>u):u}}),V$=de("$ZodObjectJIT",(e,t)=>{q$.init(e,t);const n=e._zod.parse,r=pl(()=>gb(t)),i=v=>{const y=new f$(["shape","payload","ctx"]),h=r.value,x=A=>{const I=Fm(A);return`shape[${I}]._zod.run({ value: input[${I}], issues: [] }, ctx)`};y.write("const input = payload.value;");const b=Object.create(null);let k=0;for(const A of h.keys)b[A]=`key_${k++}`;y.write("const newResult = {};");for(const A of h.keys){const I=b[A],F=Fm(A);y.write(`const ${I} = ${x(A)};`),y.write(`
        if (${I}.issues.length) {
          payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${F}, ...iss.path] : [${F}]
          })));
        }
        
        
        if (${I}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${I}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const S=y.compile();return(A,I)=>S(v,A,I)};let s;const o=uo,u=!tb.jitless,p=u&&iN.value,d=t.catchall;let m;e._zod.parse=(v,y)=>{m??(m=r.value);const h=v.value;return o(h)?u&&p&&y?.async===!1&&y.jitless!==!0?(s||(s=i(t.shape)),v=s(v,y),d?vb([],h,v,y,m,e):v):n(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),v)}});function Pm(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const i=e.filter(s=>!sa(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(o=>ui(o,r,li())))}),t)}const yb=de("$ZodUnion",(e,t)=>{$t.init(e,t),bt(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),bt(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),bt(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),bt(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>Fp(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const u=[];for(const c of t.options){const p=c._zod.run({value:i.value,issues:[]},s);if(p instanceof Promise)u.push(p),o=!0;else{if(p.issues.length===0)return p;u.push(p)}}return o?Promise.all(u).then(c=>Pm(c,i,e,s)):Pm(u,i,e,s)}}),G$=de("$ZodDiscriminatedUnion",(e,t)=>{yb.init(e,t);const n=e._zod.parse;bt(e._zod,"propValues",()=>{const i={};for(const s of t.options){const o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const[u,c]of Object.entries(o)){i[u]||(i[u]=new Set);for(const p of c)i[u].add(p)}}return i});const r=pl(()=>{const i=t.options,s=new Map;for(const o of i){const u=o._zod.propValues?.[t.discriminator];if(!u||u.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const c of u){if(s.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);s.set(c,o)}}return s});e._zod.parse=(i,s)=>{const o=i.value;if(!uo(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),i;const u=r.value.get(o?.[t.discriminator]);return u?u._zod.run(i,s):t.unionFallback?n(i,s):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),i)}}),K$=de("$ZodIntersection",(e,t)=>{$t.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,s=t.left._zod.run({value:i,issues:[]},r),o=t.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([c,p])=>Dm(n,c,p)):Dm(n,s,o)}});function Zc(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ga(e)&&ga(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),i={...e,...t};for(const s of r){const o=Zc(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r],o=Zc(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Dm(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),sa(e))return e;const r=Zc(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const J$=de("$ZodRecord",(e,t)=>{$t.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!ga(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const s=[];if(t.keyType._zod.values){const o=t.keyType._zod.values;n.value={};for(const c of o)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){const p=t.valueType._zod.run({value:i[c],issues:[]},r);p instanceof Promise?s.push(p.then(d=>{d.issues.length&&n.issues.push(...la(c,d.issues)),n.value[c]=d.value})):(p.issues.length&&n.issues.push(...la(c,p.issues)),n.value[c]=p.value)}let u;for(const c in i)o.has(c)||(u=u??[],u.push(c));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:u})}else{n.value={};for(const o of Reflect.ownKeys(i)){if(o==="__proto__")continue;const u=t.keyType._zod.run({value:o,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(p=>ui(p,r,li())),input:o,path:[o],inst:e}),n.value[u.value]=u.value;continue}const c=t.valueType._zod.run({value:i[o],issues:[]},r);c instanceof Promise?s.push(c.then(p=>{p.issues.length&&n.issues.push(...la(o,p.issues)),n.value[u.value]=p.value})):(c.issues.length&&n.issues.push(...la(o,c.issues)),n.value[u.value]=c.value)}}return s.length?Promise.all(s).then(()=>n):n}}),Y$=de("$ZodEnum",(e,t)=>{$t.init(e,t);const n=nb(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>aN.has(typeof i)).map(i=>typeof i=="string"?va(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:e}),i}}),X$=de("$ZodLiteral",(e,t)=>{if($t.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?va(n):n?va(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),Q$=de("$ZodTransform",(e,t)=>{$t.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new eb(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new fa;return n.value=i,n}});function Lm(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const eP=de("$ZodOptional",(e,t)=>{$t.init(e,t),e._zod.optin="optional",e._zod.optout="optional",bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Fp(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>Lm(s,n.value)):Lm(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),tP=de("$ZodNullable",(e,t)=>{$t.init(e,t),bt(e._zod,"optin",()=>t.innerType._zod.optin),bt(e._zod,"optout",()=>t.innerType._zod.optout),bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Fp(n.source)}|null)$`):void 0}),bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),nP=de("$ZodDefault",(e,t)=>{$t.init(e,t),e._zod.optin="optional",bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>Bm(s,t)):Bm(i,t)}});function Bm(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const rP=de("$ZodPrefault",(e,t)=>{$t.init(e,t),e._zod.optin="optional",bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),iP=de("$ZodNonOptional",(e,t)=>{$t.init(e,t),bt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>Um(s,e)):Um(i,e)}});function Um(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const aP=de("$ZodCatch",(e,t)=>{$t.init(e,t),bt(e._zod,"optin",()=>t.innerType._zod.optin),bt(e._zod,"optout",()=>t.innerType._zod.optout),bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>ui(o,r,li()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>ui(s,r,li()))},input:n.value}),n.issues=[]),n)}}),oP=de("$ZodPipe",(e,t)=>{$t.init(e,t),bt(e._zod,"values",()=>t.in._zod.values),bt(e._zod,"optin",()=>t.in._zod.optin),bt(e._zod,"optout",()=>t.out._zod.optout),bt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(o=>Ss(o,t.in,r)):Ss(s,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(s=>Ss(s,t.out,r)):Ss(i,t.out,r)}});function Ss(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const sP=de("$ZodReadonly",(e,t)=>{$t.init(e,t),bt(e._zod,"propValues",()=>t.innerType._zod.propValues),bt(e._zod,"values",()=>t.innerType._zod.values),bt(e._zod,"optin",()=>t.innerType._zod.optin),bt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(Zm):Zm(i)}});function Zm(e){return e.value=Object.freeze(e.value),e}const lP=de("$ZodLazy",(e,t)=>{$t.init(e,t),bt(e._zod,"innerType",()=>t.getter()),bt(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),bt(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),bt(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),bt(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),uP=de("$ZodCustom",(e,t)=>{Fn.init(e,t),$t.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(s=>Hm(s,n,r,e));Hm(i,n,r,e)}});function Hm(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(co(i))}}class bb{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function cP(){return new bb}const Ka=cP();function pP(e,t){return new e({type:"string",...Pe(t)})}function dP(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Pe(t)})}function Wm(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Pe(t)})}function fP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Pe(t)})}function hP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Pe(t)})}function mP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Pe(t)})}function gP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Pe(t)})}function vP(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Pe(t)})}function yP(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Pe(t)})}function bP(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Pe(t)})}function xP(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Pe(t)})}function _P(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Pe(t)})}function wP(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Pe(t)})}function kP(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Pe(t)})}function CP(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Pe(t)})}function SP(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Pe(t)})}function EP(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Pe(t)})}function AP(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Pe(t)})}function TP(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Pe(t)})}function xb(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Pe(t)})}function jP(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Pe(t)})}function IP(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Pe(t)})}function RP(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Pe(t)})}function OP(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Pe(t)})}function zP(e,t){return new e({type:"string",format:"date",check:"string_format",...Pe(t)})}function MP(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Pe(t)})}function FP(e,t){return new e({type:"string",format:"duration",check:"string_format",...Pe(t)})}function NP(e,t){return new e({type:"number",checks:[],...Pe(t)})}function $P(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Pe(t)})}function PP(e,t){return new e({type:"boolean",...Pe(t)})}function DP(e,t){return new e({type:"null",...Pe(t)})}function LP(e){return new e({type:"unknown"})}function BP(e,t){return new e({type:"never",...Pe(t)})}function qm(e,t){return new db({check:"less_than",...Pe(t),value:e,inclusive:!1})}function ic(e,t){return new db({check:"less_than",...Pe(t),value:e,inclusive:!0})}function Vm(e,t){return new fb({check:"greater_than",...Pe(t),value:e,inclusive:!1})}function ac(e,t){return new fb({check:"greater_than",...Pe(t),value:e,inclusive:!0})}function Gm(e,t){return new t$({check:"multiple_of",...Pe(t),value:e})}function _b(e,t){return new r$({check:"max_length",...Pe(t),maximum:e})}function Hs(e,t){return new i$({check:"min_length",...Pe(t),minimum:e})}function wb(e,t){return new a$({check:"length_equals",...Pe(t),length:e})}function UP(e,t){return new o$({check:"string_format",format:"regex",...Pe(t),pattern:e})}function ZP(e){return new s$({check:"string_format",format:"lowercase",...Pe(e)})}function HP(e){return new l$({check:"string_format",format:"uppercase",...Pe(e)})}function WP(e,t){return new u$({check:"string_format",format:"includes",...Pe(t),includes:e})}function qP(e,t){return new c$({check:"string_format",format:"starts_with",...Pe(t),prefix:e})}function VP(e,t){return new p$({check:"string_format",format:"ends_with",...Pe(t),suffix:e})}function _o(e){return new d$({check:"overwrite",tx:e})}function GP(e){return _o(t=>t.normalize(e))}function KP(){return _o(e=>e.trim())}function JP(){return _o(e=>e.toLowerCase())}function YP(){return _o(e=>e.toUpperCase())}function XP(e,t,n){return new e({type:"array",element:t,...Pe(n)})}function QP(e,t,n){const r=Pe(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function eD(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Pe(n)})}function tD(e){const t=nD(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(co(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(co(i))}},e(n.value,n)));return t}function nD(e,t){const n=new Fn({check:"custom",...Pe(t)});return n._zod.check=e,n}class Km{constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??Ka,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,n={path:[],schemaPath:[]}){var r;const i=t._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const u={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(t,u);const c=t._zod.toJSONSchema?.();if(c)u.schema=c;else{const m={...n,schemaPath:[...n.schemaPath,t],path:n.path},v=t._zod.parent;if(v)u.ref=v,this.process(v,m),this.seen.get(v).isParent=!0;else{const y=u.schema;switch(i.type){case"string":{const h=y;h.type="string";const{minimum:x,maximum:b,format:k,patterns:S,contentEncoding:A}=t._zod.bag;if(typeof x=="number"&&(h.minLength=x),typeof b=="number"&&(h.maxLength=b),k&&(h.format=s[k]??k,h.format===""&&delete h.format),A&&(h.contentEncoding=A),S&&S.size>0){const I=[...S];I.length===1?h.pattern=I[0].source:I.length>1&&(u.schema.allOf=[...I.map(F=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:F.source}))])}break}case"number":{const h=y,{minimum:x,maximum:b,format:k,multipleOf:S,exclusiveMaximum:A,exclusiveMinimum:I}=t._zod.bag;typeof k=="string"&&k.includes("int")?h.type="integer":h.type="number",typeof I=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(h.minimum=I,h.exclusiveMinimum=!0):h.exclusiveMinimum=I),typeof x=="number"&&(h.minimum=x,typeof I=="number"&&this.target!=="draft-4"&&(I>=x?delete h.minimum:delete h.exclusiveMinimum)),typeof A=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(h.maximum=A,h.exclusiveMaximum=!0):h.exclusiveMaximum=A),typeof b=="number"&&(h.maximum=b,typeof A=="number"&&this.target!=="draft-4"&&(A<=b?delete h.maximum:delete h.exclusiveMaximum)),typeof S=="number"&&(h.multipleOf=S);break}case"boolean":{const h=y;h.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(y.type="string",y.nullable=!0,y.enum=[null]):y.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{y.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const h=y,{minimum:x,maximum:b}=t._zod.bag;typeof x=="number"&&(h.minItems=x),typeof b=="number"&&(h.maxItems=b),h.type="array",h.items=this.process(i.element,{...m,path:[...m.path,"items"]});break}case"object":{const h=y;h.type="object",h.properties={};const x=i.shape;for(const S in x)h.properties[S]=this.process(x[S],{...m,path:[...m.path,"properties",S]});const b=new Set(Object.keys(x)),k=new Set([...b].filter(S=>{const A=i.shape[S]._zod;return this.io==="input"?A.optin===void 0:A.optout===void 0}));k.size>0&&(h.required=Array.from(k)),i.catchall?._zod.def.type==="never"?h.additionalProperties=!1:i.catchall?i.catchall&&(h.additionalProperties=this.process(i.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(h.additionalProperties=!1);break}case"union":{const h=y,x=i.options.map((b,k)=>this.process(b,{...m,path:[...m.path,"anyOf",k]}));h.anyOf=x;break}case"intersection":{const h=y,x=this.process(i.left,{...m,path:[...m.path,"allOf",0]}),b=this.process(i.right,{...m,path:[...m.path,"allOf",1]}),k=A=>"allOf"in A&&Object.keys(A).length===1,S=[...k(x)?x.allOf:[x],...k(b)?b.allOf:[b]];h.allOf=S;break}case"tuple":{const h=y;h.type="array";const x=this.target==="draft-2020-12"?"prefixItems":"items",b=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",k=i.items.map((F,O)=>this.process(F,{...m,path:[...m.path,x,O]})),S=i.rest?this.process(i.rest,{...m,path:[...m.path,b,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(h.prefixItems=k,S&&(h.items=S)):this.target==="openapi-3.0"?(h.items={anyOf:k},S&&h.items.anyOf.push(S),h.minItems=k.length,S||(h.maxItems=k.length)):(h.items=k,S&&(h.additionalItems=S));const{minimum:A,maximum:I}=t._zod.bag;typeof A=="number"&&(h.minItems=A),typeof I=="number"&&(h.maxItems=I);break}case"record":{const h=y;h.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(h.propertyNames=this.process(i.keyType,{...m,path:[...m.path,"propertyNames"]})),h.additionalProperties=this.process(i.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const h=y,x=nb(i.entries);x.every(b=>typeof b=="number")&&(h.type="number"),x.every(b=>typeof b=="string")&&(h.type="string"),h.enum=x;break}case"literal":{const h=y,x=[];for(const b of i.values)if(b===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof b=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");x.push(Number(b))}else x.push(b);if(x.length!==0)if(x.length===1){const b=x[0];h.type=b===null?"null":typeof b,this.target==="draft-4"||this.target==="openapi-3.0"?h.enum=[b]:h.const=b}else x.every(b=>typeof b=="number")&&(h.type="number"),x.every(b=>typeof b=="string")&&(h.type="string"),x.every(b=>typeof b=="boolean")&&(h.type="string"),x.every(b=>b===null)&&(h.type="null"),h.enum=x;break}case"file":{const h=y,x={type:"string",format:"binary",contentEncoding:"binary"},{minimum:b,maximum:k,mime:S}=t._zod.bag;b!==void 0&&(x.minLength=b),k!==void 0&&(x.maxLength=k),S?S.length===1?(x.contentMediaType=S[0],Object.assign(h,x)):h.anyOf=S.map(A=>({...x,contentMediaType:A})):Object.assign(h,x);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const h=this.process(i.innerType,m);this.target==="openapi-3.0"?(u.ref=i.innerType,y.nullable=!0):y.anyOf=[h,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,m),u.ref=i.innerType;break}case"success":{const h=y;h.type="boolean";break}case"default":{this.process(i.innerType,m),u.ref=i.innerType,y.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,m),u.ref=i.innerType,this.io==="input"&&(y._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,m),u.ref=i.innerType;let h;try{h=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}y.default=h;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const h=y,x=t._zod.pattern;if(!x)throw new Error("Pattern not found in template literal");h.type="string",h.pattern=x.source;break}case"pipe":{const h=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(h,m),u.ref=h;break}case"readonly":{this.process(i.innerType,m),u.ref=i.innerType,y.readOnly=!0;break}case"promise":{this.process(i.innerType,m),u.ref=i.innerType;break}case"optional":{this.process(i.innerType,m),u.ref=i.innerType;break}case"lazy":{const h=t._zod.innerType;this.process(h,m),u.ref=h;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const p=this.metadataRegistry.get(t);return p&&Object.assign(u.schema,p),this.io==="input"&&ln(t)&&(delete u.schema.examples,delete u.schema.default),this.io==="input"&&u.schema._prefault&&((r=u.schema).default??(r.default=u.schema._prefault)),delete u.schema._prefault,this.seen.get(t).schema}emit(t,n){const r={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},i=this.seen.get(t);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=d=>{const m=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const x=r.external.registry.get(d[0])?.id,b=r.external.uri??(S=>S);if(x)return{ref:b(x)};const k=d[1].defId??d[1].schema.id??`schema${this.counter++}`;return d[1].defId=k,{defId:k,ref:`${b("__shared")}#/${m}/${k}`}}if(d[1]===i)return{ref:"#"};const y=`#/${m}/`,h=d[1].schema.id??`__schema${this.counter++}`;return{defId:h,ref:y+h}},o=d=>{if(d[1].schema.$ref)return;const m=d[1],{ref:v,defId:y}=s(d);m.def={...m.schema},y&&(m.defId=y);const h=m.schema;for(const x in h)delete h[x];h.$ref=v};if(r.cycles==="throw")for(const d of this.seen.entries()){const m=d[1];if(m.cycle)throw new Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const d of this.seen.entries()){const m=d[1];if(t===d[0]){o(d);continue}if(r.external){const y=r.external.registry.get(d[0])?.id;if(t!==d[0]&&y){o(d);continue}}if(this.metadataRegistry.get(d[0])?.id){o(d);continue}if(m.cycle){o(d);continue}if(m.count>1&&r.reused==="ref"){o(d);continue}}const u=(d,m)=>{const v=this.seen.get(d),y=v.def??v.schema,h={...y};if(v.ref===null)return;const x=v.ref;if(v.ref=null,x){u(x,m);const b=this.seen.get(x).schema;b.$ref&&(m.target==="draft-7"||m.target==="draft-4"||m.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(b)):(Object.assign(y,b),Object.assign(y,h))}v.isParent||this.override({zodSchema:d,jsonSchema:y,path:v.path??[]})};for(const d of[...this.seen.entries()].reverse())u(d[0],{target:this.target});const c={};if(this.target==="draft-2020-12"?c.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?c.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?c.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),r.external?.uri){const d=r.external.registry.get(t)?.id;if(!d)throw new Error("Schema is missing an `id` property");c.$id=r.external.uri(d)}Object.assign(c,i.def);const p=r.external?.defs??{};for(const d of this.seen.entries()){const m=d[1];m.def&&m.defId&&(p[m.defId]=m.def)}r.external||Object.keys(p).length>0&&(this.target==="draft-2020-12"?c.$defs=p:c.definitions=p);try{return JSON.parse(JSON.stringify(c))}catch{throw new Error("Error converting schema to JSON.")}}}function rD(e,t){if(e instanceof bb){const r=new Km(t),i={};for(const u of e._idmap.entries()){const[c,p]=u;r.process(p)}const s={},o={registry:e,uri:t?.uri,defs:i};for(const u of e._idmap.entries()){const[c,p]=u;s[c]=r.emit(p,{...t,external:o})}if(Object.keys(i).length>0){const u=r.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[u]:i}}return{schemas:s}}const n=new Km(t);return n.process(e),n.emit(e,t)}function ln(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return ln(i.element,n);case"object":{for(const s in i.shape)if(ln(i.shape[s],n))return!0;return!1}case"union":{for(const s of i.options)if(ln(s,n))return!0;return!1}case"intersection":return ln(i.left,n)||ln(i.right,n);case"tuple":{for(const s of i.items)if(ln(s,n))return!0;return!!(i.rest&&ln(i.rest,n))}case"record":return ln(i.keyType,n)||ln(i.valueType,n);case"map":return ln(i.keyType,n)||ln(i.valueType,n);case"set":return ln(i.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return ln(i.innerType,n);case"lazy":return ln(i.getter(),n);case"default":return ln(i.innerType,n);case"prefault":return ln(i.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return ln(i.in,n)||ln(i.out,n);case"success":return!1;case"catch":return!1;case"function":return!1}throw new Error(`Unknown schema type: ${i.type}`)}const iD=de("ZodISODateTime",(e,t)=>{E$.init(e,t),Gt.init(e,t)});function aD(e){return OP(iD,e)}const oD=de("ZodISODate",(e,t)=>{A$.init(e,t),Gt.init(e,t)});function sD(e){return zP(oD,e)}const lD=de("ZodISOTime",(e,t)=>{T$.init(e,t),Gt.init(e,t)});function uD(e){return MP(lD,e)}const cD=de("ZodISODuration",(e,t)=>{j$.init(e,t),Gt.init(e,t)});function pD(e){return FP(cD,e)}const dD=(e,t)=>{ob.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>gN(e,n)},flatten:{value:n=>mN(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Uc,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Uc,2)}},isEmpty:{get(){return e.issues.length===0}}})},lr=de("ZodError",dD,{Parent:Error}),fD=$p(lr),hD=Pp(lr),mD=dl(lr),kb=fl(lr),gD=bN(lr),vD=xN(lr),yD=_N(lr),bD=wN(lr),xD=kN(lr),_D=CN(lr),wD=SN(lr),kD=EN(lr),Ut=de("ZodType",(e,t)=>($t.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Pi(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>pi(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>fD(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>mD(e,n,r),e.parseAsync=async(n,r)=>hD(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>kb(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>gD(e,n,r),e.decode=(n,r)=>vD(e,n,r),e.encodeAsync=async(n,r)=>yD(e,n,r),e.decodeAsync=async(n,r)=>bD(e,n,r),e.safeEncode=(n,r)=>xD(e,n,r),e.safeDecode=(n,r)=>_D(e,n,r),e.safeEncodeAsync=async(n,r)=>wD(e,n,r),e.safeDecodeAsync=async(n,r)=>kD(e,n,r),e.refine=(n,r)=>e.check(gL(n,r)),e.superRefine=n=>e.check(vL(n)),e.overwrite=n=>e.check(_o(n)),e.optional=()=>rn(e),e.nullable=()=>Xm(e),e.nullish=()=>rn(Xm(e)),e.nonoptional=n=>sL(e,n),e.array=()=>Wr(e),e.or=n=>cn([e,n]),e.and=n=>YD(e,n),e.transform=n=>Qm(e,tL(n)),e.default=n=>iL(e,n),e.prefault=n=>oL(e,n),e.catch=n=>uL(e,n),e.pipe=n=>Qm(e,n),e.readonly=()=>dL(e),e.describe=n=>{const r=e.clone();return Ka.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return Ka.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ka.get(e);const r=e.clone();return Ka.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Cb=de("_ZodString",(e,t)=>{Dp.init(e,t),Ut.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(UP(...r)),e.includes=(...r)=>e.check(WP(...r)),e.startsWith=(...r)=>e.check(qP(...r)),e.endsWith=(...r)=>e.check(VP(...r)),e.min=(...r)=>e.check(Hs(...r)),e.max=(...r)=>e.check(_b(...r)),e.length=(...r)=>e.check(wb(...r)),e.nonempty=(...r)=>e.check(Hs(1,...r)),e.lowercase=r=>e.check(ZP(r)),e.uppercase=r=>e.check(HP(r)),e.trim=()=>e.check(KP()),e.normalize=(...r)=>e.check(GP(...r)),e.toLowerCase=()=>e.check(JP()),e.toUpperCase=()=>e.check(YP())}),CD=de("ZodString",(e,t)=>{Dp.init(e,t),Cb.init(e,t),e.email=n=>e.check(dP(SD,n)),e.url=n=>e.check(vP(ED,n)),e.jwt=n=>e.check(RP(LD,n)),e.emoji=n=>e.check(yP(AD,n)),e.guid=n=>e.check(Wm(Jm,n)),e.uuid=n=>e.check(fP(Es,n)),e.uuidv4=n=>e.check(hP(Es,n)),e.uuidv6=n=>e.check(mP(Es,n)),e.uuidv7=n=>e.check(gP(Es,n)),e.nanoid=n=>e.check(bP(TD,n)),e.guid=n=>e.check(Wm(Jm,n)),e.cuid=n=>e.check(xP(jD,n)),e.cuid2=n=>e.check(_P(ID,n)),e.ulid=n=>e.check(wP(RD,n)),e.base64=n=>e.check(xb(Sb,n)),e.base64url=n=>e.check(jP(PD,n)),e.xid=n=>e.check(kP(OD,n)),e.ksuid=n=>e.check(CP(zD,n)),e.ipv4=n=>e.check(SP(MD,n)),e.ipv6=n=>e.check(EP(FD,n)),e.cidrv4=n=>e.check(AP(ND,n)),e.cidrv6=n=>e.check(TP($D,n)),e.e164=n=>e.check(IP(DD,n)),e.datetime=n=>e.check(aD(n)),e.date=n=>e.check(sD(n)),e.time=n=>e.check(uD(n)),e.duration=n=>e.check(pD(n))});function be(e){return pP(CD,e)}const Gt=de("ZodStringFormat",(e,t)=>{Bt.init(e,t),Cb.init(e,t)}),SD=de("ZodEmail",(e,t)=>{v$.init(e,t),Gt.init(e,t)}),Jm=de("ZodGUID",(e,t)=>{m$.init(e,t),Gt.init(e,t)}),Es=de("ZodUUID",(e,t)=>{g$.init(e,t),Gt.init(e,t)}),ED=de("ZodURL",(e,t)=>{y$.init(e,t),Gt.init(e,t)}),AD=de("ZodEmoji",(e,t)=>{b$.init(e,t),Gt.init(e,t)}),TD=de("ZodNanoID",(e,t)=>{x$.init(e,t),Gt.init(e,t)}),jD=de("ZodCUID",(e,t)=>{_$.init(e,t),Gt.init(e,t)}),ID=de("ZodCUID2",(e,t)=>{w$.init(e,t),Gt.init(e,t)}),RD=de("ZodULID",(e,t)=>{k$.init(e,t),Gt.init(e,t)}),OD=de("ZodXID",(e,t)=>{C$.init(e,t),Gt.init(e,t)}),zD=de("ZodKSUID",(e,t)=>{S$.init(e,t),Gt.init(e,t)}),MD=de("ZodIPv4",(e,t)=>{I$.init(e,t),Gt.init(e,t)}),FD=de("ZodIPv6",(e,t)=>{R$.init(e,t),Gt.init(e,t)}),ND=de("ZodCIDRv4",(e,t)=>{O$.init(e,t),Gt.init(e,t)}),$D=de("ZodCIDRv6",(e,t)=>{z$.init(e,t),Gt.init(e,t)}),Sb=de("ZodBase64",(e,t)=>{M$.init(e,t),Gt.init(e,t)});function Eb(e){return xb(Sb,e)}const PD=de("ZodBase64URL",(e,t)=>{N$.init(e,t),Gt.init(e,t)}),DD=de("ZodE164",(e,t)=>{$$.init(e,t),Gt.init(e,t)}),LD=de("ZodJWT",(e,t)=>{D$.init(e,t),Gt.init(e,t)}),Ab=de("ZodNumber",(e,t)=>{mb.init(e,t),Ut.init(e,t),e.gt=(r,i)=>e.check(Vm(r,i)),e.gte=(r,i)=>e.check(ac(r,i)),e.min=(r,i)=>e.check(ac(r,i)),e.lt=(r,i)=>e.check(qm(r,i)),e.lte=(r,i)=>e.check(ic(r,i)),e.max=(r,i)=>e.check(ic(r,i)),e.int=r=>e.check(Ym(r)),e.safe=r=>e.check(Ym(r)),e.positive=r=>e.check(Vm(0,r)),e.nonnegative=r=>e.check(ac(0,r)),e.negative=r=>e.check(qm(0,r)),e.nonpositive=r=>e.check(ic(0,r)),e.multipleOf=(r,i)=>e.check(Gm(r,i)),e.step=(r,i)=>e.check(Gm(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function po(e){return NP(Ab,e)}const BD=de("ZodNumberFormat",(e,t)=>{L$.init(e,t),Ab.init(e,t)});function Ym(e){return $P(BD,e)}const UD=de("ZodBoolean",(e,t)=>{B$.init(e,t),Ut.init(e,t)});function en(e){return PP(UD,e)}const ZD=de("ZodNull",(e,t)=>{U$.init(e,t),Ut.init(e,t)});function HD(e){return DP(ZD,e)}const WD=de("ZodUnknown",(e,t)=>{Z$.init(e,t),Ut.init(e,t)});function Ft(){return LP(WD)}const qD=de("ZodNever",(e,t)=>{H$.init(e,t),Ut.init(e,t)});function On(e){return BP(qD,e)}const VD=de("ZodArray",(e,t)=>{W$.init(e,t),Ut.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Hs(n,r)),e.nonempty=n=>e.check(Hs(1,n)),e.max=(n,r)=>e.check(_b(n,r)),e.length=(n,r)=>e.check(wb(n,r)),e.unwrap=()=>e.element});function Wr(e,t){return XP(VD,e,t)}const Lp=de("ZodObject",(e,t)=>{V$.init(e,t),Ut.init(e,t),bt(e,"shape",()=>t.shape),e.keyof=()=>ml(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ft()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ft()}),e.strict=()=>e.clone({...e._zod.def,catchall:On()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>cN(e,n),e.safeExtend=n=>pN(e,n),e.merge=n=>dN(e,n),e.pick=n=>lN(e,n),e.omit=n=>uN(e,n),e.partial=(...n)=>fN(jb,e,n[0]),e.required=(...n)=>hN(Ib,e,n[0])});function Ge(e,t){const n={type:"object",shape:e??{},...Pe(t)};return new Lp(n)}function zt(e,t){return new Lp({type:"object",shape:e,catchall:On(),...Pe(t)})}function ua(e,t){return new Lp({type:"object",shape:e,catchall:Ft(),...Pe(t)})}const Tb=de("ZodUnion",(e,t)=>{yb.init(e,t),Ut.init(e,t),e.options=t.options});function cn(e,t){return new Tb({type:"union",options:e,...Pe(t)})}const GD=de("ZodDiscriminatedUnion",(e,t)=>{Tb.init(e,t),G$.init(e,t)});function KD(e,t,n){return new GD({type:"union",options:t,discriminator:e,...Pe(n)})}const JD=de("ZodIntersection",(e,t)=>{K$.init(e,t),Ut.init(e,t)});function YD(e,t){return new JD({type:"intersection",left:e,right:t})}const XD=de("ZodRecord",(e,t)=>{J$.init(e,t),Ut.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Hc(e,t,n){return new XD({type:"record",keyType:e,valueType:t,...Pe(n)})}const Wc=de("ZodEnum",(e,t)=>{Y$.init(e,t),Ut.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const s={};for(const o of r)if(n.has(o))s[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Wc({...t,checks:[],...Pe(i),entries:s})},e.exclude=(r,i)=>{const s={...t.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new Wc({...t,checks:[],...Pe(i),entries:s})}});function ml(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Wc({type:"enum",entries:n,...Pe(t)})}const QD=de("ZodLiteral",(e,t)=>{X$.init(e,t),Ut.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Fe(e,t){return new QD({type:"literal",values:Array.isArray(e)?e:[e],...Pe(t)})}const eL=de("ZodTransform",(e,t)=>{Q$.init(e,t),Ut.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new eb(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(co(s,n.value,t));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(co(o))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function tL(e){return new eL({type:"transform",transform:e})}const jb=de("ZodOptional",(e,t)=>{eP.init(e,t),Ut.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rn(e){return new jb({type:"optional",innerType:e})}const nL=de("ZodNullable",(e,t)=>{tP.init(e,t),Ut.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Xm(e){return new nL({type:"nullable",innerType:e})}const rL=de("ZodDefault",(e,t)=>{nP.init(e,t),Ut.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function iL(e,t){return new rL({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():ib(t)}})}const aL=de("ZodPrefault",(e,t)=>{rP.init(e,t),Ut.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oL(e,t){return new aL({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():ib(t)}})}const Ib=de("ZodNonOptional",(e,t)=>{iP.init(e,t),Ut.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sL(e,t){return new Ib({type:"nonoptional",innerType:e,...Pe(t)})}const lL=de("ZodCatch",(e,t)=>{aP.init(e,t),Ut.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function uL(e,t){return new lL({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const cL=de("ZodPipe",(e,t)=>{oP.init(e,t),Ut.init(e,t),e.in=t.in,e.out=t.out});function Qm(e,t){return new cL({type:"pipe",in:e,out:t})}const pL=de("ZodReadonly",(e,t)=>{sP.init(e,t),Ut.init(e,t),e.unwrap=()=>e._zod.def.innerType});function dL(e){return new pL({type:"readonly",innerType:e})}const fL=de("ZodLazy",(e,t)=>{lP.init(e,t),Ut.init(e,t),e.unwrap=()=>e._zod.def.getter()});function hL(e){return new fL({type:"lazy",getter:e})}const Bp=de("ZodCustom",(e,t)=>{uP.init(e,t),Ut.init(e,t)});function mL(e,t){return QP(Bp,e??(()=>!0),t)}function gL(e,t={}){return eD(Bp,e,t)}function vL(e){return tD(e)}function Ws(e,t={error:`Input not instance of ${e.name}`}){const n=new Bp({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...Pe(t)});return n._zod.bag.Class=e,n}var fo;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),o={};for(const u of s)o[u]=i[u];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(fo||(fo={}));var eg;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(eg||(eg={}));fo.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);fo.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class qs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let u=r,c=0;for(;c<o.path.length;){const p=o.path[c];c===o.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(n(o))):u[p]=u[p]||{_errors:[]},u=u[p],c++}}};return i(this),r}static assert(t){if(!(t instanceof qs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fo.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n=Object.create(null),r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qs.create=e=>new qs(e);var tg;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(tg||(tg={}));var tt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(tt||(tt={}));var wo=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=()=>{const s=n.length,o=new Array(t);for(let u=0;u<t;u++)o[u]=n[Math.random()*s|0];return o.join("")};if(e==null)return i;if(n.includes(r))throw new JF({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${i()}`},yL=wo(),bL=/"__proto__"\s*:/,xL=/"constructor"\s*:/;function _L(e){const t=JSON.parse(e);return t===null||typeof t!="object"||bL.test(e)===!1&&xL.test(e)===!1?t:wL(t)}function wL(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const i in r){const s=r[i];s&&typeof s=="object"&&t.push(s)}}}return e}function kL(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return _L(e)}finally{Error.stackTraceLimit=t}}var Vs=Symbol.for("vercel.ai.validator");function CL(e){return{[Vs]:!0,validate:e}}function SL(e){return typeof e=="object"&&e!==null&&Vs in e&&e[Vs]===!0&&"validate"in e}function EL(e){return SL(e)?e:AL(e)}function AL(e){return CL(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new Us({value:t,cause:n.issues})}})}async function ng({value:e,schema:t}){const n=await Up({value:e,schema:t});if(!n.success)throw Us.wrap({value:e,cause:n.error});return n.value}async function Up({value:e,schema:t}){const n=EL(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:Us.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:Us.wrap({value:e,cause:r}),rawValue:e}}}async function Gs({text:e,schema:t}){try{const n=kL(e);return t==null?{success:!0,value:n,rawValue:n}:await Up({value:n,schema:t})}catch(n){return{success:!1,error:Om.isInstance(n)?n:new Om({text:e,cause:n}),rawValue:void 0}}}function TL({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new nN).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await Gs({text:n,schema:t}))}}))}async function na(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var jL=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},IL=Symbol("Let zodToJsonSchema decide on which parser to use"),rg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},RL=e=>typeof e=="string"?{...rg,name:e}:{...rg,...e};function Wn(){return{}}function OL(e,t){var n,r,i;const s={type:"array"};return(n=e.type)!=null&&n._def&&((i=(r=e.type)==null?void 0:r._def)==null?void 0:i.typeName)!==tt.ZodAny&&(s.items=St(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}function zL(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function ML(){return{type:"boolean"}}function Rb(e,t){return St(e.type._def,t)}var FL=(e,t)=>St(e.innerType._def,t);function Ob(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,s)=>Ob(e,t,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return NL(e)}}var NL=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function $L(e,t){return{...St(e.innerType._def,t),default:e.defaultValue()}}function PL(e,t){return t.effectStrategy==="input"?St(e.schema._def,t):Wn()}function DL(e){return{type:"string",enum:Array.from(e.values)}}var LL=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function BL(e,t){const n=[St(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),St(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),r=[];return n.forEach(i=>{if(LL(i))r.push(...i.allOf);else{let s=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:o,...u}=i;s=u}r.push(s)}}),r.length?{allOf:r}:void 0}function UL(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var oc=void 0,hr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(oc===void 0&&(oc=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),oc),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function zb(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":mr(n,"email",r.message,t);break;case"format:idn-email":mr(n,"idn-email",r.message,t);break;case"pattern:zod":wn(n,hr.email,r.message,t);break}break;case"url":mr(n,"uri",r.message,t);break;case"uuid":mr(n,"uuid",r.message,t);break;case"regex":wn(n,r.regex,r.message,t);break;case"cuid":wn(n,hr.cuid,r.message,t);break;case"cuid2":wn(n,hr.cuid2,r.message,t);break;case"startsWith":wn(n,RegExp(`^${sc(r.value,t)}`),r.message,t);break;case"endsWith":wn(n,RegExp(`${sc(r.value,t)}$`),r.message,t);break;case"datetime":mr(n,"date-time",r.message,t);break;case"date":mr(n,"date",r.message,t);break;case"time":mr(n,"time",r.message,t);break;case"duration":mr(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{wn(n,RegExp(sc(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&mr(n,"ipv4",r.message,t),r.version!=="v4"&&mr(n,"ipv6",r.message,t);break}case"base64url":wn(n,hr.base64url,r.message,t);break;case"jwt":wn(n,hr.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&wn(n,hr.ipv4Cidr,r.message,t),r.version!=="v4"&&wn(n,hr.ipv6Cidr,r.message,t);break}case"emoji":wn(n,hr.emoji(),r.message,t);break;case"ulid":{wn(n,hr.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{mr(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{wn(n,hr.base64,r.message,t);break}}break}case"nanoid":wn(n,hr.nanoid,r.message,t)}return n}function sc(e,t){return t.patternStrategy==="escape"?HL(e):e}var ZL=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function HL(e){let t="";for(let n=0;n<e.length;n++)ZL.has(e[n])||(t+="\\"),t+=e[n];return t}function mr(e,t,n,r){var i;e.format||(i=e.anyOf)!=null&&i.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function wn(e,t,n,r){var i;e.pattern||(i=e.allOf)!=null&&i.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:ig(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=ig(t,r)}function ig(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=r.i?e.source.toLowerCase():e.source;let s="",o=!1,u=!1,c=!1;for(let p=0;p<i.length;p++){if(o){s+=i[p],o=!1;continue}if(r.i){if(u){if(i[p].match(/[a-z]/)){c?(s+=i[p],s+=`${i[p-2]}-${i[p]}`.toUpperCase(),c=!1):i[p+1]==="-"&&((n=i[p+2])!=null&&n.match(/[a-z]/))?(s+=i[p],c=!0):s+=`${i[p]}${i[p].toUpperCase()}`;continue}}else if(i[p].match(/[a-z]/)){s+=`[${i[p]}${i[p].toUpperCase()}]`;continue}}if(r.m){if(i[p]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(i[p]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&i[p]==="."){s+=u?`${i[p]}\r
`:`[${i[p]}\r
]`;continue}s+=i[p],i[p]==="\\"?o=!0:u&&i[p]==="]"?u=!1:!u&&i[p]==="["&&(u=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function Mb(e,t){var n,r,i,s,o,u;const c={type:"object",additionalProperties:(n=St(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===tt.ZodString&&((i=e.keyType._def.checks)!=null&&i.length)){const{type:p,...d}=zb(e.keyType._def,t);return{...c,propertyNames:d}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===tt.ZodEnum)return{...c,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===tt.ZodBranded&&e.keyType._def.type._def.typeName===tt.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){const{type:p,...d}=Rb(e.keyType._def,t);return{...c,propertyNames:d}}}return c}function WL(e,t){if(t.mapStrategy==="record")return Mb(e,t);const n=St(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Wn(),r=St(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Wn();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function qL(e){const t=e.values,r=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),i=Array.from(new Set(r.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function VL(){return{not:Wn()}}function GL(){return{type:"null"}}var qc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function KL(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in qc&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,s)=>{const o=qc[s._def.typeName];return o&&!i.includes(o)?[...i,o]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...i,o];case"bigint":return[...i,"integer"];case"object":if(s._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((s,o,u)=>u.indexOf(s)===o);return{type:i.length>1?i:i[0],enum:n.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(s=>!r.includes(s))],[])};return JL(e,t)}var JL=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,i)=>St(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function YL(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[qc[e.innerType._def.typeName],"null"]};const n=St(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function XL(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function QL(e,t){const n={type:"object",properties:{}},r=[],i=e.shape();for(const o in i){let u=i[o];if(u===void 0||u._def===void 0)continue;const c=t4(u),p=St(u._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});p!==void 0&&(n.properties[o]=p,c||r.push(o))}r.length&&(n.required=r);const s=e4(e,t);return s!==void 0&&(n.additionalProperties=s),n}function e4(e,t){if(e.catchall._def.typeName!=="ZodNever")return St(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function t4(e){try{return e.isOptional()}catch{return!0}}var n4=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return St(e.innerType._def,t);const r=St(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Wn()},r]}:Wn()},r4=(e,t)=>{if(t.pipeStrategy==="input")return St(e.in._def,t);if(t.pipeStrategy==="output")return St(e.out._def,t);const n=St(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=St(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function i4(e,t){return St(e.type._def,t)}function a4(e,t){const r={type:"array",uniqueItems:!0,items:St(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function o4(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>St(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:St(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>St(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function s4(){return{not:Wn()}}function l4(){return Wn()}var u4=(e,t)=>St(e.innerType._def,t),c4=(e,t,n)=>{switch(t){case tt.ZodString:return zb(e,n);case tt.ZodNumber:return XL(e);case tt.ZodObject:return QL(e,n);case tt.ZodBigInt:return zL(e);case tt.ZodBoolean:return ML();case tt.ZodDate:return Ob(e,n);case tt.ZodUndefined:return s4();case tt.ZodNull:return GL();case tt.ZodArray:return OL(e,n);case tt.ZodUnion:case tt.ZodDiscriminatedUnion:return KL(e,n);case tt.ZodIntersection:return BL(e,n);case tt.ZodTuple:return o4(e,n);case tt.ZodRecord:return Mb(e,n);case tt.ZodLiteral:return UL(e);case tt.ZodEnum:return DL(e);case tt.ZodNativeEnum:return qL(e);case tt.ZodNullable:return YL(e,n);case tt.ZodOptional:return n4(e,n);case tt.ZodMap:return WL(e,n);case tt.ZodSet:return a4(e,n);case tt.ZodLazy:return()=>e.getter()._def;case tt.ZodPromise:return i4(e,n);case tt.ZodNaN:case tt.ZodNever:return VL();case tt.ZodEffects:return PL(e,n);case tt.ZodAny:return Wn();case tt.ZodUnknown:return l4();case tt.ZodDefault:return $L(e,n);case tt.ZodBranded:return Rb(e,n);case tt.ZodReadonly:return u4(e,n);case tt.ZodCatch:return FL(e,n);case tt.ZodPipeline:return r4(e,n);case tt.ZodFunction:case tt.ZodVoid:case tt.ZodSymbol:return;default:return(r=>{})()}};function St(e,t,n=!1){var r;const i=t.seen.get(e);if(t.override){const c=(r=t.override)==null?void 0:r.call(t,e,t,i,n);if(c!==IL)return c}if(i&&!n){const c=p4(i,t);if(c!==void 0)return c}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const o=c4(e,e.typeName,t),u=typeof o=="function"?St(o(),t):o;if(u&&d4(e,t,u),t.postProcess){const c=t.postProcess(u,e,t);return s.jsonSchema=u,c}return s.jsonSchema=u,u}var p4=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:jL(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Wn()):t.$refStrategy==="seen"?Wn():void 0}},d4=(e,t,n)=>(e.description&&(n.description=e.description),n),f4=e=>{const t=RL(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},h4=(e,t)=>{var n;const r=f4(t);let i=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((p,[d,m])=>{var v;return{...p,[d]:(v=St(m._def,{...r,currentPath:[...r.basePath,r.definitionPath,d]},!0))!=null?v:Wn()}},{}):void 0;const s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=(n=St(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1))!=null?n:Wn(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(o.title=u);const c=s===void 0?i?{...o,[r.definitionPath]:i}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...i,[s]:o}};return c.$schema="http://json-schema.org/draft-07/schema#",c},m4=h4;function g4(e,t){var n;const r=(n=void 0)!=null?n:!1;return Zp(m4(e,{$refStrategy:r?"root":"none"}),{validate:async i=>{const s=await e.safeParseAsync(i);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function v4(e,t){var n;const r=(n=void 0)!=null?n:!1,i=rD(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"});return Zp(i,{validate:async s=>{const o=await kb(e,s);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function y4(e){return"_zod"in e}function b4(e,t){return y4(e)?v4(e):g4(e)}var Vc=Symbol.for("vercel.ai.schema");function Zp(e,{validate:t}={}){return{[Vc]:!0,_type:void 0,[Vs]:!0,jsonSchema:e,validate:t}}function x4(e){return typeof e=="object"&&e!==null&&Vc in e&&e[Vc]===!0&&"jsonSchema"in e&&"validate"in e}function _4(e){return e==null?Zp({properties:{},additionalProperties:!1}):x4(e)?e:b4(e)}var w4=Object.defineProperty,k4=(e,t)=>{for(var n in t)w4(e,n,{get:t[n],enumerable:!0})},Fb="AI_NoObjectGeneratedError",Nb=`vercel.ai.error.${Fb}`,C4=Symbol.for(Nb),$b,ag=class extends si{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:i,finishReason:s}){super({name:Fb,message:e,cause:t}),this[$b]=!0,this.text=n,this.response=r,this.usage=i,this.finishReason=s}static isInstance(e){return si.hasMarker(e,Nb)}};$b=C4;var Pb=cn([be(),Ws(Uint8Array),Ws(ArrayBuffer),mL(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),ho=hL(()=>cn([HD(),be(),po(),en(),Hc(be(),ho),Wr(ho)])),yt=Hc(be(),Hc(be(),ho)),Db=Ge({type:Fe("text"),text:be(),providerOptions:yt.optional()}),S4=Ge({type:Fe("image"),image:cn([Pb,Ws(URL)]),mediaType:be().optional(),providerOptions:yt.optional()}),Lb=Ge({type:Fe("file"),data:cn([Pb,Ws(URL)]),filename:be().optional(),mediaType:be(),providerOptions:yt.optional()}),E4=Ge({type:Fe("reasoning"),text:be(),providerOptions:yt.optional()}),A4=Ge({type:Fe("tool-call"),toolCallId:be(),toolName:be(),input:Ft(),providerOptions:yt.optional(),providerExecuted:en().optional()}),T4=KD("type",[Ge({type:Fe("text"),value:be()}),Ge({type:Fe("json"),value:ho}),Ge({type:Fe("error-text"),value:be()}),Ge({type:Fe("error-json"),value:ho}),Ge({type:Fe("content"),value:Wr(cn([Ge({type:Fe("text"),text:be()}),Ge({type:Fe("media"),data:be(),mediaType:be()})]))})]),Bb=Ge({type:Fe("tool-result"),toolCallId:be(),toolName:be(),output:T4,providerOptions:yt.optional()}),j4=Ge({role:Fe("system"),content:be(),providerOptions:yt.optional()}),I4=Ge({role:Fe("user"),content:cn([be(),Wr(cn([Db,S4,Lb]))]),providerOptions:yt.optional()}),R4=Ge({role:Fe("assistant"),content:cn([be(),Wr(cn([Db,Lb,E4,A4,Bb]))]),providerOptions:yt.optional()}),O4=Ge({role:Fe("tool"),content:Wr(Bb),providerOptions:yt.optional()});cn([j4,I4,R4,O4]);wo({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var z4=cn([zt({type:Fe("text-start"),id:be(),providerMetadata:yt.optional()}),zt({type:Fe("text-delta"),id:be(),delta:be(),providerMetadata:yt.optional()}),zt({type:Fe("text-end"),id:be(),providerMetadata:yt.optional()}),zt({type:Fe("error"),errorText:be()}),zt({type:Fe("tool-input-start"),toolCallId:be(),toolName:be(),providerExecuted:en().optional(),dynamic:en().optional()}),zt({type:Fe("tool-input-delta"),toolCallId:be(),inputTextDelta:be()}),zt({type:Fe("tool-input-available"),toolCallId:be(),toolName:be(),input:Ft(),providerExecuted:en().optional(),providerMetadata:yt.optional(),dynamic:en().optional()}),zt({type:Fe("tool-input-error"),toolCallId:be(),toolName:be(),input:Ft(),providerExecuted:en().optional(),providerMetadata:yt.optional(),dynamic:en().optional(),errorText:be()}),zt({type:Fe("tool-output-available"),toolCallId:be(),output:Ft(),providerExecuted:en().optional(),dynamic:en().optional(),preliminary:en().optional()}),zt({type:Fe("tool-output-error"),toolCallId:be(),errorText:be(),providerExecuted:en().optional(),dynamic:en().optional()}),zt({type:Fe("reasoning"),text:be(),providerMetadata:yt.optional()}),zt({type:Fe("reasoning-start"),id:be(),providerMetadata:yt.optional()}),zt({type:Fe("reasoning-delta"),id:be(),delta:be(),providerMetadata:yt.optional()}),zt({type:Fe("reasoning-end"),id:be(),providerMetadata:yt.optional()}),zt({type:Fe("reasoning-part-finish")}),zt({type:Fe("source-url"),sourceId:be(),url:be(),title:be().optional(),providerMetadata:yt.optional()}),zt({type:Fe("source-document"),sourceId:be(),mediaType:be(),title:be(),filename:be().optional(),providerMetadata:yt.optional()}),zt({type:Fe("file"),url:be(),mediaType:be(),providerMetadata:yt.optional()}),zt({type:be().startsWith("data-"),id:be().optional(),data:Ft(),transient:en().optional()}),zt({type:Fe("start-step")}),zt({type:Fe("finish-step")}),zt({type:Fe("start"),messageId:be().optional(),messageMetadata:Ft().optional()}),zt({type:Fe("finish"),messageMetadata:Ft().optional()}),zt({type:Fe("abort")}),zt({type:Fe("message-metadata"),messageMetadata:Ft()})]);function M4(e){return e.type.startsWith("data-")}function Ub(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];if(i===void 0)continue;const s=r in e?e[r]:void 0,o=i!==null&&typeof i=="object"&&!Array.isArray(i)&&!(i instanceof Date)&&!(i instanceof RegExp),u=s!=null&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&!(s instanceof RegExp);o&&u?n[r]=Ub(s,i):n[r]=i}return n}function F4(e){const t=["ROOT"];let n=-1,r=null;function i(c,p,d){switch(c){case'"':{n=p,t.pop(),t.push(d),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=p,r=p,t.pop(),t.push(d),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p,t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"{":{n=p,t.pop(),t.push(d),t.push("INSIDE_OBJECT_START");break}case"[":{n=p,t.pop(),t.push(d),t.push("INSIDE_ARRAY_START");break}}}function s(c,p){switch(c){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=p,t.pop();break}}}function o(c,p){switch(c){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=p,t.pop();break}}}for(let c=0;c<e.length;c++){const p=e[c];switch(t[t.length-1]){case"ROOT":i(p,c,"FINISH");break;case"INSIDE_OBJECT_START":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=c,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(p){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{i(p,c,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{s(p,c);break}case"INSIDE_STRING":{switch(p){case'"':{t.pop(),n=c;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=c}break}case"INSIDE_ARRAY_START":{switch(p){case"]":{n=c,t.pop();break}default:{n=c,i(p,c,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=c,t.pop();break}default:{n=c;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{i(p,c,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=c;break}case"INSIDE_NUMBER":{switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=c;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(p,c),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(p,c);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(p,c);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(p,c);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const m=e.substring(r,c+1);!"false".startsWith(m)&&!"true".startsWith(m)&&!"null".startsWith(m)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?s(p,c):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(p,c)):n=c;break}}}let u=e.slice(0,n+1);for(let c=t.length-1;c>=0;c--)switch(t[c]){case"INSIDE_STRING":{u+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{u+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{u+="]";break}case"INSIDE_LITERAL":{const d=e.substring(r,e.length);"true".startsWith(d)?u+="true".slice(d.length):"false".startsWith(d)?u+="false".slice(d.length):"null".startsWith(d)&&(u+="null".slice(d.length))}}return u}async function Zb(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await Gs({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await Gs({text:F4(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function Is(e){return e.type.startsWith("tool-")}function N4(e){return e.type==="dynamic-tool"}function og(e){return Is(e)||N4(e)}function sg(e){return e.type.split("-").slice(1).join("-")}function $4({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function P4({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:i,onToolCall:s,onData:o}){return e.pipeThrough(new TransformStream({async transform(u,c){await r(async({state:p,write:d})=>{var m,v,y,h;function x(I){const O=p.message.parts.filter(Is).find(D=>D.toolCallId===I);if(O==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return O}function b(I){const O=p.message.parts.filter(D=>D.type==="dynamic-tool").find(D=>D.toolCallId===I);if(O==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return O}function k(I){var F;const O=p.message.parts.find(K=>Is(K)&&K.toolCallId===I.toolCallId),D=I,B=O;O!=null?(O.state=I.state,B.input=D.input,B.output=D.output,B.errorText=D.errorText,B.rawInput=D.rawInput,B.preliminary=D.preliminary,B.providerExecuted=(F=D.providerExecuted)!=null?F:O.providerExecuted,D.providerMetadata!=null&&O.state==="input-available"&&(O.callProviderMetadata=D.providerMetadata)):p.message.parts.push({type:`tool-${I.toolName}`,toolCallId:I.toolCallId,state:I.state,input:D.input,output:D.output,rawInput:D.rawInput,errorText:D.errorText,providerExecuted:D.providerExecuted,preliminary:D.preliminary,...D.providerMetadata!=null?{callProviderMetadata:D.providerMetadata}:{}})}function S(I){var F;const O=p.message.parts.find(K=>K.type==="dynamic-tool"&&K.toolCallId===I.toolCallId),D=I,B=O;O!=null?(O.state=I.state,B.toolName=I.toolName,B.input=D.input,B.output=D.output,B.errorText=D.errorText,B.rawInput=(F=D.rawInput)!=null?F:B.rawInput,B.preliminary=D.preliminary,D.providerMetadata!=null&&O.state==="input-available"&&(O.callProviderMetadata=D.providerMetadata)):p.message.parts.push({type:"dynamic-tool",toolName:I.toolName,toolCallId:I.toolCallId,state:I.state,input:D.input,output:D.output,errorText:D.errorText,preliminary:D.preliminary,...D.providerMetadata!=null?{callProviderMetadata:D.providerMetadata}:{}})}async function A(I){if(I!=null){const F=p.message.metadata!=null?Ub(p.message.metadata,I):I;t!=null&&await ng({value:F,schema:t}),p.message.metadata=F}}switch(u.type){case"text-start":{const I={type:"text",text:"",providerMetadata:u.providerMetadata,state:"streaming"};p.activeTextParts[u.id]=I,p.message.parts.push(I),d();break}case"text-delta":{const I=p.activeTextParts[u.id];I.text+=u.delta,I.providerMetadata=(m=u.providerMetadata)!=null?m:I.providerMetadata,d();break}case"text-end":{const I=p.activeTextParts[u.id];I.state="done",I.providerMetadata=(v=u.providerMetadata)!=null?v:I.providerMetadata,delete p.activeTextParts[u.id],d();break}case"reasoning-start":{const I={type:"reasoning",text:"",providerMetadata:u.providerMetadata,state:"streaming"};p.activeReasoningParts[u.id]=I,p.message.parts.push(I),d();break}case"reasoning-delta":{const I=p.activeReasoningParts[u.id];I.text+=u.delta,I.providerMetadata=(y=u.providerMetadata)!=null?y:I.providerMetadata,d();break}case"reasoning-end":{const I=p.activeReasoningParts[u.id];I.providerMetadata=(h=u.providerMetadata)!=null?h:I.providerMetadata,I.state="done",delete p.activeReasoningParts[u.id],d();break}case"file":{p.message.parts.push({type:"file",mediaType:u.mediaType,url:u.url}),d();break}case"source-url":{p.message.parts.push({type:"source-url",sourceId:u.sourceId,url:u.url,title:u.title,providerMetadata:u.providerMetadata}),d();break}case"source-document":{p.message.parts.push({type:"source-document",sourceId:u.sourceId,mediaType:u.mediaType,title:u.title,filename:u.filename,providerMetadata:u.providerMetadata}),d();break}case"tool-input-start":{const I=p.message.parts.filter(Is);p.partialToolCalls[u.toolCallId]={text:"",toolName:u.toolName,index:I.length,dynamic:u.dynamic},u.dynamic?S({toolCallId:u.toolCallId,toolName:u.toolName,state:"input-streaming",input:void 0}):k({toolCallId:u.toolCallId,toolName:u.toolName,state:"input-streaming",input:void 0,providerExecuted:u.providerExecuted}),d();break}case"tool-input-delta":{const I=p.partialToolCalls[u.toolCallId];I.text+=u.inputTextDelta;const{value:F}=await Zb(I.text);I.dynamic?S({toolCallId:u.toolCallId,toolName:I.toolName,state:"input-streaming",input:F}):k({toolCallId:u.toolCallId,toolName:I.toolName,state:"input-streaming",input:F}),d();break}case"tool-input-available":{u.dynamic?S({toolCallId:u.toolCallId,toolName:u.toolName,state:"input-available",input:u.input,providerMetadata:u.providerMetadata}):k({toolCallId:u.toolCallId,toolName:u.toolName,state:"input-available",input:u.input,providerExecuted:u.providerExecuted,providerMetadata:u.providerMetadata}),d(),s&&!u.providerExecuted&&await s({toolCall:u});break}case"tool-input-error":{u.dynamic?S({toolCallId:u.toolCallId,toolName:u.toolName,state:"output-error",input:u.input,errorText:u.errorText,providerMetadata:u.providerMetadata}):k({toolCallId:u.toolCallId,toolName:u.toolName,state:"output-error",input:void 0,rawInput:u.input,errorText:u.errorText,providerExecuted:u.providerExecuted,providerMetadata:u.providerMetadata}),d();break}case"tool-output-available":{if(u.dynamic){const I=b(u.toolCallId);S({toolCallId:u.toolCallId,toolName:I.toolName,state:"output-available",input:I.input,output:u.output,preliminary:u.preliminary})}else{const I=x(u.toolCallId);k({toolCallId:u.toolCallId,toolName:sg(I),state:"output-available",input:I.input,output:u.output,providerExecuted:u.providerExecuted,preliminary:u.preliminary})}d();break}case"tool-output-error":{if(u.dynamic){const I=b(u.toolCallId);S({toolCallId:u.toolCallId,toolName:I.toolName,state:"output-error",input:I.input,errorText:u.errorText})}else{const I=x(u.toolCallId);k({toolCallId:u.toolCallId,toolName:sg(I),state:"output-error",input:I.input,rawInput:I.rawInput,errorText:u.errorText})}d();break}case"start-step":{p.message.parts.push({type:"step-start"});break}case"finish-step":{p.activeTextParts={},p.activeReasoningParts={};break}case"start":{u.messageId!=null&&(p.message.id=u.messageId),await A(u.messageMetadata),(u.messageId!=null||u.messageMetadata!=null)&&d();break}case"finish":{await A(u.messageMetadata),u.messageMetadata!=null&&d();break}case"message-metadata":{await A(u.messageMetadata),u.messageMetadata!=null&&d();break}case"error":{i?.(new Error(u.errorText));break}default:if(M4(u)){n?.[u.type]!=null&&await ng({value:u.data,schema:n[u.type]});const I=u;if(I.transient){o?.(I);break}const F=I.id!=null?p.message.parts.find(O=>I.type===O.type&&I.id===O.id):void 0;F!=null?F.data=I.data:p.message.parts.push(I),o?.(I),d()}}c.enqueue(u)})}}))}async function D4({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:r}=await n.read();if(r)break}}catch(r){t?.(r)}finally{n.releaseLock()}}wo({prefix:"aitxt",size:24});wo({prefix:"aiobj",size:24});var L4=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(r){n(r)}}),this.processQueue()})}};wo({prefix:"aiobj",size:24});var B4={};k4(B4,{object:()=>Z4,text:()=>U4});var U4=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),Z4=({schema:e})=>{const t=_4(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await Zb(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const i=r.state;throw new Error(`Unsupported parse state: ${i}`)}}},async parseOutput({text:n},r){const i=await Gs({text:n});if(!i.success)throw new ag({message:"No object generated: could not parse the response.",cause:i.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const s=await Up({value:i.value,schema:t});if(!s.success)throw new ag({message:"No object generated: response did not match schema.",cause:s.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return s.value}}},H4=ua({name:be(),version:be()}),Hp=ua({_meta:rn(Ge({}).loose())}),mo=Hp,W4=Ge({method:be(),params:rn(Hp)}),q4=ua({experimental:rn(Ge({}).loose()),logging:rn(Ge({}).loose()),prompts:rn(ua({listChanged:rn(en())})),resources:rn(ua({subscribe:rn(en()),listChanged:rn(en())})),tools:rn(ua({listChanged:rn(en())}))});mo.extend({protocolVersion:be(),capabilities:q4,serverInfo:H4,instructions:rn(be())});var V4=mo.extend({nextCursor:rn(be())}),G4=Ge({name:be(),description:rn(be()),inputSchema:Ge({type:Fe("object"),properties:rn(Ge({}).loose())}).loose()}).loose();V4.extend({tools:Wr(G4)});var K4=Ge({type:Fe("text"),text:be()}).loose(),J4=Ge({type:Fe("image"),data:Eb(),mimeType:be()}).loose(),Hb=Ge({uri:be(),mimeType:rn(be())}).loose(),Y4=Hb.extend({text:be()}),X4=Hb.extend({blob:Eb()}),Q4=Ge({type:Fe("resource"),resource:cn([Y4,X4])}).loose();mo.extend({content:Wr(cn([K4,J4,Q4])),isError:en().default(!1).optional()}).or(mo.extend({toolResult:Ft()}));var gl="2.0",e5=Ge({jsonrpc:Fe(gl),id:cn([be(),po().int()])}).merge(W4).strict(),t5=Ge({jsonrpc:Fe(gl),id:cn([be(),po().int()]),result:mo}).strict(),n5=Ge({jsonrpc:Fe(gl),id:cn([be(),po().int()]),error:Ge({code:po().int(),message:be(),data:rn(Ft())})}).strict(),r5=Ge({jsonrpc:Fe(gl)}).merge(Ge({method:be(),params:rn(Hp)})).strict();cn([e5,r5,t5,n5]);async function i5(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:n,type:r}=t,i=await new Promise((s,o)=>{const u=new FileReader;u.onload=c=>{var p;s((p=c.target)==null?void 0:p.result)},u.onerror=c=>o(c),u.readAsDataURL(t)});return{type:"file",mediaType:r,filename:n,url:i}}))}var a5=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:i,prepareSendMessagesRequest:s,prepareReconnectToStreamRequest:o}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=i,this.prepareSendMessagesRequest=s,this.prepareReconnectToStreamRequest=o}async sendMessages({abortSignal:e,...t}){var n,r,i,s,o;const u=await na(this.body),c=await na(this.headers),p=await na(this.credentials),d=await((n=this.prepareSendMessagesRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...u,...t.body},headers:{...c,...t.headers},credentials:p,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),m=(r=d?.api)!=null?r:this.api,v=d?.headers!==void 0?d.headers:{...c,...t.headers},y=d?.body!==void 0?d.body:{...u,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},h=(i=d?.credentials)!=null?i:p,b=await((s=this.fetch)!=null?s:globalThis.fetch)(m,{method:"POST",headers:{"Content-Type":"application/json",...v},body:JSON.stringify(y),credentials:h,signal:e});if(!b.ok)throw new Error((o=await b.text())!=null?o:"Failed to fetch the chat response.");if(!b.body)throw new Error("The response body is empty.");return this.processResponseStream(b.body)}async reconnectToStream(e){var t,n,r,i,s;const o=await na(this.body),u=await na(this.headers),c=await na(this.credentials),p=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...o,...e.body},headers:{...u,...e.headers},credentials:c,requestMetadata:e.metadata})),d=(n=p?.api)!=null?n:`${this.api}/${e.chatId}/stream`,m=p?.headers!==void 0?p.headers:{...u,...e.headers},v=(r=p?.credentials)!=null?r:c,h=await((i=this.fetch)!=null?i:globalThis.fetch)(d,{method:"GET",headers:m,credentials:v});if(h.status===204)return null;if(!h.ok)throw new Error((s=await h.text())!=null?s:"Failed to fetch the chat response.");if(!h.body)throw new Error("The response body is empty.");return this.processResponseStream(h.body)}},Wb=class extends a5{constructor(e={}){super(e)}processResponseStream(e){return TL({stream:e,schema:z4}).pipeThrough(new TransformStream({async transform(t,n){if(!t.success)throw t.error;n.enqueue(t.value)}}))}},o5=class{constructor({generateId:e=yL,id:t=e(),transport:n=new Wb,messageMetadataSchema:r,dataPartSchemas:i,state:s,onError:o,onToolCall:u,onFinish:c,onData:p,sendAutomaticallyWhen:d}){this.activeResponse=void 0,this.jobExecutor=new L4,this.sendMessage=async(m,v)=>{var y,h,x,b;if(m==null){await this.makeRequest({trigger:"submit-message",messageId:(y=this.lastMessage)==null?void 0:y.id,...v});return}let k;if("text"in m||"files"in m?k={parts:[...Array.isArray(m.files)?m.files:await i5(m.files),..."text"in m&&m.text!=null?[{type:"text",text:m.text}]:[]]}:k=m,m.messageId!=null){const S=this.state.messages.findIndex(A=>A.id===m.messageId);if(S===-1)throw new Error(`message with id ${m.messageId} not found`);if(this.state.messages[S].role!=="user")throw new Error(`message with id ${m.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,S+1),this.state.replaceMessage(S,{...k,id:m.messageId,role:(h=k.role)!=null?h:"user",metadata:m.metadata})}else this.state.pushMessage({...k,id:(x=k.id)!=null?x:this.generateId(),role:(b=k.role)!=null?b:"user",metadata:m.metadata});await this.makeRequest({trigger:"submit-message",messageId:m.messageId,...v})},this.regenerate=async({messageId:m,...v}={})=>{const y=m==null?this.state.messages.length-1:this.state.messages.findIndex(h=>h.id===m);if(y===-1)throw new Error(`message ${m} not found`);this.state.messages=this.state.messages.slice(0,this.messages[y].role==="assistant"?y:y+1),await this.makeRequest({trigger:"regenerate-message",messageId:m,...v})},this.resumeStream=async(m={})=>{await this.makeRequest({trigger:"resume-stream",...m})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolResult=async({tool:m,toolCallId:v,output:y})=>this.jobExecutor.run(async()=>{var h,x;const b=this.state.messages,k=b[b.length-1];this.state.replaceMessage(b.length-1,{...k,parts:k.parts.map(S=>og(S)&&S.toolCallId===v?{...S,state:"output-available",output:y}:S)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(S=>og(S)&&S.toolCallId===v?{...S,state:"output-available",output:y,errorText:void 0}:S)),this.status!=="streaming"&&this.status!=="submitted"&&((h=this.sendAutomaticallyWhen)!=null&&h.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(x=this.lastMessage)==null?void 0:x.id})}),this.stop=async()=>{var m;this.status!=="streaming"&&this.status!=="submitted"||(m=this.activeResponse)!=null&&m.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=i,this.state=s,this.onError=o,this.onToolCall=u,this.onFinish=c,this.onData=p,this.sendAutomaticallyWhen=d}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:i}){var s,o,u;this.setStatus({status:"submitted",error:void 0});const c=this.lastMessage;try{const p={state:$4({lastMessage:this.state.snapshot(c),messageId:this.generateId()}),abortController:new AbortController};this.activeResponse=p;let d;if(e==="resume-stream"){const v=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(v==null){this.setStatus({status:"ready"});return}d=v}else d=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:p.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:i});const m=v=>this.jobExecutor.run(()=>v({state:p.state,write:()=>{var y;this.setStatus({status:"streaming"}),p.state.message.id===((y=this.lastMessage)==null?void 0:y.id)?this.state.replaceMessage(this.state.messages.length-1,p.state.message):this.state.pushMessage(p.state.message)}}));await D4({stream:P4({stream:d,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:m,onError:v=>{throw v}}),onError:v=>{throw v}}),(s=this.onFinish)==null||s.call(this,{message:p.state.message,messages:this.state.messages}),this.setStatus({status:"ready"})}catch(p){if(p.name==="AbortError")return this.setStatus({status:"ready"}),null;this.onError&&p instanceof Error&&this.onError(p),this.setStatus({status:"error",error:p})}finally{this.activeResponse=void 0}(o=this.sendAutomaticallyWhen)!=null&&o.call(this,{messages:this.state.messages})&&await this.makeRequest({trigger:"submit-message",messageId:(u=this.lastMessage)==null?void 0:u.id,metadata:t,headers:n,body:r})}},s5=Ge({type:Fe("text"),text:be(),state:ml(["streaming","done"]).optional(),providerMetadata:yt.optional()}),l5=Ge({type:Fe("reasoning"),text:be(),state:ml(["streaming","done"]).optional(),providerMetadata:yt.optional()}),u5=Ge({type:Fe("source-url"),sourceId:be(),url:be(),title:be().optional(),providerMetadata:yt.optional()}),c5=Ge({type:Fe("source-document"),sourceId:be(),mediaType:be(),title:be(),filename:be().optional(),providerMetadata:yt.optional()}),p5=Ge({type:Fe("file"),mediaType:be(),filename:be().optional(),url:be(),providerMetadata:yt.optional()}),d5=Ge({type:Fe("step-start")}),f5=Ge({type:be().startsWith("data-"),id:be().optional(),data:Ft()}),h5=[Ge({type:Fe("dynamic-tool"),toolName:be(),toolCallId:be(),state:Fe("input-streaming"),input:Ft().optional(),output:On().optional(),errorText:On().optional()}),Ge({type:Fe("dynamic-tool"),toolName:be(),toolCallId:be(),state:Fe("input-available"),input:Ft(),output:On().optional(),errorText:On().optional(),callProviderMetadata:yt.optional()}),Ge({type:Fe("dynamic-tool"),toolName:be(),toolCallId:be(),state:Fe("output-available"),input:Ft(),output:Ft(),errorText:On().optional(),callProviderMetadata:yt.optional(),preliminary:en().optional()}),Ge({type:Fe("dynamic-tool"),toolName:be(),toolCallId:be(),state:Fe("output-error"),input:Ft(),output:On().optional(),errorText:be(),callProviderMetadata:yt.optional()})],m5=[Ge({type:be().startsWith("tool-"),toolCallId:be(),state:Fe("input-streaming"),input:Ft().optional(),output:On().optional(),errorText:On().optional()}),Ge({type:be().startsWith("tool-"),toolCallId:be(),state:Fe("input-available"),input:Ft(),output:On().optional(),errorText:On().optional(),callProviderMetadata:yt.optional()}),Ge({type:be().startsWith("tool-"),toolCallId:be(),state:Fe("output-available"),input:Ft(),output:Ft(),errorText:On().optional(),callProviderMetadata:yt.optional(),preliminary:en().optional()}),Ge({type:be().startsWith("tool-"),toolCallId:be(),state:Fe("output-error"),input:Ft(),output:On().optional(),errorText:be(),callProviderMetadata:yt.optional()})];Ge({id:be(),role:ml(["system","user","assistant"]),metadata:Ft().optional(),parts:Wr(cn([s5,l5,u5,c5,p5,d5,f5,...h5,...m5]))});function g5(e,t){if(typeof e!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n,r=0;return function(...s){clearTimeout(n);const o=Date.now(),u=o-r,c=t-u;c<=0?(r=o,e.apply(this,s)):n=setTimeout(()=>{r=Date.now(),e.apply(this,s)},c)}}var v5=g5;const y5=Mi(v5);var qb=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Mt=(e,t,n)=>(qb(e,t,"read from private field"),n?n.call(e):t.get(e)),_r=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ri=(e,t,n,r)=>(qb(e,t,"write to private field"),t.set(e,n),n);function b5(e,t){return t!=null?y5(e,t):e}var nr,Rs,Os,Ja,Ya,Xa,ia,Gc,Kc,x5=class{constructor(e=[]){_r(this,nr,void 0),_r(this,Rs,"ready"),_r(this,Os,void 0),_r(this,Ja,new Set),_r(this,Ya,new Set),_r(this,Xa,new Set),this.pushMessage=t=>{ri(this,nr,Mt(this,nr).concat(t)),Mt(this,ia).call(this)},this.popMessage=()=>{ri(this,nr,Mt(this,nr).slice(0,-1)),Mt(this,ia).call(this)},this.replaceMessage=(t,n)=>{ri(this,nr,[...Mt(this,nr).slice(0,t),this.snapshot(n),...Mt(this,nr).slice(t+1)]),Mt(this,ia).call(this)},this.snapshot=t=>structuredClone(t),this["~registerMessagesCallback"]=(t,n)=>{const r=n?b5(t,n):t;return Mt(this,Ja).add(r),()=>{Mt(this,Ja).delete(r)}},this["~registerStatusCallback"]=t=>(Mt(this,Ya).add(t),()=>{Mt(this,Ya).delete(t)}),this["~registerErrorCallback"]=t=>(Mt(this,Xa).add(t),()=>{Mt(this,Xa).delete(t)}),_r(this,ia,()=>{Mt(this,Ja).forEach(t=>t())}),_r(this,Gc,()=>{Mt(this,Ya).forEach(t=>t())}),_r(this,Kc,()=>{Mt(this,Xa).forEach(t=>t())}),ri(this,nr,e)}get status(){return Mt(this,Rs)}set status(e){ri(this,Rs,e),Mt(this,Gc).call(this)}get error(){return Mt(this,Os)}set error(e){ri(this,Os,e),Mt(this,Kc).call(this)}get messages(){return Mt(this,nr)}set messages(e){ri(this,nr,[...e]),Mt(this,ia).call(this)}};nr=new WeakMap;Rs=new WeakMap;Os=new WeakMap;Ja=new WeakMap;Ya=new WeakMap;Xa=new WeakMap;ia=new WeakMap;Gc=new WeakMap;Kc=new WeakMap;var aa,lg=class extends o5{constructor({messages:t,...n}){const r=new x5(t);super({...n,state:r}),_r(this,aa,void 0),this["~registerMessagesCallback"]=(i,s)=>Mt(this,aa)["~registerMessagesCallback"](i,s),this["~registerStatusCallback"]=i=>Mt(this,aa)["~registerStatusCallback"](i),this["~registerErrorCallback"]=i=>Mt(this,aa)["~registerErrorCallback"](i),ri(this,aa,r)}};aa=new WeakMap;function _5({experimental_throttle:e,resume:t=!1,...n}={}){const r=W.useRef("chat"in n?n.chat:new lg(n));("chat"in n&&n.chat!==r.current||"id"in n&&r.current.id!==n.id)&&(r.current="chat"in n?n.chat:new lg(n));const s="id"in n?n.id:null,o=W.useCallback(m=>r.current["~registerMessagesCallback"](m,e),[e,s]),u=W.useSyncExternalStore(o,()=>r.current.messages,()=>r.current.messages),c=W.useSyncExternalStore(r.current["~registerStatusCallback"],()=>r.current.status,()=>r.current.status),p=W.useSyncExternalStore(r.current["~registerErrorCallback"],()=>r.current.error,()=>r.current.error),d=W.useCallback(m=>{typeof m=="function"&&(m=m(r.current.messages)),r.current.messages=m},[r]);return W.useEffect(()=>{t&&r.current.resumeStream()},[t,r]),{id:r.current.id,messages:u,setMessages:d,sendMessage:r.current.sendMessage,regenerate:r.current.regenerate,clearError:r.current.clearError,stop:r.current.stop,error:p,resumeStream:r.current.resumeStream,status:c,addToolResult:r.current.addToolResult}}let Lr=null;const Wp="strapi-ai-token",Vb=60*1e3,w5=e=>{const t=Date.parse(e);return Number.isFinite(t)?t:null},k5=(e,t=Vb,n=Date.now())=>{const r=w5(e);return r===null||r<=n?"expired":r-t<=n?"stale":"valid"},ug=(e,t=Vb,n=Date.now())=>k5(e,t,n)==="valid",C5=()=>{Lr=null,sessionStorage.removeItem(Wp)},S5=()=>{try{const e=sessionStorage.getItem(Wp);return e?JSON.parse(e):null}catch{return null}},E5=e=>{sessionStorage.setItem(Wp,JSON.stringify(e))},Ks=async()=>{if(Lr&&ug(Lr.expiresAt))return Lr;const e=S5();if(e&&ug(e.expiresAt))return Lr=e,Lr;try{const{get:t}=aE(),{data:n}=await t("/admin/ai-token"),r=n?.token||n?.data?.token,i=n?.expiresAt||n?.data?.expiresAt;return r&&i?(Lr={token:r,expiresAt:i},E5(Lr),Lr):null}catch{return null}},A5=async()=>{try{if(await Ks())return;await Ks()}catch{}},Gb=async e=>{try{return await e.json()}catch{try{return{error:await e.text()}}catch{return}}},T5=(e,t,n)=>({Authorization:`Bearer ${e}`,"X-Strapi-Version":t?.strapiVersion||"latest","X-Strapi-User":t?.userId||"unknown","X-Strapi-Project-Id":t?.projectId||"unknown",...n}),j5=(e,t)=>{if(e===401||e===403)return!0;const n=(t?.error||"").toString().toLowerCase();return n.includes("expired")||n.includes("invalid token")},Kb=async(e,t={})=>{const n=await Ks();if(!n?.token)throw new Error("Could not authorize with AI Server. Please contact your administrator.");const r=async o=>{const u=T5(o,t.ctx,t.headers);return fetch(e,{...t,headers:u})};let i=await r(n.token),s;try{s=await Gb(i.clone())}catch{}if(j5(i.status,s)){C5();const o=await Ks();o?.token&&o.token!==n.token&&(i=await r(o.token))}return i},I5=e=>async(t,n={})=>Kb(t,{...n,ctx:e}),R5="Too many requests",O5="License limit",z5="AI credit limit exceeded",M5="Chat too long",vl=e=>()=>{const t=Hr("useAIFetch",d=>d.strapiVersion),n=Hr("useAIFetch",d=>d.projectId),r=Hr("useAIFetch-user",d=>d.userId),i=oE(void 0,{refetchOnMountOrArgChange:!0}),[s,o]=W.useState(!1),[u,c]=W.useState(null);return{isPending:s,error:u,fetch:async(d={})=>{o(!0),c(null);try{const m=`${Lv}${e}`,v=!!d.body&&!d.formData,y=await Kb(m,{method:"POST",headers:v?{"Content-Type":"application/json",...d.headers||{}}:d.headers,body:d.formData?d.formData:v?JSON.stringify(d.body||{}):void 0,ctx:{strapiVersion:t,projectId:n,userId:r}});i.refetch();const h=await Gb(y);if(!y.ok)throw new Error(`Error: ${y.statusText}`);return h}catch(m){return c(m instanceof Error?m.message:`Failed to fetch data from ${e}`),null}finally{o(!1)}}}},F5=vl("/schemas/chat/generate-title"),N5=vl("/schemas/chat/attachment"),$5=vl("/schemas/chat/feedback"),P5=vl("/media/upload"),D5=e=>{const t=Hr("useAIChat",s=>s.strapiVersion),n=Hr("useAIFetch",s=>s.projectId),r=Hr("useAIChat-user",s=>s.userId),i=I5({strapiVersion:t,projectId:n,userId:r});return _5({...e,transport:new Wb({api:Sj,fetch:i})})},L5=({chatId:e,messages:t})=>{const[n,r]=W.useState(void 0),{fetch:i,error:s,isPending:o}=F5(),u=W.useCallback(async()=>{const p=t.at(0);if(!p||n||o||s)return;const d=p.parts.map(v=>v.type==="text"?v.text:"").join(`
`),m=await i({body:{chatId:e,message:d}});m?.data&&r(m.data.title)},[t,n,o,s,i,e]),c=W.useCallback(()=>{r(void 0)},[]);return{title:n,isGenerating:o,error:s,generateTitle:u,resetTitle:c}},B5=1,U5=()=>{if(typeof window>"u")return{uid:null,type:null};const e=window.location.pathname;if(e.includes("/content-types/")){const t=e.split("/content-types/")[1];if(t)return{uid:t,type:"contentType"}}if(e.includes("/component-categories/")){const t=e.split("/component-categories/")[1].split("/");if(t.length>=2)return{uid:t[1],type:"component"}}return{uid:null,type:null}},Z5=()=>{const[e,t]=W.useState([]),{components:n,contentTypes:r}=qn();return W.useEffect(()=>{const o=()=>{const{uid:p,type:d}=U5();if(!p||!d)return;const m={uid:p,type:d,timestamp:Date.now()};t(v=>{const y=v.filter(h=>h.uid!==m.uid);return[m,...y].slice(0,B5)})};o(),window.addEventListener("popstate",o);const c=(()=>{let p=window.location.pathname;const d=setInterval(()=>{const m=window.location.pathname;m!==p&&(p=m,o())},300);return()=>clearInterval(d)})();return()=>{window.removeEventListener("popstate",o),c()}},[]),{lastSeenSchemas:W.useMemo(()=>e.filter(o=>o.type==="contentType"?Object.keys(r).some(u=>u===o.uid):o.type==="component"?Object.keys(n).some(u=>u===o.uid):!1),[e,n,r]),clearHistory:()=>{t([])}}},cg=e=>e.reduce((t,n)=>{const{name:r,...i}=n;return{...t,[r]:i}},{}),pg=e=>e.modelType==="component"?{category:e.category,kind:"component",action:"create",modelType:"component",description:e.info.description,name:e.info.displayName,uid:e.uid,attributes:cg(e.attributes),sources:e.sources}:{kind:e.kind,modelType:e.modelType,description:e.info.description,action:"create",name:e.info.pluralName,uid:e.uid,attributes:cg(e.attributes),sources:e.sources,options:{draftAndPublish:e.options?.draftAndPublish,localized:!1}},Jb=W.createContext(null),Yb=()=>{const e=W.useContext(Jb);if(!e)throw new Error("useStepModal must be used within a StepModal");return e},ji=({open:e,onOpenChange:t,title:n,children:r,onComplete:i,onCancel:s})=>{const[o,u]=W.useState(0),[c,p]=W.useState(!1),[d,m]=W.useState(null),v=W.Children.toArray(r).filter(D=>W.isValidElement(D)).map(D=>D.props),y=v.length,h=o===0,x=o===y-1;W.useEffect(()=>{e||(u(0),p(!1),m(null))},[e]);const b=()=>{u(0),p(!1),m(null)},k=()=>{s?.(),b(),t(!1)},S=()=>{u(D=>Math.max(0,D-1)),m(null)},A=async()=>{const D=v[o];if(D.onNext){p(!0),m(null);try{return x?(i?.(),b(),t(!1)):(await D.onNext(),u(B=>B+1)),!0}catch(B){return m(B instanceof Error?B:new Error(String(B))),!1}finally{p(!1)}}else return x?(i?.(),b(),t(!1)):u(B=>B+1),!0},I=D=>{D.preventDefault(),!c&&!v[o]?.disableNext&&A()},F={currentStep:o,goToStep:u,nextStep:A,prevStep:S,isFirstStep:h,isLastStep:x,totalSteps:y,isLoading:c,error:d,setError:m},O=v[o];return g.jsx(Jb.Provider,{value:F,children:e&&g.jsx(un.Root,{open:!0,onOpenChange:k,children:g.jsxs(un.Content,{children:[g.jsx(un.Header,{children:g.jsx(Ie,{variant:"omega",fontWeight:"bold",children:O?.title||n})}),g.jsxs("form",{onSubmit:I,children:[g.jsxs(un.Body,{children:[W.Children.toArray(r)[o],d&&g.jsx(Re,{marginTop:4,padding:3,background:"danger100",color:"danger600",borderRadius:"4px",children:g.jsx(Ie,{variant:"pi",children:d.message})})]}),g.jsxs(un.Footer,{children:[h?g.jsx(dt,{variant:"tertiary",onClick:k,type:"button",children:O?.cancelLabel||"Cancel"}):g.jsx(dt,{variant:"tertiary",onClick:S,type:"button",children:O?.backLabel||"Back"}),g.jsx(dt,{variant:"default",type:"submit",disabled:c||O?.disableNext,loading:c,children:O?.nextLabel||(x?"Complete":"Next")})]})]})]})})})},H5=({children:e})=>g.jsx(g.Fragment,{children:e});ji.Step=H5;const Js=(e=16)=>crypto.randomUUID().slice(0,e);function ko(){const{setAttachments:e,attachments:t,id:n}=ur(),{toggleNotification:r}=ba(),{fetch:i}=P5(),s=W.useCallback(d=>{d&&e(m=>[...m,...d])},[e]),o=W.useCallback(d=>{e(m=>m.map(v=>v.id===d.id?{...v,...d}:v))},[e]),u=W.useCallback(d=>{e(m=>m.filter(v=>v.id!==d.id))},[e]),c=W.useCallback(async(d,m)=>{const v=t?.length||0,y=Array.from(d).length;let h=d;if(v+y>Zu){r({type:"danger",title:"File limit reached: ",message:`You can only upload up to ${Zu} files`});const x=Zu-v;h=d.slice(0,x)}for(const x of h)x.size>Cj&&(r({type:"danger",title:"File too large: ",message:"One of the files is too large (15MB limit)"}),h=h.filter(b=>b!==x));for(const x of h){const b={id:Js(),type:"file",status:"loading",filename:x.name,mediaType:x.type,url:""};e(S=>[...S,b]);const k=new FormData;k.append("file",x),k.append("fileInfo",JSON.stringify({name:x.name,chatId:n})),i({formData:k}).then(S=>{const A=S?.data;if(!S||S.error){r({type:"danger",title:"Failed to upload file: ",message:S?.error||"Unknown error",timeout:5e3}),u(b);return}o({id:b.id,url:A?.url||"",status:"ready"})}).catch(()=>u(b))}m&&r({title:"Files attached",message:m})},[t,e,r,n,i,u,o]),p=W.useCallback(d=>{t&&e(t.filter((m,v)=>v!==d))},[e,t]);return{attachments:t,attachFiles:c,addAttachments:s,removeAttachment:u,removeAttachmentByIndex:p}}var Xb={exports:{}};(function(e,t){var n={};/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(r){e.exports=r()})(function(){return function r(i,s,o){function u(d,m){if(!s[d]){if(!i[d]){var v=typeof ms=="function"&&ms;if(!m&&v)return v(d,!0);if(c)return c(d,!0);var y=new Error("Cannot find module '"+d+"'");throw y.code="MODULE_NOT_FOUND",y}var h=s[d]={exports:{}};i[d][0].call(h.exports,function(x){var b=i[d][1][x];return u(b||x)},h,h.exports,r,i,s,o)}return s[d].exports}for(var c=typeof ms=="function"&&ms,p=0;p<o.length;p++)u(o[p]);return u}({1:[function(r,i,s){var o=r("./utils"),u=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(p){for(var d,m,v,y,h,x,b,k=[],S=0,A=p.length,I=A,F=o.getTypeOf(p)!=="string";S<p.length;)I=A-S,v=F?(d=p[S++],m=S<A?p[S++]:0,S<A?p[S++]:0):(d=p.charCodeAt(S++),m=S<A?p.charCodeAt(S++):0,S<A?p.charCodeAt(S++):0),y=d>>2,h=(3&d)<<4|m>>4,x=1<I?(15&m)<<2|v>>6:64,b=2<I?63&v:64,k.push(c.charAt(y)+c.charAt(h)+c.charAt(x)+c.charAt(b));return k.join("")},s.decode=function(p){var d,m,v,y,h,x,b=0,k=0,S="data:";if(p.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var A,I=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===c.charAt(64)&&I--,p.charAt(p.length-2)===c.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=u.uint8array?new Uint8Array(0|I):new Array(0|I);b<p.length;)d=c.indexOf(p.charAt(b++))<<2|(y=c.indexOf(p.charAt(b++)))>>4,m=(15&y)<<4|(h=c.indexOf(p.charAt(b++)))>>2,v=(3&h)<<6|(x=c.indexOf(p.charAt(b++))),A[k++]=d,h!==64&&(A[k++]=m),x!==64&&(A[k++]=v);return A}},{"./support":30,"./utils":32}],2:[function(r,i,s){var o=r("./external"),u=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function d(m,v,y,h,x){this.compressedSize=m,this.uncompressedSize=v,this.crc32=y,this.compression=h,this.compressedContent=x}d.prototype={getContentWorker:function(){var m=new u(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),v=this;return m.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new u(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(m,v,y){return m.pipe(new c).pipe(new p("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new p("compressedSize")).withStreamInfo("compression",v)},i.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,i,s){var o=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,i,s){var o=r("./utils"),u=function(){for(var c,p=[],d=0;d<256;d++){c=d;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;p[d]=c}return p}();i.exports=function(c,p){return c!==void 0&&c.length?o.getTypeOf(c)!=="string"?function(d,m,v,y){var h=u,x=y+v;d^=-1;for(var b=y;b<x;b++)d=d>>>8^h[255&(d^m[b])];return-1^d}(0|p,c,c.length,0):function(d,m,v,y){var h=u,x=y+v;d^=-1;for(var b=y;b<x;b++)d=d>>>8^h[255&(d^m.charCodeAt(b))];return-1^d}(0|p,c,c.length,0):0}},{"./utils":32}],5:[function(r,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,i,s){var o=null;o=typeof Promise<"u"?Promise:r("lie"),i.exports={Promise:o}},{lie:37}],7:[function(r,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=r("pako"),c=r("./utils"),p=r("./stream/GenericWorker"),d=o?"uint8array":"array";function m(v,y){p.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}s.magic="\b\0",c.inherits(m,p),m.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(d,v.data),!1)},m.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},s.compressWorker=function(v){return new m("Deflate",v)},s.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,i,s){function o(h,x){var b,k="";for(b=0;b<x;b++)k+=String.fromCharCode(255&h),h>>>=8;return k}function u(h,x,b,k,S,A){var I,F,O=h.file,D=h.compression,B=A!==d.utf8encode,K=c.transformTo("string",A(O.name)),V=c.transformTo("string",d.utf8encode(O.name)),L=O.comment,Q=c.transformTo("string",A(L)),M=c.transformTo("string",d.utf8encode(L)),Y=V.length!==O.name.length,w=M.length!==L.length,P="",xe="",oe="",ue=O.dir,z=O.date,se={crc32:0,compressedSize:0,uncompressedSize:0};x&&!b||(se.crc32=h.crc32,se.compressedSize=h.compressedSize,se.uncompressedSize=h.uncompressedSize);var X=0;x&&(X|=8),B||!Y&&!w||(X|=2048);var R=0,Te=0;ue&&(R|=16),S==="UNIX"?(Te=798,R|=function(ae,Ye){var Xe=ae;return ae||(Xe=Ye?16893:33204),(65535&Xe)<<16}(O.unixPermissions,ue)):(Te=20,R|=function(ae){return 63&(ae||0)}(O.dosPermissions)),I=z.getUTCHours(),I<<=6,I|=z.getUTCMinutes(),I<<=5,I|=z.getUTCSeconds()/2,F=z.getUTCFullYear()-1980,F<<=4,F|=z.getUTCMonth()+1,F<<=5,F|=z.getUTCDate(),Y&&(xe=o(1,1)+o(m(K),4)+V,P+="up"+o(xe.length,2)+xe),w&&(oe=o(1,1)+o(m(Q),4)+M,P+="uc"+o(oe.length,2)+oe);var ke="";return ke+=`
\0`,ke+=o(X,2),ke+=D.magic,ke+=o(I,2),ke+=o(F,2),ke+=o(se.crc32,4),ke+=o(se.compressedSize,4),ke+=o(se.uncompressedSize,4),ke+=o(K.length,2),ke+=o(P.length,2),{fileRecord:v.LOCAL_FILE_HEADER+ke+K+P,dirRecord:v.CENTRAL_FILE_HEADER+o(Te,2)+ke+o(Q.length,2)+"\0\0\0\0"+o(R,4)+o(k,4)+K+P+Q}}var c=r("../utils"),p=r("../stream/GenericWorker"),d=r("../utf8"),m=r("../crc32"),v=r("../signature");function y(h,x,b,k){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=b,this.encodeFileName=k,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(y,p),y.prototype.push=function(h){var x=h.meta.percent||0,b=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,p.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:b?(x+100*(b-k-1))/b:100}}))},y.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var x=this.streamFiles&&!h.file.dir;if(x){var b=u(h,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(h){this.accumulate=!1;var x=this.streamFiles&&!h.file.dir,b=u(h,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),x)this.push({data:function(k){return v.DATA_DESCRIPTOR+o(k.crc32,4)+o(k.compressedSize,4)+o(k.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var h=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var b=this.bytesWritten-h,k=function(S,A,I,F,O){var D=c.transformTo("string",O(F));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(S,2)+o(S,2)+o(A,4)+o(I,4)+o(D.length,2)+D}(this.dirRecords.length,b,h,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(h){this._sources.push(h);var x=this;return h.on("data",function(b){x.processChunk(b)}),h.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),h.on("error",function(b){x.error(b)}),this},y.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(h){var x=this._sources;if(!p.prototype.error.call(this,h))return!1;for(var b=0;b<x.length;b++)try{x[b].error(h)}catch{}return!0},y.prototype.lock=function(){p.prototype.lock.call(this);for(var h=this._sources,x=0;x<h.length;x++)h[x].lock()},i.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,i,s){var o=r("../compressions"),u=r("./ZipFileWorker");s.generateWorker=function(c,p,d){var m=new u(p.streamFiles,d,p.platform,p.encodeFileName),v=0;try{c.forEach(function(y,h){v++;var x=function(A,I){var F=A||I,O=o[F];if(!O)throw new Error(F+" is not a valid compression method !");return O}(h.options.compression,p.compression),b=h.options.compressionOptions||p.compressionOptions||{},k=h.dir,S=h.date;h._compressWorker(x,b).withStreamInfo("file",{name:y,dir:k,date:S,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(m)}),m.entriesCount=v}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,i,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new o;for(var c in this)typeof this[c]!="function"&&(u[c]=this[c]);return u}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(u,c){return new o().loadAsync(u,c)},o.external=r("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,i,s){var o=r("./utils"),u=r("./external"),c=r("./utf8"),p=r("./zipEntries"),d=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function v(y){return new u.Promise(function(h,x){var b=y.decompressed.getContentWorker().pipe(new d);b.on("error",function(k){x(k)}).on("end",function(){b.streamInfo.crc32!==y.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}i.exports=function(y,h){var x=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),m.isNode&&m.isStream(y)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",y,!0,h.optimizedBinaryString,h.base64).then(function(b){var k=new p(h);return k.load(b),k}).then(function(b){var k=[u.Promise.resolve(b)],S=b.files;if(h.checkCRC32)for(var A=0;A<S.length;A++)k.push(v(S[A]));return u.Promise.all(k)}).then(function(b){for(var k=b.shift(),S=k.files,A=0;A<S.length;A++){var I=S[A],F=I.fileNameStr,O=o.resolve(I.fileNameStr);x.file(O,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:h.createFolders}),I.dir||(x.file(O).unsafeOriginalName=F)}return k.zipComment.length&&(x.comment=k.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,i,s){var o=r("../utils"),u=r("../stream/GenericWorker");function c(p,d){u.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(d)}o.inherits(c,u),c.prototype._bindStream=function(p){var d=this;(this._stream=p).pause(),p.on("data",function(m){d.push({data:m,meta:{percent:0}})}).on("error",function(m){d.isPaused?this.generatedError=m:d.error(m)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},c.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,i,s){var o=r("readable-stream").Readable;function u(c,p,d){o.call(this,p),this._helper=c;var m=this;c.on("data",function(v,y){m.push(v)||m._helper.pause(),d&&d(y)}).on("error",function(v){m.emit("error",v)}).on("end",function(){m.push(null)})}r("../utils").inherits(u,o),u.prototype._read=function(){this._helper.resume()},i.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,u);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,u)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var u=new Buffer(o);return u.fill(0),u},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,i,s){function o(O,D,B){var K,V=c.getTypeOf(D),L=c.extend(B||{},m);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(O=S(O)),L.createFolders&&(K=k(O))&&A.call(this,K,!0);var Q=V==="string"&&L.binary===!1&&L.base64===!1;B&&B.binary!==void 0||(L.binary=!Q),(D instanceof v&&D.uncompressedSize===0||L.dir||!D||D.length===0)&&(L.base64=!1,L.binary=!0,D="",L.compression="STORE",V="string");var M=null;M=D instanceof v||D instanceof p?D:x.isNode&&x.isStream(D)?new b(O,D):c.prepareContent(O,D,L.binary,L.optimizedBinaryString,L.base64);var Y=new y(O,M,L);this.files[O]=Y}var u=r("./utf8"),c=r("./utils"),p=r("./stream/GenericWorker"),d=r("./stream/StreamHelper"),m=r("./defaults"),v=r("./compressedObject"),y=r("./zipObject"),h=r("./generate"),x=r("./nodejsUtils"),b=r("./nodejs/NodejsStreamInputAdapter"),k=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var D=O.lastIndexOf("/");return 0<D?O.substring(0,D):""},S=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},A=function(O,D){return D=D!==void 0?D:m.createFolders,O=S(O),this.files[O]||o.call(this,O,null,{dir:!0,createFolders:D}),this.files[O]};function I(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var D,B,K;for(D in this.files)K=this.files[D],(B=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&O(B,K)},filter:function(O){var D=[];return this.forEach(function(B,K){O(B,K)&&D.push(K)}),D},file:function(O,D,B){if(arguments.length!==1)return O=this.root+O,o.call(this,O,D,B),this;if(I(O)){var K=O;return this.filter(function(L,Q){return!Q.dir&&K.test(L)})}var V=this.files[this.root+O];return V&&!V.dir?V:null},folder:function(O){if(!O)return this;if(I(O))return this.filter(function(V,L){return L.dir&&O.test(V)});var D=this.root+O,B=A.call(this,D),K=this.clone();return K.root=B.name,K},remove:function(O){O=this.root+O;var D=this.files[O];if(D||(O.slice(-1)!=="/"&&(O+="/"),D=this.files[O]),D&&!D.dir)delete this.files[O];else for(var B=this.filter(function(V,L){return L.name.slice(0,O.length)===O}),K=0;K<B.length;K++)delete this.files[B[K].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var D,B={};try{if((B=c.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");c.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var K=B.comment||this.comment||"";D=h.generateWorker(this,B,K)}catch(V){(D=new p("error")).error(V)}return new d(D,B.type||"string",B.mimeType)},generateAsync:function(O,D){return this.generateInternalStream(O).accumulate(D)},generateNodeStream:function(O,D){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(D)}};i.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,i,s){i.exports=r("stream")},{stream:void 0}],17:[function(r,i,s){var o=r("./DataReader");function u(c){o.call(this,c);for(var p=0;p<this.data.length;p++)c[p]=255&c[p]}r("../utils").inherits(u,o),u.prototype.byteAt=function(c){return this.data[this.zero+c]},u.prototype.lastIndexOfSignature=function(c){for(var p=c.charCodeAt(0),d=c.charCodeAt(1),m=c.charCodeAt(2),v=c.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===p&&this.data[y+1]===d&&this.data[y+2]===m&&this.data[y+3]===v)return y-this.zero;return-1},u.prototype.readAndCheckSignature=function(c){var p=c.charCodeAt(0),d=c.charCodeAt(1),m=c.charCodeAt(2),v=c.charCodeAt(3),y=this.readData(4);return p===y[0]&&d===y[1]&&m===y[2]&&v===y[3]},u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,p},i.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,i,s){var o=r("../utils");function u(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var p,d=0;for(this.checkOffset(c),p=this.index+c-1;p>=this.index;p--)d=(d<<8)+this.byteAt(p);return this.index+=c,d},readString:function(c){return o.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},i.exports=u},{"../utils":32}],19:[function(r,i,s){var o=r("./Uint8ArrayReader");function u(c){o.call(this,c)}r("../utils").inherits(u,o),u.prototype.readData=function(c){this.checkOffset(c);var p=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,p},i.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,i,s){var o=r("./DataReader");function u(c){o.call(this,c)}r("../utils").inherits(u,o),u.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},u.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},u.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},u.prototype.readData=function(c){this.checkOffset(c);var p=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,p},i.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,i,s){var o=r("./ArrayReader");function u(c){o.call(this,c)}r("../utils").inherits(u,o),u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,p},i.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,i,s){var o=r("../utils"),u=r("../support"),c=r("./ArrayReader"),p=r("./StringReader"),d=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");i.exports=function(v){var y=o.getTypeOf(v);return o.checkSupport(y),y!=="string"||u.uint8array?y==="nodebuffer"?new d(v):u.uint8array?new m(o.transformTo("uint8array",v)):new c(o.transformTo("array",v)):new p(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,i,s){var o=r("./GenericWorker"),u=r("../utils");function c(p){o.call(this,"ConvertWorker to "+p),this.destType=p}u.inherits(c,o),c.prototype.processChunk=function(p){this.push({data:u.transformTo(this.destType,p.data),meta:p.meta})},i.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,i,s){var o=r("./GenericWorker"),u=r("../crc32");function c(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,o),c.prototype.processChunk=function(p){this.streamInfo.crc32=u(p.data,this.streamInfo.crc32||0),this.push(p)},i.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,i,s){var o=r("../utils"),u=r("./GenericWorker");function c(p){u.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}o.inherits(c,u),c.prototype.processChunk=function(p){if(p){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+p.data.length}u.prototype.processChunk.call(this,p)},i.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,i,s){var o=r("../utils"),u=r("./GenericWorker");function c(p){u.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(m){d.dataIsReady=!0,d.data=m,d.max=m&&m.length||0,d.type=o.getTypeOf(m),d.isPaused||d._tickAndRepeat()},function(m){d.error(m)})}o.inherits(c,u),c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,d);break;case"uint8array":p=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":p=this.data.slice(this.index,d)}return this.index=d,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,i,s){function o(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,c){return this._listeners[u].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,c){if(this._listeners[u])for(var p=0;p<this._listeners[u].length;p++)this._listeners[u][p].call(this,c)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var c=this;return u.on("data",function(p){c.processChunk(p)}),u.on("end",function(){c.end()}),u.on("error",function(p){c.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,c){return this.extraStreamInfo[u]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},i.exports=o},{}],29:[function(r,i,s){var o=r("../utils"),u=r("./ConvertWorker"),c=r("./GenericWorker"),p=r("../base64"),d=r("../support"),m=r("../external"),v=null;if(d.nodestream)try{v=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(x,b){return new m.Promise(function(k,S){var A=[],I=x._internalType,F=x._outputType,O=x._mimeType;x.on("data",function(D,B){A.push(D),b&&b(B)}).on("error",function(D){A=[],S(D)}).on("end",function(){try{var D=function(B,K,V){switch(B){case"blob":return o.newBlob(o.transformTo("arraybuffer",K),V);case"base64":return p.encode(K);default:return o.transformTo(B,K)}}(F,function(B,K){var V,L=0,Q=null,M=0;for(V=0;V<K.length;V++)M+=K[V].length;switch(B){case"string":return K.join("");case"array":return Array.prototype.concat.apply([],K);case"uint8array":for(Q=new Uint8Array(M),V=0;V<K.length;V++)Q.set(K[V],L),L+=K[V].length;return Q;case"nodebuffer":return Buffer.concat(K);default:throw new Error("concat : unsupported type '"+B+"'")}}(I,A),O);k(D)}catch(B){S(B)}A=[]}).resume()})}function h(x,b,k){var S=b;switch(b){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=b,this._mimeType=k,o.checkSupport(S),this._worker=x.pipe(new u(S)),x.lock()}catch(A){this._worker=new c("error"),this._worker.error(A)}}h.prototype={accumulate:function(x){return y(this,x)},on:function(x,b){var k=this;return x==="data"?this._worker.on(x,function(S){b.call(k,S.data,S.meta)}):this._worker.on(x,function(){o.delay(b,arguments,k)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},x)}},i.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(o),s.blob=u.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,i,s){for(var o=r("./utils"),u=r("./support"),c=r("./nodejsUtils"),p=r("./stream/GenericWorker"),d=new Array(256),m=0;m<256;m++)d[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;d[254]=d[254]=1;function v(){p.call(this,"utf-8 decode"),this.leftOver=null}function y(){p.call(this,"utf-8 encode")}s.utf8encode=function(h){return u.nodebuffer?c.newBufferFrom(h,"utf-8"):function(x){var b,k,S,A,I,F=x.length,O=0;for(A=0;A<F;A++)(64512&(k=x.charCodeAt(A)))==55296&&A+1<F&&(64512&(S=x.charCodeAt(A+1)))==56320&&(k=65536+(k-55296<<10)+(S-56320),A++),O+=k<128?1:k<2048?2:k<65536?3:4;for(b=u.uint8array?new Uint8Array(O):new Array(O),A=I=0;I<O;A++)(64512&(k=x.charCodeAt(A)))==55296&&A+1<F&&(64512&(S=x.charCodeAt(A+1)))==56320&&(k=65536+(k-55296<<10)+(S-56320),A++),k<128?b[I++]=k:(k<2048?b[I++]=192|k>>>6:(k<65536?b[I++]=224|k>>>12:(b[I++]=240|k>>>18,b[I++]=128|k>>>12&63),b[I++]=128|k>>>6&63),b[I++]=128|63&k);return b}(h)},s.utf8decode=function(h){return u.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):function(x){var b,k,S,A,I=x.length,F=new Array(2*I);for(b=k=0;b<I;)if((S=x[b++])<128)F[k++]=S;else if(4<(A=d[S]))F[k++]=65533,b+=A-1;else{for(S&=A===2?31:A===3?15:7;1<A&&b<I;)S=S<<6|63&x[b++],A--;1<A?F[k++]=65533:S<65536?F[k++]=S:(S-=65536,F[k++]=55296|S>>10&1023,F[k++]=56320|1023&S)}return F.length!==k&&(F.subarray?F=F.subarray(0,k):F.length=k),o.applyFromCharCode(F)}(h=o.transformTo(u.uint8array?"uint8array":"array",h))},o.inherits(v,p),v.prototype.processChunk=function(h){var x=o.transformTo(u.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var b=x;(x=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),x.set(b,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var k=function(A,I){var F;for((I=I||A.length)>A.length&&(I=A.length),F=I-1;0<=F&&(192&A[F])==128;)F--;return F<0||F===0?I:F+d[A[F]]>I?F:I}(x),S=x;k!==x.length&&(u.uint8array?(S=x.subarray(0,k),this.leftOver=x.subarray(k,x.length)):(S=x.slice(0,k),this.leftOver=x.slice(k,x.length))),this.push({data:s.utf8decode(S),meta:h.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=v,o.inherits(y,p),y.prototype.processChunk=function(h){this.push({data:s.utf8encode(h.data),meta:h.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,i,s){var o=r("./support"),u=r("./base64"),c=r("./nodejsUtils"),p=r("./external");function d(b){return b}function m(b,k){for(var S=0;S<b.length;++S)k[S]=255&b.charCodeAt(S);return k}r("setimmediate"),s.newBlob=function(b,k){s.checkSupport("blob");try{return new Blob([b],{type:k})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(b),S.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(b,k,S){var A=[],I=0,F=b.length;if(F<=S)return String.fromCharCode.apply(null,b);for(;I<F;)k==="array"||k==="nodebuffer"?A.push(String.fromCharCode.apply(null,b.slice(I,Math.min(I+S,F)))):A.push(String.fromCharCode.apply(null,b.subarray(I,Math.min(I+S,F)))),I+=S;return A.join("")},stringifyByChar:function(b){for(var k="",S=0;S<b.length;S++)k+=String.fromCharCode(b[S]);return k},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function y(b){var k=65536,S=s.getTypeOf(b),A=!0;if(S==="uint8array"?A=v.applyCanBeUsed.uint8array:S==="nodebuffer"&&(A=v.applyCanBeUsed.nodebuffer),A)for(;1<k;)try{return v.stringifyByChunk(b,S,k)}catch{k=Math.floor(k/2)}return v.stringifyByChar(b)}function h(b,k){for(var S=0;S<b.length;S++)k[S]=b[S];return k}s.applyFromCharCode=y;var x={};x.string={string:d,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return x.string.uint8array(b).buffer},uint8array:function(b){return m(b,new Uint8Array(b.length))},nodebuffer:function(b){return m(b,c.allocBuffer(b.length))}},x.array={string:y,array:d,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(b)}},x.arraybuffer={string:function(b){return y(new Uint8Array(b))},array:function(b){return h(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:d,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(new Uint8Array(b))}},x.uint8array={string:y,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:d,nodebuffer:function(b){return c.newBufferFrom(b)}},x.nodebuffer={string:y,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return x.nodebuffer.uint8array(b).buffer},uint8array:function(b){return h(b,new Uint8Array(b.length))},nodebuffer:d},s.transformTo=function(b,k){if(k=k||"",!b)return k;s.checkSupport(b);var S=s.getTypeOf(k);return x[S][b](k)},s.resolve=function(b){for(var k=b.split("/"),S=[],A=0;A<k.length;A++){var I=k[A];I==="."||I===""&&A!==0&&A!==k.length-1||(I===".."?S.pop():S.push(I))}return S.join("/")},s.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":o.nodebuffer&&c.isBuffer(b)?"nodebuffer":o.uint8array&&b instanceof Uint8Array?"uint8array":o.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(b){if(!o[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(b){var k,S,A="";for(S=0;S<(b||"").length;S++)A+="\\x"+((k=b.charCodeAt(S))<16?"0":"")+k.toString(16).toUpperCase();return A},s.delay=function(b,k,S){setImmediate(function(){b.apply(S||null,k||[])})},s.inherits=function(b,k){function S(){}S.prototype=k.prototype,b.prototype=new S},s.extend=function(){var b,k,S={};for(b=0;b<arguments.length;b++)for(k in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],k)&&S[k]===void 0&&(S[k]=arguments[b][k]);return S},s.prepareContent=function(b,k,S,A,I){return p.Promise.resolve(k).then(function(F){return o.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new p.Promise(function(O,D){var B=new FileReader;B.onload=function(K){O(K.target.result)},B.onerror=function(K){D(K.target.error)},B.readAsArrayBuffer(F)}):F}).then(function(F){var O=s.getTypeOf(F);return O?(O==="arraybuffer"?F=s.transformTo("uint8array",F):O==="string"&&(I?F=u.decode(F):S&&A!==!0&&(F=function(D){return m(D,o.uint8array?new Uint8Array(D.length):new Array(D.length))}(F))),F):p.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,i,s){var o=r("./reader/readerFor"),u=r("./utils"),c=r("./signature"),p=r("./zipEntry"),d=r("./support");function m(v){this.files=[],this.loadOptions=v}m.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(y)+", expected "+u.pretty(v)+")")}},isSignature:function(v,y){var h=this.reader.index;this.reader.setIndex(v);var x=this.reader.readString(4)===y;return this.reader.setIndex(h),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=d.uint8array?"uint8array":"array",h=u.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,h,x=this.zip64EndOfCentralSize-44;0<x;)v=this.reader.readInt(2),y=this.reader.readInt(4),h=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(v=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var x=y-h;if(0<x)this.isSignature(y,c.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(v){this.reader=o(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,i,s){var o=r("./reader/readerFor"),u=r("./utils"),c=r("./compressedObject"),p=r("./crc32"),d=r("./utf8"),m=r("./compressions"),v=r("./support");function y(h,x){this.options=h,this.loadOptions=x}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var x,b;if(h.skip(22),this.fileNameLength=h.readInt(2),b=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(k){for(var S in m)if(Object.prototype.hasOwnProperty.call(m,S)&&m[S].magic===k)return m[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,x,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var x=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(x),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var x,b,k,S=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<S;)x=h.readInt(2),b=h.readInt(2),k=h.readData(b),this.extraFields[x]={id:x,length:b,value:k};h.setIndex(S)},handleUTF8:function(){var h=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var b=u.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var S=u.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var x=o(h.value);return x.readInt(1)!==1||p(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var x=o(h.value);return x.readInt(1)!==1||p(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(h.length-5))}return null}},i.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,i,s){function o(x,b,k){this.name=x,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=b,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var u=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),p=r("./utf8"),d=r("./compressedObject"),m=r("./stream/GenericWorker");o.prototype={internalStream:function(x){var b=null,k="string";try{if(!x)throw new Error("No output type specified.");var S=(k=x.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),b=this._decompressWorker();var A=!this._dataBinary;A&&!S&&(b=b.pipe(new p.Utf8EncodeWorker)),!A&&S&&(b=b.pipe(new p.Utf8DecodeWorker))}catch(I){(b=new m("error")).error(I)}return new u(b,k,"")},async:function(x,b){return this.internalStream(x).accumulate(b)},nodeStream:function(x,b){return this.internalStream(x||"nodebuffer").toNodejsStream(b)},_compressWorker:function(x,b){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new p.Utf8EncodeWorker)),d.createWorkerFrom(k,x,b)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof m?this._data:new c(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<v.length;h++)o.prototype[v[h]]=y;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,i,s){(function(o){var u,c,p=o.MutationObserver||o.WebKitMutationObserver;if(p){var d=0,m=new p(x),v=o.document.createTextNode("");m.observe(v,{characterData:!0}),u=function(){v.data=d=++d%2}}else if(o.setImmediate||o.MessageChannel===void 0)u="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var b=o.document.createElement("script");b.onreadystatechange=function(){x(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:function(){setTimeout(x,0)};else{var y=new o.MessageChannel;y.port1.onmessage=x,u=function(){y.port2.postMessage(0)}}var h=[];function x(){var b,k;c=!0;for(var S=h.length;S;){for(k=h,h=[],b=-1;++b<S;)k[b]();S=h.length}c=!1}i.exports=function(b){h.push(b)!==1||c||u()}}).call(this,typeof Un<"u"?Un:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,i,s){var o=r("immediate");function u(){}var c={},p=["REJECTED"],d=["FULFILLED"],m=["PENDING"];function v(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,S!==u&&b(this,S)}function y(S,A,I){this.promise=S,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function h(S,A,I){o(function(){var F;try{F=A(I)}catch(O){return c.reject(S,O)}F===S?c.reject(S,new TypeError("Cannot resolve promise with itself")):c.resolve(S,F)})}function x(S){var A=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof A=="function")return function(){A.apply(S,arguments)}}function b(S,A){var I=!1;function F(B){I||(I=!0,c.reject(S,B))}function O(B){I||(I=!0,c.resolve(S,B))}var D=k(function(){A(O,F)});D.status==="error"&&F(D.value)}function k(S,A){var I={};try{I.value=S(A),I.status="success"}catch(F){I.status="error",I.value=F}return I}(i.exports=v).prototype.finally=function(S){if(typeof S!="function")return this;var A=this.constructor;return this.then(function(I){return A.resolve(S()).then(function(){return I})},function(I){return A.resolve(S()).then(function(){throw I})})},v.prototype.catch=function(S){return this.then(null,S)},v.prototype.then=function(S,A){if(typeof S!="function"&&this.state===d||typeof A!="function"&&this.state===p)return this;var I=new this.constructor(u);return this.state!==m?h(I,this.state===d?S:A,this.outcome):this.queue.push(new y(I,S,A)),I},y.prototype.callFulfilled=function(S){c.resolve(this.promise,S)},y.prototype.otherCallFulfilled=function(S){h(this.promise,this.onFulfilled,S)},y.prototype.callRejected=function(S){c.reject(this.promise,S)},y.prototype.otherCallRejected=function(S){h(this.promise,this.onRejected,S)},c.resolve=function(S,A){var I=k(x,A);if(I.status==="error")return c.reject(S,I.value);var F=I.value;if(F)b(S,F);else{S.state=d,S.outcome=A;for(var O=-1,D=S.queue.length;++O<D;)S.queue[O].callFulfilled(A)}return S},c.reject=function(S,A){S.state=p,S.outcome=A;for(var I=-1,F=S.queue.length;++I<F;)S.queue[I].callRejected(A);return S},v.resolve=function(S){return S instanceof this?S:c.resolve(new this(u),S)},v.reject=function(S){var A=new this(u);return c.reject(A,S)},v.all=function(S){var A=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=S.length,F=!1;if(!I)return this.resolve([]);for(var O=new Array(I),D=0,B=-1,K=new this(u);++B<I;)V(S[B],B);return K;function V(L,Q){A.resolve(L).then(function(M){O[Q]=M,++D!==I||F||(F=!0,c.resolve(K,O))},function(M){F||(F=!0,c.reject(K,M))})}},v.race=function(S){var A=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=S.length,F=!1;if(!I)return this.resolve([]);for(var O=-1,D=new this(u);++O<I;)B=S[O],A.resolve(B).then(function(K){F||(F=!0,c.resolve(D,K))},function(K){F||(F=!0,c.reject(D,K))});var B;return D}},{immediate:36}],38:[function(r,i,s){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,i,s){var o=r("./zlib/deflate"),u=r("./utils/common"),c=r("./utils/strings"),p=r("./zlib/messages"),d=r("./zlib/zstream"),m=Object.prototype.toString,v=0,y=-1,h=0,x=8;function b(S){if(!(this instanceof b))return new b(S);this.options=u.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},S||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var I=o.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(I!==v)throw new Error(p[I]);if(A.header&&o.deflateSetHeader(this.strm,A.header),A.dictionary){var F;if(F=typeof A.dictionary=="string"?c.string2buf(A.dictionary):m.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(I=o.deflateSetDictionary(this.strm,F))!==v)throw new Error(p[I]);this._dict_set=!0}}function k(S,A){var I=new b(A);if(I.push(S,!0),I.err)throw I.msg||p[I.err];return I.result}b.prototype.push=function(S,A){var I,F,O=this.strm,D=this.options.chunkSize;if(this.ended)return!1;F=A===~~A?A:A===!0?4:0,typeof S=="string"?O.input=c.string2buf(S):m.call(S)==="[object ArrayBuffer]"?O.input=new Uint8Array(S):O.input=S,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new u.Buf8(D),O.next_out=0,O.avail_out=D),(I=o.deflate(O,F))!==1&&I!==v)return this.onEnd(I),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(u.shrinkBuf(O.output,O.next_out))):this.onData(u.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&I!==1);return F===4?(I=o.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===v):F!==2||(this.onEnd(v),!(O.avail_out=0))},b.prototype.onData=function(S){this.chunks.push(S)},b.prototype.onEnd=function(S){S===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},s.Deflate=b,s.deflate=k,s.deflateRaw=function(S,A){return(A=A||{}).raw=!0,k(S,A)},s.gzip=function(S,A){return(A=A||{}).gzip=!0,k(S,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,i,s){var o=r("./zlib/inflate"),u=r("./utils/common"),c=r("./utils/strings"),p=r("./zlib/constants"),d=r("./zlib/messages"),m=r("./zlib/zstream"),v=r("./zlib/gzheader"),y=Object.prototype.toString;function h(b){if(!(this instanceof h))return new h(b);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},b||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||b&&b.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var S=o.inflateInit2(this.strm,k.windowBits);if(S!==p.Z_OK)throw new Error(d[S]);this.header=new v,o.inflateGetHeader(this.strm,this.header)}function x(b,k){var S=new h(k);if(S.push(b,!0),S.err)throw S.msg||d[S.err];return S.result}h.prototype.push=function(b,k){var S,A,I,F,O,D,B=this.strm,K=this.options.chunkSize,V=this.options.dictionary,L=!1;if(this.ended)return!1;A=k===~~k?k:k===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof b=="string"?B.input=c.binstring2buf(b):y.call(b)==="[object ArrayBuffer]"?B.input=new Uint8Array(b):B.input=b,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new u.Buf8(K),B.next_out=0,B.avail_out=K),(S=o.inflate(B,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&V&&(D=typeof V=="string"?c.string2buf(V):y.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,S=o.inflateSetDictionary(this.strm,D)),S===p.Z_BUF_ERROR&&L===!0&&(S=p.Z_OK,L=!1),S!==p.Z_STREAM_END&&S!==p.Z_OK)return this.onEnd(S),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&S!==p.Z_STREAM_END&&(B.avail_in!==0||A!==p.Z_FINISH&&A!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=c.utf8border(B.output,B.next_out),F=B.next_out-I,O=c.buf2string(B.output,I),B.next_out=F,B.avail_out=K-F,F&&u.arraySet(B.output,B.output,I,F,0),this.onData(O)):this.onData(u.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(L=!0)}while((0<B.avail_in||B.avail_out===0)&&S!==p.Z_STREAM_END);return S===p.Z_STREAM_END&&(A=p.Z_FINISH),A===p.Z_FINISH?(S=o.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===p.Z_OK):A!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(B.avail_out=0))},h.prototype.onData=function(b){this.chunks.push(b)},h.prototype.onEnd=function(b){b===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Inflate=h,s.inflate=x,s.inflateRaw=function(b,k){return(k=k||{}).raw=!0,x(b,k)},s.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(p){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var m=d.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var v in m)m.hasOwnProperty(v)&&(p[v]=m[v])}}return p},s.shrinkBuf=function(p,d){return p.length===d?p:p.subarray?p.subarray(0,d):(p.length=d,p)};var u={arraySet:function(p,d,m,v,y){if(d.subarray&&p.subarray)p.set(d.subarray(m,m+v),y);else for(var h=0;h<v;h++)p[y+h]=d[m+h]},flattenChunks:function(p){var d,m,v,y,h,x;for(d=v=0,m=p.length;d<m;d++)v+=p[d].length;for(x=new Uint8Array(v),d=y=0,m=p.length;d<m;d++)h=p[d],x.set(h,y),y+=h.length;return x}},c={arraySet:function(p,d,m,v,y){for(var h=0;h<v;h++)p[y+h]=d[m+h]},flattenChunks:function(p){return[].concat.apply([],p)}};s.setTyped=function(p){p?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,u)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,c))},s.setTyped(o)},{}],42:[function(r,i,s){var o=r("./common"),u=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var p=new o.Buf8(256),d=0;d<256;d++)p[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function m(v,y){if(y<65537&&(v.subarray&&c||!v.subarray&&u))return String.fromCharCode.apply(null,o.shrinkBuf(v,y));for(var h="",x=0;x<y;x++)h+=String.fromCharCode(v[x]);return h}p[254]=p[254]=1,s.string2buf=function(v){var y,h,x,b,k,S=v.length,A=0;for(b=0;b<S;b++)(64512&(h=v.charCodeAt(b)))==55296&&b+1<S&&(64512&(x=v.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(x-56320),b++),A+=h<128?1:h<2048?2:h<65536?3:4;for(y=new o.Buf8(A),b=k=0;k<A;b++)(64512&(h=v.charCodeAt(b)))==55296&&b+1<S&&(64512&(x=v.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(x-56320),b++),h<128?y[k++]=h:(h<2048?y[k++]=192|h>>>6:(h<65536?y[k++]=224|h>>>12:(y[k++]=240|h>>>18,y[k++]=128|h>>>12&63),y[k++]=128|h>>>6&63),y[k++]=128|63&h);return y},s.buf2binstring=function(v){return m(v,v.length)},s.binstring2buf=function(v){for(var y=new o.Buf8(v.length),h=0,x=y.length;h<x;h++)y[h]=v.charCodeAt(h);return y},s.buf2string=function(v,y){var h,x,b,k,S=y||v.length,A=new Array(2*S);for(h=x=0;h<S;)if((b=v[h++])<128)A[x++]=b;else if(4<(k=p[b]))A[x++]=65533,h+=k-1;else{for(b&=k===2?31:k===3?15:7;1<k&&h<S;)b=b<<6|63&v[h++],k--;1<k?A[x++]=65533:b<65536?A[x++]=b:(b-=65536,A[x++]=55296|b>>10&1023,A[x++]=56320|1023&b)}return m(A,x)},s.utf8border=function(v,y){var h;for((y=y||v.length)>v.length&&(y=v.length),h=y-1;0<=h&&(192&v[h])==128;)h--;return h<0||h===0?y:h+p[v[h]]>y?h:y}},{"./common":41}],43:[function(r,i,s){i.exports=function(o,u,c,p){for(var d=65535&o|0,m=o>>>16&65535|0,v=0;c!==0;){for(c-=v=2e3<c?2e3:c;m=m+(d=d+u[p++]|0)|0,--v;);d%=65521,m%=65521}return d|m<<16|0}},{}],44:[function(r,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,i,s){var o=function(){for(var u,c=[],p=0;p<256;p++){u=p;for(var d=0;d<8;d++)u=1&u?3988292384^u>>>1:u>>>1;c[p]=u}return c}();i.exports=function(u,c,p,d){var m=o,v=d+p;u^=-1;for(var y=d;y<v;y++)u=u>>>8^m[255&(u^c[y])];return-1^u}},{}],46:[function(r,i,s){var o,u=r("../utils/common"),c=r("./trees"),p=r("./adler32"),d=r("./crc32"),m=r("./messages"),v=0,y=4,h=0,x=-2,b=-1,k=4,S=2,A=8,I=9,F=286,O=30,D=19,B=2*F+1,K=15,V=3,L=258,Q=L+V+1,M=42,Y=113,w=1,P=2,xe=3,oe=4;function ue(E,le){return E.msg=m[le],le}function z(E){return(E<<1)-(4<E?9:0)}function se(E){for(var le=E.length;0<=--le;)E[le]=0}function X(E){var le=E.state,H=le.pending;H>E.avail_out&&(H=E.avail_out),H!==0&&(u.arraySet(E.output,le.pending_buf,le.pending_out,H,E.next_out),E.next_out+=H,le.pending_out+=H,E.total_out+=H,E.avail_out-=H,le.pending-=H,le.pending===0&&(le.pending_out=0))}function R(E,le){c._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,le),E.block_start=E.strstart,X(E.strm)}function Te(E,le){E.pending_buf[E.pending++]=le}function ke(E,le){E.pending_buf[E.pending++]=le>>>8&255,E.pending_buf[E.pending++]=255&le}function ae(E,le){var H,$,C=E.max_chain_length,G=E.strstart,me=E.prev_length,ye=E.nice_match,te=E.strstart>E.w_size-Q?E.strstart-(E.w_size-Q):0,re=E.window,pe=E.w_mask,U=E.prev,ie=E.strstart+L,we=re[G+me-1],Ae=re[G+me];E.prev_length>=E.good_match&&(C>>=2),ye>E.lookahead&&(ye=E.lookahead);do if(re[(H=le)+me]===Ae&&re[H+me-1]===we&&re[H]===re[G]&&re[++H]===re[G+1]){G+=2,H++;do;while(re[++G]===re[++H]&&re[++G]===re[++H]&&re[++G]===re[++H]&&re[++G]===re[++H]&&re[++G]===re[++H]&&re[++G]===re[++H]&&re[++G]===re[++H]&&re[++G]===re[++H]&&G<ie);if($=L-(ie-G),G=ie-L,me<$){if(E.match_start=le,ye<=(me=$))break;we=re[G+me-1],Ae=re[G+me]}}while((le=U[le&pe])>te&&--C!=0);return me<=E.lookahead?me:E.lookahead}function Ye(E){var le,H,$,C,G,me,ye,te,re,pe,U=E.w_size;do{if(C=E.window_size-E.lookahead-E.strstart,E.strstart>=U+(U-Q)){for(u.arraySet(E.window,E.window,U,U,0),E.match_start-=U,E.strstart-=U,E.block_start-=U,le=H=E.hash_size;$=E.head[--le],E.head[le]=U<=$?$-U:0,--H;);for(le=H=U;$=E.prev[--le],E.prev[le]=U<=$?$-U:0,--H;);C+=U}if(E.strm.avail_in===0)break;if(me=E.strm,ye=E.window,te=E.strstart+E.lookahead,re=C,pe=void 0,pe=me.avail_in,re<pe&&(pe=re),H=pe===0?0:(me.avail_in-=pe,u.arraySet(ye,me.input,me.next_in,pe,te),me.state.wrap===1?me.adler=p(me.adler,ye,pe,te):me.state.wrap===2&&(me.adler=d(me.adler,ye,pe,te)),me.next_in+=pe,me.total_in+=pe,pe),E.lookahead+=H,E.lookahead+E.insert>=V)for(G=E.strstart-E.insert,E.ins_h=E.window[G],E.ins_h=(E.ins_h<<E.hash_shift^E.window[G+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[G+V-1])&E.hash_mask,E.prev[G&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=G,G++,E.insert--,!(E.lookahead+E.insert<V)););}while(E.lookahead<Q&&E.strm.avail_in!==0)}function Xe(E,le){for(var H,$;;){if(E.lookahead<Q){if(Ye(E),E.lookahead<Q&&le===v)return w;if(E.lookahead===0)break}if(H=0,E.lookahead>=V&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+V-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),H!==0&&E.strstart-H<=E.w_size-Q&&(E.match_length=ae(E,H)),E.match_length>=V)if($=c._tr_tally(E,E.strstart-E.match_start,E.match_length-V),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=V){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+V-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else $=c._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if($&&(R(E,!1),E.strm.avail_out===0))return w}return E.insert=E.strstart<V-1?E.strstart:V-1,le===y?(R(E,!0),E.strm.avail_out===0?xe:oe):E.last_lit&&(R(E,!1),E.strm.avail_out===0)?w:P}function he(E,le){for(var H,$,C;;){if(E.lookahead<Q){if(Ye(E),E.lookahead<Q&&le===v)return w;if(E.lookahead===0)break}if(H=0,E.lookahead>=V&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+V-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=V-1,H!==0&&E.prev_length<E.max_lazy_match&&E.strstart-H<=E.w_size-Q&&(E.match_length=ae(E,H),E.match_length<=5&&(E.strategy===1||E.match_length===V&&4096<E.strstart-E.match_start)&&(E.match_length=V-1)),E.prev_length>=V&&E.match_length<=E.prev_length){for(C=E.strstart+E.lookahead-V,$=c._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-V),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=C&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+V-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=V-1,E.strstart++,$&&(R(E,!1),E.strm.avail_out===0))return w}else if(E.match_available){if(($=c._tr_tally(E,0,E.window[E.strstart-1]))&&R(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return w}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&($=c._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<V-1?E.strstart:V-1,le===y?(R(E,!0),E.strm.avail_out===0?xe:oe):E.last_lit&&(R(E,!1),E.strm.avail_out===0)?w:P}function Oe(E,le,H,$,C){this.good_length=E,this.max_lazy=le,this.nice_length=H,this.max_chain=$,this.func=C}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*B),this.dyn_dtree=new u.Buf16(2*(2*O+1)),this.bl_tree=new u.Buf16(2*(2*D+1)),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(K+1),this.heap=new u.Buf16(2*F+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*F+1),se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function je(E){var le;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=S,(le=E.state).pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?M:Y,E.adler=le.wrap===2?0:1,le.last_flush=v,c._tr_init(le),h):ue(E,x)}function Ve(E){var le=je(E);return le===h&&function(H){H.window_size=2*H.w_size,se(H.head),H.max_lazy_match=o[H.level].max_lazy,H.good_match=o[H.level].good_length,H.nice_match=o[H.level].nice_length,H.max_chain_length=o[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=V-1,H.match_available=0,H.ins_h=0}(E.state),le}function We(E,le,H,$,C,G){if(!E)return x;var me=1;if(le===b&&(le=6),$<0?(me=0,$=-$):15<$&&(me=2,$-=16),C<1||I<C||H!==A||$<8||15<$||le<0||9<le||G<0||k<G)return ue(E,x);$===8&&($=9);var ye=new ge;return(E.state=ye).strm=E,ye.wrap=me,ye.gzhead=null,ye.w_bits=$,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=C+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+V-1)/V),ye.window=new u.Buf8(2*ye.w_size),ye.head=new u.Buf16(ye.hash_size),ye.prev=new u.Buf16(ye.w_size),ye.lit_bufsize=1<<C+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new u.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=le,ye.strategy=G,ye.method=H,Ve(E)}o=[new Oe(0,0,0,0,function(E,le){var H=65535;for(H>E.pending_buf_size-5&&(H=E.pending_buf_size-5);;){if(E.lookahead<=1){if(Ye(E),E.lookahead===0&&le===v)return w;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var $=E.block_start+H;if((E.strstart===0||E.strstart>=$)&&(E.lookahead=E.strstart-$,E.strstart=$,R(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-Q&&(R(E,!1),E.strm.avail_out===0))return w}return E.insert=0,le===y?(R(E,!0),E.strm.avail_out===0?xe:oe):(E.strstart>E.block_start&&(R(E,!1),E.strm.avail_out),w)}),new Oe(4,4,8,4,Xe),new Oe(4,5,16,8,Xe),new Oe(4,6,32,32,Xe),new Oe(4,4,16,16,he),new Oe(8,16,32,32,he),new Oe(8,16,128,128,he),new Oe(8,32,128,256,he),new Oe(32,128,258,1024,he),new Oe(32,258,258,4096,he)],s.deflateInit=function(E,le){return We(E,le,A,15,8,0)},s.deflateInit2=We,s.deflateReset=Ve,s.deflateResetKeep=je,s.deflateSetHeader=function(E,le){return E&&E.state?E.state.wrap!==2?x:(E.state.gzhead=le,h):x},s.deflate=function(E,le){var H,$,C,G;if(!E||!E.state||5<le||le<0)return E?ue(E,x):x;if($=E.state,!E.output||!E.input&&E.avail_in!==0||$.status===666&&le!==y)return ue(E,E.avail_out===0?-5:x);if($.strm=E,H=$.last_flush,$.last_flush=le,$.status===M)if($.wrap===2)E.adler=0,Te($,31),Te($,139),Te($,8),$.gzhead?(Te($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),Te($,255&$.gzhead.time),Te($,$.gzhead.time>>8&255),Te($,$.gzhead.time>>16&255),Te($,$.gzhead.time>>24&255),Te($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Te($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(Te($,255&$.gzhead.extra.length),Te($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(E.adler=d(E.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(Te($,0),Te($,0),Te($,0),Te($,0),Te($,0),Te($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Te($,3),$.status=Y);else{var me=A+($.w_bits-8<<4)<<8;me|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(me|=32),me+=31-me%31,$.status=Y,ke($,me),$.strstart!==0&&(ke($,E.adler>>>16),ke($,65535&E.adler)),E.adler=1}if($.status===69)if($.gzhead.extra){for(C=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>C&&(E.adler=d(E.adler,$.pending_buf,$.pending-C,C)),X(E),C=$.pending,$.pending!==$.pending_buf_size));)Te($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>C&&(E.adler=d(E.adler,$.pending_buf,$.pending-C,C)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){C=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>C&&(E.adler=d(E.adler,$.pending_buf,$.pending-C,C)),X(E),C=$.pending,$.pending===$.pending_buf_size)){G=1;break}G=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,Te($,G)}while(G!==0);$.gzhead.hcrc&&$.pending>C&&(E.adler=d(E.adler,$.pending_buf,$.pending-C,C)),G===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){C=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>C&&(E.adler=d(E.adler,$.pending_buf,$.pending-C,C)),X(E),C=$.pending,$.pending===$.pending_buf_size)){G=1;break}G=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,Te($,G)}while(G!==0);$.gzhead.hcrc&&$.pending>C&&(E.adler=d(E.adler,$.pending_buf,$.pending-C,C)),G===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&X(E),$.pending+2<=$.pending_buf_size&&(Te($,255&E.adler),Te($,E.adler>>8&255),E.adler=0,$.status=Y)):$.status=Y),$.pending!==0){if(X(E),E.avail_out===0)return $.last_flush=-1,h}else if(E.avail_in===0&&z(le)<=z(H)&&le!==y)return ue(E,-5);if($.status===666&&E.avail_in!==0)return ue(E,-5);if(E.avail_in!==0||$.lookahead!==0||le!==v&&$.status!==666){var ye=$.strategy===2?function(te,re){for(var pe;;){if(te.lookahead===0&&(Ye(te),te.lookahead===0)){if(re===v)return w;break}if(te.match_length=0,pe=c._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,pe&&(R(te,!1),te.strm.avail_out===0))return w}return te.insert=0,re===y?(R(te,!0),te.strm.avail_out===0?xe:oe):te.last_lit&&(R(te,!1),te.strm.avail_out===0)?w:P}($,le):$.strategy===3?function(te,re){for(var pe,U,ie,we,Ae=te.window;;){if(te.lookahead<=L){if(Ye(te),te.lookahead<=L&&re===v)return w;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=V&&0<te.strstart&&(U=Ae[ie=te.strstart-1])===Ae[++ie]&&U===Ae[++ie]&&U===Ae[++ie]){we=te.strstart+L;do;while(U===Ae[++ie]&&U===Ae[++ie]&&U===Ae[++ie]&&U===Ae[++ie]&&U===Ae[++ie]&&U===Ae[++ie]&&U===Ae[++ie]&&U===Ae[++ie]&&ie<we);te.match_length=L-(we-ie),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=V?(pe=c._tr_tally(te,1,te.match_length-V),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(pe=c._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),pe&&(R(te,!1),te.strm.avail_out===0))return w}return te.insert=0,re===y?(R(te,!0),te.strm.avail_out===0?xe:oe):te.last_lit&&(R(te,!1),te.strm.avail_out===0)?w:P}($,le):o[$.level].func($,le);if(ye!==xe&&ye!==oe||($.status=666),ye===w||ye===xe)return E.avail_out===0&&($.last_flush=-1),h;if(ye===P&&(le===1?c._tr_align($):le!==5&&(c._tr_stored_block($,0,0,!1),le===3&&(se($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),X(E),E.avail_out===0))return $.last_flush=-1,h}return le!==y?h:$.wrap<=0?1:($.wrap===2?(Te($,255&E.adler),Te($,E.adler>>8&255),Te($,E.adler>>16&255),Te($,E.adler>>24&255),Te($,255&E.total_in),Te($,E.total_in>>8&255),Te($,E.total_in>>16&255),Te($,E.total_in>>24&255)):(ke($,E.adler>>>16),ke($,65535&E.adler)),X(E),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?h:1)},s.deflateEnd=function(E){var le;return E&&E.state?(le=E.state.status)!==M&&le!==69&&le!==73&&le!==91&&le!==103&&le!==Y&&le!==666?ue(E,x):(E.state=null,le===Y?ue(E,-3):h):x},s.deflateSetDictionary=function(E,le){var H,$,C,G,me,ye,te,re,pe=le.length;if(!E||!E.state||(G=(H=E.state).wrap)===2||G===1&&H.status!==M||H.lookahead)return x;for(G===1&&(E.adler=p(E.adler,le,pe,0)),H.wrap=0,pe>=H.w_size&&(G===0&&(se(H.head),H.strstart=0,H.block_start=0,H.insert=0),re=new u.Buf8(H.w_size),u.arraySet(re,le,pe-H.w_size,H.w_size,0),le=re,pe=H.w_size),me=E.avail_in,ye=E.next_in,te=E.input,E.avail_in=pe,E.next_in=0,E.input=le,Ye(H);H.lookahead>=V;){for($=H.strstart,C=H.lookahead-(V-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[$+V-1])&H.hash_mask,H.prev[$&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=$,$++,--C;);H.strstart=$,H.lookahead=V-1,Ye(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=V-1,H.match_available=0,E.next_in=ye,E.input=te,E.avail_in=me,H.wrap=G,h},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,i,s){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,i,s){i.exports=function(o,u){var c,p,d,m,v,y,h,x,b,k,S,A,I,F,O,D,B,K,V,L,Q,M,Y,w,P;c=o.state,p=o.next_in,w=o.input,d=p+(o.avail_in-5),m=o.next_out,P=o.output,v=m-(u-o.avail_out),y=m+(o.avail_out-257),h=c.dmax,x=c.wsize,b=c.whave,k=c.wnext,S=c.window,A=c.hold,I=c.bits,F=c.lencode,O=c.distcode,D=(1<<c.lenbits)-1,B=(1<<c.distbits)-1;e:do{I<15&&(A+=w[p++]<<I,I+=8,A+=w[p++]<<I,I+=8),K=F[A&D];t:for(;;){if(A>>>=V=K>>>24,I-=V,(V=K>>>16&255)===0)P[m++]=65535&K;else{if(!(16&V)){if(!(64&V)){K=F[(65535&K)+(A&(1<<V)-1)];continue t}if(32&V){c.mode=12;break e}o.msg="invalid literal/length code",c.mode=30;break e}L=65535&K,(V&=15)&&(I<V&&(A+=w[p++]<<I,I+=8),L+=A&(1<<V)-1,A>>>=V,I-=V),I<15&&(A+=w[p++]<<I,I+=8,A+=w[p++]<<I,I+=8),K=O[A&B];n:for(;;){if(A>>>=V=K>>>24,I-=V,!(16&(V=K>>>16&255))){if(!(64&V)){K=O[(65535&K)+(A&(1<<V)-1)];continue n}o.msg="invalid distance code",c.mode=30;break e}if(Q=65535&K,I<(V&=15)&&(A+=w[p++]<<I,(I+=8)<V&&(A+=w[p++]<<I,I+=8)),h<(Q+=A&(1<<V)-1)){o.msg="invalid distance too far back",c.mode=30;break e}if(A>>>=V,I-=V,(V=m-v)<Q){if(b<(V=Q-V)&&c.sane){o.msg="invalid distance too far back",c.mode=30;break e}if(Y=S,(M=0)===k){if(M+=x-V,V<L){for(L-=V;P[m++]=S[M++],--V;);M=m-Q,Y=P}}else if(k<V){if(M+=x+k-V,(V-=k)<L){for(L-=V;P[m++]=S[M++],--V;);if(M=0,k<L){for(L-=V=k;P[m++]=S[M++],--V;);M=m-Q,Y=P}}}else if(M+=k-V,V<L){for(L-=V;P[m++]=S[M++],--V;);M=m-Q,Y=P}for(;2<L;)P[m++]=Y[M++],P[m++]=Y[M++],P[m++]=Y[M++],L-=3;L&&(P[m++]=Y[M++],1<L&&(P[m++]=Y[M++]))}else{for(M=m-Q;P[m++]=P[M++],P[m++]=P[M++],P[m++]=P[M++],2<(L-=3););L&&(P[m++]=P[M++],1<L&&(P[m++]=P[M++]))}break}}break}}while(p<d&&m<y);p-=L=I>>3,A&=(1<<(I-=L<<3))-1,o.next_in=p,o.next_out=m,o.avail_in=p<d?d-p+5:5-(p-d),o.avail_out=m<y?y-m+257:257-(m-y),c.hold=A,c.bits=I}},{}],49:[function(r,i,s){var o=r("../utils/common"),u=r("./adler32"),c=r("./crc32"),p=r("./inffast"),d=r("./inftrees"),m=1,v=2,y=0,h=-2,x=1,b=852,k=592;function S(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(M){var Y;return M&&M.state?(Y=M.state,M.total_in=M.total_out=Y.total=0,M.msg="",Y.wrap&&(M.adler=1&Y.wrap),Y.mode=x,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new o.Buf32(b),Y.distcode=Y.distdyn=new o.Buf32(k),Y.sane=1,Y.back=-1,y):h}function F(M){var Y;return M&&M.state?((Y=M.state).wsize=0,Y.whave=0,Y.wnext=0,I(M)):h}function O(M,Y){var w,P;return M&&M.state?(P=M.state,Y<0?(w=0,Y=-Y):(w=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?h:(P.window!==null&&P.wbits!==Y&&(P.window=null),P.wrap=w,P.wbits=Y,F(M))):h}function D(M,Y){var w,P;return M?(P=new A,(M.state=P).window=null,(w=O(M,Y))!==y&&(M.state=null),w):h}var B,K,V=!0;function L(M){if(V){var Y;for(B=new o.Buf32(512),K=new o.Buf32(32),Y=0;Y<144;)M.lens[Y++]=8;for(;Y<256;)M.lens[Y++]=9;for(;Y<280;)M.lens[Y++]=7;for(;Y<288;)M.lens[Y++]=8;for(d(m,M.lens,0,288,B,0,M.work,{bits:9}),Y=0;Y<32;)M.lens[Y++]=5;d(v,M.lens,0,32,K,0,M.work,{bits:5}),V=!1}M.lencode=B,M.lenbits=9,M.distcode=K,M.distbits=5}function Q(M,Y,w,P){var xe,oe=M.state;return oe.window===null&&(oe.wsize=1<<oe.wbits,oe.wnext=0,oe.whave=0,oe.window=new o.Buf8(oe.wsize)),P>=oe.wsize?(o.arraySet(oe.window,Y,w-oe.wsize,oe.wsize,0),oe.wnext=0,oe.whave=oe.wsize):(P<(xe=oe.wsize-oe.wnext)&&(xe=P),o.arraySet(oe.window,Y,w-P,xe,oe.wnext),(P-=xe)?(o.arraySet(oe.window,Y,w-P,P,0),oe.wnext=P,oe.whave=oe.wsize):(oe.wnext+=xe,oe.wnext===oe.wsize&&(oe.wnext=0),oe.whave<oe.wsize&&(oe.whave+=xe))),0}s.inflateReset=F,s.inflateReset2=O,s.inflateResetKeep=I,s.inflateInit=function(M){return D(M,15)},s.inflateInit2=D,s.inflate=function(M,Y){var w,P,xe,oe,ue,z,se,X,R,Te,ke,ae,Ye,Xe,he,Oe,ge,je,Ve,We,E,le,H,$,C=0,G=new o.Buf8(4),me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return h;(w=M.state).mode===12&&(w.mode=13),ue=M.next_out,xe=M.output,se=M.avail_out,oe=M.next_in,P=M.input,z=M.avail_in,X=w.hold,R=w.bits,Te=z,ke=se,le=y;e:for(;;)switch(w.mode){case x:if(w.wrap===0){w.mode=13;break}for(;R<16;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if(2&w.wrap&&X===35615){G[w.check=0]=255&X,G[1]=X>>>8&255,w.check=c(w.check,G,2,0),R=X=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&X)<<8)+(X>>8))%31){M.msg="incorrect header check",w.mode=30;break}if((15&X)!=8){M.msg="unknown compression method",w.mode=30;break}if(R-=4,E=8+(15&(X>>>=4)),w.wbits===0)w.wbits=E;else if(E>w.wbits){M.msg="invalid window size",w.mode=30;break}w.dmax=1<<E,M.adler=w.check=1,w.mode=512&X?10:12,R=X=0;break;case 2:for(;R<16;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if(w.flags=X,(255&w.flags)!=8){M.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){M.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=X>>8&1),512&w.flags&&(G[0]=255&X,G[1]=X>>>8&255,w.check=c(w.check,G,2,0)),R=X=0,w.mode=3;case 3:for(;R<32;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}w.head&&(w.head.time=X),512&w.flags&&(G[0]=255&X,G[1]=X>>>8&255,G[2]=X>>>16&255,G[3]=X>>>24&255,w.check=c(w.check,G,4,0)),R=X=0,w.mode=4;case 4:for(;R<16;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}w.head&&(w.head.xflags=255&X,w.head.os=X>>8),512&w.flags&&(G[0]=255&X,G[1]=X>>>8&255,w.check=c(w.check,G,2,0)),R=X=0,w.mode=5;case 5:if(1024&w.flags){for(;R<16;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}w.length=X,w.head&&(w.head.extra_len=X),512&w.flags&&(G[0]=255&X,G[1]=X>>>8&255,w.check=c(w.check,G,2,0)),R=X=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(z<(ae=w.length)&&(ae=z),ae&&(w.head&&(E=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),o.arraySet(w.head.extra,P,oe,ae,E)),512&w.flags&&(w.check=c(w.check,P,ae,oe)),z-=ae,oe+=ae,w.length-=ae),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(z===0)break e;for(ae=0;E=P[oe+ae++],w.head&&E&&w.length<65536&&(w.head.name+=String.fromCharCode(E)),E&&ae<z;);if(512&w.flags&&(w.check=c(w.check,P,ae,oe)),z-=ae,oe+=ae,E)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(z===0)break e;for(ae=0;E=P[oe+ae++],w.head&&E&&w.length<65536&&(w.head.comment+=String.fromCharCode(E)),E&&ae<z;);if(512&w.flags&&(w.check=c(w.check,P,ae,oe)),z-=ae,oe+=ae,E)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;R<16;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if(X!==(65535&w.check)){M.msg="header crc mismatch",w.mode=30;break}R=X=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),M.adler=w.check=0,w.mode=12;break;case 10:for(;R<32;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}M.adler=w.check=S(X),R=X=0,w.mode=11;case 11:if(w.havedict===0)return M.next_out=ue,M.avail_out=se,M.next_in=oe,M.avail_in=z,w.hold=X,w.bits=R,2;M.adler=w.check=1,w.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(w.last){X>>>=7&R,R-=7&R,w.mode=27;break}for(;R<3;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}switch(w.last=1&X,R-=1,3&(X>>>=1)){case 0:w.mode=14;break;case 1:if(L(w),w.mode=20,Y!==6)break;X>>>=2,R-=2;break e;case 2:w.mode=17;break;case 3:M.msg="invalid block type",w.mode=30}X>>>=2,R-=2;break;case 14:for(X>>>=7&R,R-=7&R;R<32;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if((65535&X)!=(X>>>16^65535)){M.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&X,R=X=0,w.mode=15,Y===6)break e;case 15:w.mode=16;case 16:if(ae=w.length){if(z<ae&&(ae=z),se<ae&&(ae=se),ae===0)break e;o.arraySet(xe,P,oe,ae,ue),z-=ae,oe+=ae,se-=ae,ue+=ae,w.length-=ae;break}w.mode=12;break;case 17:for(;R<14;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if(w.nlen=257+(31&X),X>>>=5,R-=5,w.ndist=1+(31&X),X>>>=5,R-=5,w.ncode=4+(15&X),X>>>=4,R-=4,286<w.nlen||30<w.ndist){M.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;R<3;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}w.lens[me[w.have++]]=7&X,X>>>=3,R-=3}for(;w.have<19;)w.lens[me[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,H={bits:w.lenbits},le=d(0,w.lens,0,19,w.lencode,0,w.work,H),w.lenbits=H.bits,le){M.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;Oe=(C=w.lencode[X&(1<<w.lenbits)-1])>>>16&255,ge=65535&C,!((he=C>>>24)<=R);){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if(ge<16)X>>>=he,R-=he,w.lens[w.have++]=ge;else{if(ge===16){for($=he+2;R<$;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if(X>>>=he,R-=he,w.have===0){M.msg="invalid bit length repeat",w.mode=30;break}E=w.lens[w.have-1],ae=3+(3&X),X>>>=2,R-=2}else if(ge===17){for($=he+3;R<$;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}R-=he,E=0,ae=3+(7&(X>>>=he)),X>>>=3,R-=3}else{for($=he+7;R<$;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}R-=he,E=0,ae=11+(127&(X>>>=he)),X>>>=7,R-=7}if(w.have+ae>w.nlen+w.ndist){M.msg="invalid bit length repeat",w.mode=30;break}for(;ae--;)w.lens[w.have++]=E}}if(w.mode===30)break;if(w.lens[256]===0){M.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,H={bits:w.lenbits},le=d(m,w.lens,0,w.nlen,w.lencode,0,w.work,H),w.lenbits=H.bits,le){M.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,H={bits:w.distbits},le=d(v,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,H),w.distbits=H.bits,le){M.msg="invalid distances set",w.mode=30;break}if(w.mode=20,Y===6)break e;case 20:w.mode=21;case 21:if(6<=z&&258<=se){M.next_out=ue,M.avail_out=se,M.next_in=oe,M.avail_in=z,w.hold=X,w.bits=R,p(M,ke),ue=M.next_out,xe=M.output,se=M.avail_out,oe=M.next_in,P=M.input,z=M.avail_in,X=w.hold,R=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;Oe=(C=w.lencode[X&(1<<w.lenbits)-1])>>>16&255,ge=65535&C,!((he=C>>>24)<=R);){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if(Oe&&!(240&Oe)){for(je=he,Ve=Oe,We=ge;Oe=(C=w.lencode[We+((X&(1<<je+Ve)-1)>>je)])>>>16&255,ge=65535&C,!(je+(he=C>>>24)<=R);){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}X>>>=je,R-=je,w.back+=je}if(X>>>=he,R-=he,w.back+=he,w.length=ge,Oe===0){w.mode=26;break}if(32&Oe){w.back=-1,w.mode=12;break}if(64&Oe){M.msg="invalid literal/length code",w.mode=30;break}w.extra=15&Oe,w.mode=22;case 22:if(w.extra){for($=w.extra;R<$;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}w.length+=X&(1<<w.extra)-1,X>>>=w.extra,R-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;Oe=(C=w.distcode[X&(1<<w.distbits)-1])>>>16&255,ge=65535&C,!((he=C>>>24)<=R);){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if(!(240&Oe)){for(je=he,Ve=Oe,We=ge;Oe=(C=w.distcode[We+((X&(1<<je+Ve)-1)>>je)])>>>16&255,ge=65535&C,!(je+(he=C>>>24)<=R);){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}X>>>=je,R-=je,w.back+=je}if(X>>>=he,R-=he,w.back+=he,64&Oe){M.msg="invalid distance code",w.mode=30;break}w.offset=ge,w.extra=15&Oe,w.mode=24;case 24:if(w.extra){for($=w.extra;R<$;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}w.offset+=X&(1<<w.extra)-1,X>>>=w.extra,R-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){M.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(se===0)break e;if(ae=ke-se,w.offset>ae){if((ae=w.offset-ae)>w.whave&&w.sane){M.msg="invalid distance too far back",w.mode=30;break}Ye=ae>w.wnext?(ae-=w.wnext,w.wsize-ae):w.wnext-ae,ae>w.length&&(ae=w.length),Xe=w.window}else Xe=xe,Ye=ue-w.offset,ae=w.length;for(se<ae&&(ae=se),se-=ae,w.length-=ae;xe[ue++]=Xe[Ye++],--ae;);w.length===0&&(w.mode=21);break;case 26:if(se===0)break e;xe[ue++]=w.length,se--,w.mode=21;break;case 27:if(w.wrap){for(;R<32;){if(z===0)break e;z--,X|=P[oe++]<<R,R+=8}if(ke-=se,M.total_out+=ke,w.total+=ke,ke&&(M.adler=w.check=w.flags?c(w.check,xe,ke,ue-ke):u(w.check,xe,ke,ue-ke)),ke=se,(w.flags?X:S(X))!==w.check){M.msg="incorrect data check",w.mode=30;break}R=X=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;R<32;){if(z===0)break e;z--,X+=P[oe++]<<R,R+=8}if(X!==(4294967295&w.total)){M.msg="incorrect length check",w.mode=30;break}R=X=0}w.mode=29;case 29:le=1;break e;case 30:le=-3;break e;case 31:return-4;case 32:default:return h}return M.next_out=ue,M.avail_out=se,M.next_in=oe,M.avail_in=z,w.hold=X,w.bits=R,(w.wsize||ke!==M.avail_out&&w.mode<30&&(w.mode<27||Y!==4))&&Q(M,M.output,M.next_out,ke-M.avail_out)?(w.mode=31,-4):(Te-=M.avail_in,ke-=M.avail_out,M.total_in+=Te,M.total_out+=ke,w.total+=ke,w.wrap&&ke&&(M.adler=w.check=w.flags?c(w.check,xe,ke,M.next_out-ke):u(w.check,xe,ke,M.next_out-ke)),M.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(Te==0&&ke===0||Y===4)&&le===y&&(le=-5),le)},s.inflateEnd=function(M){if(!M||!M.state)return h;var Y=M.state;return Y.window&&(Y.window=null),M.state=null,y},s.inflateGetHeader=function(M,Y){var w;return M&&M.state&&2&(w=M.state).wrap?((w.head=Y).done=!1,y):h},s.inflateSetDictionary=function(M,Y){var w,P=Y.length;return M&&M.state?(w=M.state).wrap!==0&&w.mode!==11?h:w.mode===11&&u(1,Y,P,0)!==w.check?-3:Q(M,Y,P,P)?(w.mode=31,-4):(w.havedict=1,y):h},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,i,s){var o=r("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(m,v,y,h,x,b,k,S){var A,I,F,O,D,B,K,V,L,Q=S.bits,M=0,Y=0,w=0,P=0,xe=0,oe=0,ue=0,z=0,se=0,X=0,R=null,Te=0,ke=new o.Buf16(16),ae=new o.Buf16(16),Ye=null,Xe=0;for(M=0;M<=15;M++)ke[M]=0;for(Y=0;Y<h;Y++)ke[v[y+Y]]++;for(xe=Q,P=15;1<=P&&ke[P]===0;P--);if(P<xe&&(xe=P),P===0)return x[b++]=20971520,x[b++]=20971520,S.bits=1,0;for(w=1;w<P&&ke[w]===0;w++);for(xe<w&&(xe=w),M=z=1;M<=15;M++)if(z<<=1,(z-=ke[M])<0)return-1;if(0<z&&(m===0||P!==1))return-1;for(ae[1]=0,M=1;M<15;M++)ae[M+1]=ae[M]+ke[M];for(Y=0;Y<h;Y++)v[y+Y]!==0&&(k[ae[v[y+Y]]++]=Y);if(B=m===0?(R=Ye=k,19):m===1?(R=u,Te-=257,Ye=c,Xe-=257,256):(R=p,Ye=d,-1),M=w,D=b,ue=Y=X=0,F=-1,O=(se=1<<(oe=xe))-1,m===1&&852<se||m===2&&592<se)return 1;for(;;){for(K=M-ue,L=k[Y]<B?(V=0,k[Y]):k[Y]>B?(V=Ye[Xe+k[Y]],R[Te+k[Y]]):(V=96,0),A=1<<M-ue,w=I=1<<oe;x[D+(X>>ue)+(I-=A)]=K<<24|V<<16|L|0,I!==0;);for(A=1<<M-1;X&A;)A>>=1;if(A!==0?(X&=A-1,X+=A):X=0,Y++,--ke[M]==0){if(M===P)break;M=v[y+k[Y]]}if(xe<M&&(X&O)!==F){for(ue===0&&(ue=xe),D+=w,z=1<<(oe=M-ue);oe+ue<P&&!((z-=ke[oe+ue])<=0);)oe++,z<<=1;if(se+=1<<oe,m===1&&852<se||m===2&&592<se)return 1;x[F=X&O]=xe<<24|oe<<16|D-b|0}}return X!==0&&(x[D+X]=M-ue<<24|64<<16|0),S.bits=xe,0}},{"../utils/common":41}],51:[function(r,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,i,s){var o=r("../utils/common"),u=0,c=1;function p(C){for(var G=C.length;0<=--G;)C[G]=0}var d=0,m=29,v=256,y=v+1+m,h=30,x=19,b=2*y+1,k=15,S=16,A=7,I=256,F=16,O=17,D=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(y+2));p(Q);var M=new Array(2*h);p(M);var Y=new Array(512);p(Y);var w=new Array(256);p(w);var P=new Array(m);p(P);var xe,oe,ue,z=new Array(h);function se(C,G,me,ye,te){this.static_tree=C,this.extra_bits=G,this.extra_base=me,this.elems=ye,this.max_length=te,this.has_stree=C&&C.length}function X(C,G){this.dyn_tree=C,this.max_code=0,this.stat_desc=G}function R(C){return C<256?Y[C]:Y[256+(C>>>7)]}function Te(C,G){C.pending_buf[C.pending++]=255&G,C.pending_buf[C.pending++]=G>>>8&255}function ke(C,G,me){C.bi_valid>S-me?(C.bi_buf|=G<<C.bi_valid&65535,Te(C,C.bi_buf),C.bi_buf=G>>S-C.bi_valid,C.bi_valid+=me-S):(C.bi_buf|=G<<C.bi_valid&65535,C.bi_valid+=me)}function ae(C,G,me){ke(C,me[2*G],me[2*G+1])}function Ye(C,G){for(var me=0;me|=1&C,C>>>=1,me<<=1,0<--G;);return me>>>1}function Xe(C,G,me){var ye,te,re=new Array(k+1),pe=0;for(ye=1;ye<=k;ye++)re[ye]=pe=pe+me[ye-1]<<1;for(te=0;te<=G;te++){var U=C[2*te+1];U!==0&&(C[2*te]=Ye(re[U]++,U))}}function he(C){var G;for(G=0;G<y;G++)C.dyn_ltree[2*G]=0;for(G=0;G<h;G++)C.dyn_dtree[2*G]=0;for(G=0;G<x;G++)C.bl_tree[2*G]=0;C.dyn_ltree[2*I]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function Oe(C){8<C.bi_valid?Te(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function ge(C,G,me,ye){var te=2*G,re=2*me;return C[te]<C[re]||C[te]===C[re]&&ye[G]<=ye[me]}function je(C,G,me){for(var ye=C.heap[me],te=me<<1;te<=C.heap_len&&(te<C.heap_len&&ge(G,C.heap[te+1],C.heap[te],C.depth)&&te++,!ge(G,ye,C.heap[te],C.depth));)C.heap[me]=C.heap[te],me=te,te<<=1;C.heap[me]=ye}function Ve(C,G,me){var ye,te,re,pe,U=0;if(C.last_lit!==0)for(;ye=C.pending_buf[C.d_buf+2*U]<<8|C.pending_buf[C.d_buf+2*U+1],te=C.pending_buf[C.l_buf+U],U++,ye===0?ae(C,te,G):(ae(C,(re=w[te])+v+1,G),(pe=B[re])!==0&&ke(C,te-=P[re],pe),ae(C,re=R(--ye),me),(pe=K[re])!==0&&ke(C,ye-=z[re],pe)),U<C.last_lit;);ae(C,I,G)}function We(C,G){var me,ye,te,re=G.dyn_tree,pe=G.stat_desc.static_tree,U=G.stat_desc.has_stree,ie=G.stat_desc.elems,we=-1;for(C.heap_len=0,C.heap_max=b,me=0;me<ie;me++)re[2*me]!==0?(C.heap[++C.heap_len]=we=me,C.depth[me]=0):re[2*me+1]=0;for(;C.heap_len<2;)re[2*(te=C.heap[++C.heap_len]=we<2?++we:0)]=1,C.depth[te]=0,C.opt_len--,U&&(C.static_len-=pe[2*te+1]);for(G.max_code=we,me=C.heap_len>>1;1<=me;me--)je(C,re,me);for(te=ie;me=C.heap[1],C.heap[1]=C.heap[C.heap_len--],je(C,re,1),ye=C.heap[1],C.heap[--C.heap_max]=me,C.heap[--C.heap_max]=ye,re[2*te]=re[2*me]+re[2*ye],C.depth[te]=(C.depth[me]>=C.depth[ye]?C.depth[me]:C.depth[ye])+1,re[2*me+1]=re[2*ye+1]=te,C.heap[1]=te++,je(C,re,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(Ae,De){var pt,_t,ft,Qe,an,ht,kt=De.dyn_tree,ot=De.max_code,cr=De.stat_desc.static_tree,Cn=De.stat_desc.has_stree,Tr=De.stat_desc.extra_bits,qr=De.stat_desc.extra_base,jr=De.stat_desc.max_length,Vr=0;for(Qe=0;Qe<=k;Qe++)Ae.bl_count[Qe]=0;for(kt[2*Ae.heap[Ae.heap_max]+1]=0,pt=Ae.heap_max+1;pt<b;pt++)jr<(Qe=kt[2*kt[2*(_t=Ae.heap[pt])+1]+1]+1)&&(Qe=jr,Vr++),kt[2*_t+1]=Qe,ot<_t||(Ae.bl_count[Qe]++,an=0,qr<=_t&&(an=Tr[_t-qr]),ht=kt[2*_t],Ae.opt_len+=ht*(Qe+an),Cn&&(Ae.static_len+=ht*(cr[2*_t+1]+an)));if(Vr!==0){do{for(Qe=jr-1;Ae.bl_count[Qe]===0;)Qe--;Ae.bl_count[Qe]--,Ae.bl_count[Qe+1]+=2,Ae.bl_count[jr]--,Vr-=2}while(0<Vr);for(Qe=jr;Qe!==0;Qe--)for(_t=Ae.bl_count[Qe];_t!==0;)ot<(ft=Ae.heap[--pt])||(kt[2*ft+1]!==Qe&&(Ae.opt_len+=(Qe-kt[2*ft+1])*kt[2*ft],kt[2*ft+1]=Qe),_t--)}}(C,G),Xe(re,we,C.bl_count)}function E(C,G,me){var ye,te,re=-1,pe=G[1],U=0,ie=7,we=4;for(pe===0&&(ie=138,we=3),G[2*(me+1)+1]=65535,ye=0;ye<=me;ye++)te=pe,pe=G[2*(ye+1)+1],++U<ie&&te===pe||(U<we?C.bl_tree[2*te]+=U:te!==0?(te!==re&&C.bl_tree[2*te]++,C.bl_tree[2*F]++):U<=10?C.bl_tree[2*O]++:C.bl_tree[2*D]++,re=te,we=(U=0)===pe?(ie=138,3):te===pe?(ie=6,3):(ie=7,4))}function le(C,G,me){var ye,te,re=-1,pe=G[1],U=0,ie=7,we=4;for(pe===0&&(ie=138,we=3),ye=0;ye<=me;ye++)if(te=pe,pe=G[2*(ye+1)+1],!(++U<ie&&te===pe)){if(U<we)for(;ae(C,te,C.bl_tree),--U!=0;);else te!==0?(te!==re&&(ae(C,te,C.bl_tree),U--),ae(C,F,C.bl_tree),ke(C,U-3,2)):U<=10?(ae(C,O,C.bl_tree),ke(C,U-3,3)):(ae(C,D,C.bl_tree),ke(C,U-11,7));re=te,we=(U=0)===pe?(ie=138,3):te===pe?(ie=6,3):(ie=7,4)}}p(z);var H=!1;function $(C,G,me,ye){ke(C,(d<<1)+(ye?1:0),3),function(te,re,pe,U){Oe(te),Te(te,pe),Te(te,~pe),o.arraySet(te.pending_buf,te.window,re,pe,te.pending),te.pending+=pe}(C,G,me)}s._tr_init=function(C){H||(function(){var G,me,ye,te,re,pe=new Array(k+1);for(te=ye=0;te<m-1;te++)for(P[te]=ye,G=0;G<1<<B[te];G++)w[ye++]=te;for(w[ye-1]=te,te=re=0;te<16;te++)for(z[te]=re,G=0;G<1<<K[te];G++)Y[re++]=te;for(re>>=7;te<h;te++)for(z[te]=re<<7,G=0;G<1<<K[te]-7;G++)Y[256+re++]=te;for(me=0;me<=k;me++)pe[me]=0;for(G=0;G<=143;)Q[2*G+1]=8,G++,pe[8]++;for(;G<=255;)Q[2*G+1]=9,G++,pe[9]++;for(;G<=279;)Q[2*G+1]=7,G++,pe[7]++;for(;G<=287;)Q[2*G+1]=8,G++,pe[8]++;for(Xe(Q,y+1,pe),G=0;G<h;G++)M[2*G+1]=5,M[2*G]=Ye(G,5);xe=new se(Q,B,v+1,y,k),oe=new se(M,K,0,h,k),ue=new se(new Array(0),V,0,x,A)}(),H=!0),C.l_desc=new X(C.dyn_ltree,xe),C.d_desc=new X(C.dyn_dtree,oe),C.bl_desc=new X(C.bl_tree,ue),C.bi_buf=0,C.bi_valid=0,he(C)},s._tr_stored_block=$,s._tr_flush_block=function(C,G,me,ye){var te,re,pe=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(U){var ie,we=4093624447;for(ie=0;ie<=31;ie++,we>>>=1)if(1&we&&U.dyn_ltree[2*ie]!==0)return u;if(U.dyn_ltree[18]!==0||U.dyn_ltree[20]!==0||U.dyn_ltree[26]!==0)return c;for(ie=32;ie<v;ie++)if(U.dyn_ltree[2*ie]!==0)return c;return u}(C)),We(C,C.l_desc),We(C,C.d_desc),pe=function(U){var ie;for(E(U,U.dyn_ltree,U.l_desc.max_code),E(U,U.dyn_dtree,U.d_desc.max_code),We(U,U.bl_desc),ie=x-1;3<=ie&&U.bl_tree[2*L[ie]+1]===0;ie--);return U.opt_len+=3*(ie+1)+5+5+4,ie}(C),te=C.opt_len+3+7>>>3,(re=C.static_len+3+7>>>3)<=te&&(te=re)):te=re=me+5,me+4<=te&&G!==-1?$(C,G,me,ye):C.strategy===4||re===te?(ke(C,2+(ye?1:0),3),Ve(C,Q,M)):(ke(C,4+(ye?1:0),3),function(U,ie,we,Ae){var De;for(ke(U,ie-257,5),ke(U,we-1,5),ke(U,Ae-4,4),De=0;De<Ae;De++)ke(U,U.bl_tree[2*L[De]+1],3);le(U,U.dyn_ltree,ie-1),le(U,U.dyn_dtree,we-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,pe+1),Ve(C,C.dyn_ltree,C.dyn_dtree)),he(C),ye&&Oe(C)},s._tr_tally=function(C,G,me){return C.pending_buf[C.d_buf+2*C.last_lit]=G>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&G,C.pending_buf[C.l_buf+C.last_lit]=255&me,C.last_lit++,G===0?C.dyn_ltree[2*me]++:(C.matches++,G--,C.dyn_ltree[2*(w[me]+v+1)]++,C.dyn_dtree[2*R(G)]++),C.last_lit===C.lit_bufsize-1},s._tr_align=function(C){ke(C,2,3),ae(C,I,Q),function(G){G.bi_valid===16?(Te(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(r,i,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,i,s){(function(o){(function(u,c){if(!u.setImmediate){var p,d,m,v,y=1,h={},x=!1,b=u.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(u);k=k&&k.setTimeout?k:u,p={}.toString.call(u.process)==="[object process]"?function(F){n.nextTick(function(){A(F)})}:function(){if(u.postMessage&&!u.importScripts){var F=!0,O=u.onmessage;return u.onmessage=function(){F=!1},u.postMessage("","*"),u.onmessage=O,F}}()?(v="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",I,!1):u.attachEvent("onmessage",I),function(F){u.postMessage(v+F,"*")}):u.MessageChannel?((m=new MessageChannel).port1.onmessage=function(F){A(F.data)},function(F){m.port2.postMessage(F)}):b&&"onreadystatechange"in b.createElement("script")?(d=b.documentElement,function(F){var O=b.createElement("script");O.onreadystatechange=function(){A(F),O.onreadystatechange=null,d.removeChild(O),O=null},d.appendChild(O)}):function(F){setTimeout(A,0,F)},k.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var O=new Array(arguments.length-1),D=0;D<O.length;D++)O[D]=arguments[D+1];var B={callback:F,args:O};return h[y]=B,p(y),y++},k.clearImmediate=S}function S(F){delete h[F]}function A(F){if(x)setTimeout(A,0,F);else{var O=h[F];if(O){x=!0;try{(function(D){var B=D.callback,K=D.args;switch(K.length){case 0:B();break;case 1:B(K[0]);break;case 2:B(K[0],K[1]);break;case 3:B(K[0],K[1],K[2]);break;default:B.apply(c,K)}})(O)}finally{S(F),x=!1}}}}function I(F){F.source===u&&typeof F.data=="string"&&F.data.indexOf(v)===0&&A(+F.data.slice(v.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Un<"u"?Un:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Xb);var W5=Xb.exports;const q5=Mi(W5);var yl={};(function(e){e.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,e.find=(t,n)=>t.nodes.find(r=>r.type===n),e.exceedsLimit=(t,n,r=1,i)=>i===!1||!e.isInteger(t)||!e.isInteger(n)?!1:(Number(n)-Number(t))/Number(r)>=i,e.escapeNode=(t,n=0,r)=>{const i=t.nodes[n];i&&(r&&i.type===r||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)},e.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0),e.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,e.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,e.reduce=t=>t.reduce((n,r)=>(r.type==="text"&&n.push(r.value),r.type==="range"&&(r.type="text"),n),[]),e.flatten=(...t)=>{const n=[],r=i=>{for(let s=0;s<i.length;s++){const o=i[s];if(Array.isArray(o)){r(o);continue}o!==void 0&&n.push(o)}return n};return r(t),n}})(yl);const dg=yl;var qp=(e,t={})=>{const n=(r,i={})=>{const s=t.escapeInvalid&&dg.isInvalidBrace(i),o=r.invalid===!0&&t.escapeInvalid===!0;let u="";if(r.value)return(s||o)&&dg.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(const c of r.nodes)u+=n(c);return u};return n(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var V5=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const fg=V5,Ii=(e,t,n)=>{if(fg(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(fg(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...n};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let i=String(r.relaxZeros),s=String(r.shorthand),o=String(r.capture),u=String(r.wrap),c=e+":"+t+"="+i+s+o+u;if(Ii.cache.hasOwnProperty(c))return Ii.cache[c].result;let p=Math.min(e,t),d=Math.max(e,t);if(Math.abs(p-d)===1){let x=e+"|"+t;return r.capture?`(${x})`:r.wrap===!1?x:`(?:${x})`}let m=bg(e)||bg(t),v={min:e,max:t,a:p,b:d},y=[],h=[];if(m&&(v.isPadded=m,v.maxLen=String(v.max).length),p<0){let x=d<0?Math.abs(d):1;h=hg(x,Math.abs(p),v,r),p=v.a=0}return d>=0&&(y=hg(p,d,v,r)),v.negatives=h,v.positives=y,v.result=G5(h,y),r.capture===!0?v.result=`(${v.result})`:r.wrap!==!1&&y.length+h.length>1&&(v.result=`(?:${v.result})`),Ii.cache[c]=v,v.result};function G5(e,t,n){let r=lc(e,t,"-",!1)||[],i=lc(t,e,"",!1)||[],s=lc(e,t,"-?",!0)||[];return r.concat(s).concat(i).join("|")}function K5(e,t){let n=1,r=1,i=gg(e,n),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),n+=1,i=gg(e,n);for(i=vg(t+1,r)-1;e<i&&i<=t;)s.add(i),r+=1,i=vg(t+1,r)-1;return s=[...s],s.sort(X5),s}function J5(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=Y5(e,t),i=r.length,s="",o=0;for(let u=0;u<i;u++){let[c,p]=r[u];c===p?s+=c:c!=="0"||p!=="9"?s+=Q5(c,p):o++}return o&&(s+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function hg(e,t,n,r){let i=K5(e,t),s=[],o=e,u;for(let c=0;c<i.length;c++){let p=i[c],d=J5(String(o),String(p),r),m="";if(!n.isPadded&&u&&u.pattern===d.pattern){u.count.length>1&&u.count.pop(),u.count.push(d.count[0]),u.string=u.pattern+yg(u.count),o=p+1;continue}n.isPadded&&(m=e6(p,n,r)),d.string=m+d.pattern+yg(d.count),s.push(d),o=p+1,u=d}return s}function lc(e,t,n,r,i){let s=[];for(let o of e){let{string:u}=o;!r&&!mg(t,"string",u)&&s.push(n+u),r&&mg(t,"string",u)&&s.push(n+u)}return s}function Y5(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}function X5(e,t){return e>t?1:t>e?-1:0}function mg(e,t,n){return e.some(r=>r[t]===n)}function gg(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function vg(e,t){return e-e%Math.pow(10,t)}function yg(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function Q5(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function bg(e){return/^-?(0+)\d/.test(e)}function e6(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),i=n.relaxZeros!==!1;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}Ii.cache={};Ii.clearCache=()=>Ii.cache={};var t6=Ii;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const n6=vo,Qb=t6,xg=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),r6=e=>t=>e===!0?Number(t):String(t),uc=e=>typeof e=="number"||typeof e=="string"&&e!=="",ro=e=>Number.isInteger(+e),cc=e=>{let t=`${e}`,n=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++n]==="0";);return n>0},i6=(e,t,n)=>typeof e=="string"||typeof t=="string"?!0:n.stringify===!0,a6=(e,t,n)=>{if(t>0){let r=e[0]==="-"?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return n===!1?String(e):e},Ys=(e,t)=>{let n=e[0]==="-"?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},o6=(e,t,n)=>{e.negatives.sort((u,c)=>u<c?-1:u>c?1:0),e.positives.sort((u,c)=>u<c?-1:u>c?1:0);let r=t.capture?"":"?:",i="",s="",o;return e.positives.length&&(i=e.positives.map(u=>Ys(String(u),n)).join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.map(u=>Ys(String(u),n)).join("|")})`),i&&s?o=`${i}|${s}`:o=i||s,t.wrap?`(${r}${o})`:o},ex=(e,t,n,r)=>{if(n)return Qb(e,t,{wrap:!1,...r});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},tx=(e,t,n)=>{if(Array.isArray(e)){let r=n.wrap===!0,i=n.capture?"":"?:";return r?`(${i}${e.join("|")})`:e.join("|")}return Qb(e,t,n)},nx=(...e)=>new RangeError("Invalid range arguments: "+n6.inspect(...e)),rx=(e,t,n)=>{if(n.strictRanges===!0)throw nx([e,t]);return[]},s6=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},l6=(e,t,n=1,r={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(r.strictRanges===!0)throw nx([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,u=String(e),c=String(t),p=String(n);n=Math.max(Math.abs(n),1);let d=cc(u)||cc(c)||cc(p),m=d?Math.max(u.length,c.length,p.length):0,v=d===!1&&i6(e,t,r)===!1,y=r.transform||r6(v);if(r.toRegex&&n===1)return ex(Ys(e,m),Ys(t,m),!0,r);let h={negatives:[],positives:[]},x=S=>h[S<0?"negatives":"positives"].push(Math.abs(S)),b=[],k=0;for(;o?i>=s:i<=s;)r.toRegex===!0&&n>1?x(i):b.push(a6(y(i,k),m,v)),i=o?i-n:i+n,k++;return r.toRegex===!0?n>1?o6(h,r,m):tx(b,null,{wrap:!1,...r}):b},u6=(e,t,n=1,r={})=>{if(!ro(e)&&e.length>1||!ro(t)&&t.length>1)return rx(e,t,r);let i=r.transform||(v=>String.fromCharCode(v)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),u=s>o,c=Math.min(s,o),p=Math.max(s,o);if(r.toRegex&&n===1)return ex(c,p,!1,r);let d=[],m=0;for(;u?s>=o:s<=o;)d.push(i(s,m)),s=u?s-n:s+n,m++;return r.toRegex===!0?tx(d,null,{wrap:!1,options:r}):d},zs=(e,t,n,r={})=>{if(t==null&&uc(e))return[e];if(!uc(e)||!uc(t))return rx(e,t,r);if(typeof n=="function")return zs(e,t,1,{transform:n});if(xg(n))return zs(e,t,0,n);let i={...r};return i.capture===!0&&(i.wrap=!0),n=n||i.step||1,ro(n)?ro(e)&&ro(t)?l6(e,t,n,i):u6(e,t,Math.max(Math.abs(n),1),i):n!=null&&!xg(n)?s6(n,i):zs(e,t,1,n)};var ix=zs;const c6=ix,_g=yl,p6=(e,t={})=>{const n=(r,i={})=>{const s=_g.isInvalidBrace(i),o=r.invalid===!0&&t.escapeInvalid===!0,u=s===!0||o===!0,c=t.escapeInvalid===!0?"\\":"";let p="";if(r.isOpen===!0)return c+r.value;if(r.isClose===!0)return console.log("node.isClose",c,r.value),c+r.value;if(r.type==="open")return u?c+r.value:"(";if(r.type==="close")return u?c+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":u?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){const d=_g.reduce(r.nodes),m=c6(...d,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(m.length!==0)return d.length>1&&m.length>1?`(${m})`:m}if(r.nodes)for(const d of r.nodes)p+=n(d,r);return p};return n(e)};var d6=p6;const f6=ix,wg=qp,ca=yl,Ai=(e="",t="",n=!1)=>{const r=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?ca.flatten(t).map(i=>`{${i}}`):t;for(const i of e)if(Array.isArray(i))for(const s of i)r.push(Ai(s,t,n));else for(let s of t)n===!0&&typeof s=="string"&&(s=`{${s}}`),r.push(Array.isArray(s)?Ai(i,s,n):i+s);return ca.flatten(r)},h6=(e,t={})=>{const n=t.rangeLimit===void 0?1e3:t.rangeLimit,r=(i,s={})=>{i.queue=[];let o=s,u=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,u=o.queue;if(i.invalid||i.dollar){u.push(Ai(u.pop(),wg(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){u.push(Ai(u.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){const m=ca.reduce(i.nodes);if(ca.exceedsLimit(...m,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let v=f6(...m,t);v.length===0&&(v=wg(i,t)),u.push(Ai(u.pop(),v)),i.nodes=[];return}const c=ca.encloseBrace(i);let p=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,p=d.queue;for(let m=0;m<i.nodes.length;m++){const v=i.nodes[m];if(v.type==="comma"&&i.type==="brace"){m===1&&p.push(""),p.push("");continue}if(v.type==="close"){u.push(Ai(u.pop(),p,c));continue}if(v.value&&v.type!=="open"){p.push(Ai(p.pop(),v.value));continue}v.nodes&&r(v,i)}return p};return ca.flatten(r(e))};var m6=h6,g6={MAX_LENGTH:1e4,CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_COMMA:",",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_NO_BREAK_SPACE:"",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SINGLE_QUOTE:"'",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const v6=qp,{MAX_LENGTH:kg,CHAR_BACKSLASH:pc,CHAR_BACKTICK:y6,CHAR_COMMA:b6,CHAR_DOT:x6,CHAR_LEFT_PARENTHESES:_6,CHAR_RIGHT_PARENTHESES:w6,CHAR_LEFT_CURLY_BRACE:k6,CHAR_RIGHT_CURLY_BRACE:C6,CHAR_LEFT_SQUARE_BRACKET:Cg,CHAR_RIGHT_SQUARE_BRACKET:Sg,CHAR_DOUBLE_QUOTE:S6,CHAR_SINGLE_QUOTE:E6,CHAR_NO_BREAK_SPACE:A6,CHAR_ZERO_WIDTH_NOBREAK_SPACE:T6}=g6,j6=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=t||{},r=typeof n.maxLength=="number"?Math.min(kg,n.maxLength):kg;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);const i={type:"root",input:e,nodes:[]},s=[i];let o=i,u=i,c=0;const p=e.length;let d=0,m=0,v;const y=()=>e[d++],h=x=>{if(x.type==="text"&&u.type==="dot"&&(u.type="text"),u&&u.type==="text"&&x.type==="text"){u.value+=x.value;return}return o.nodes.push(x),x.parent=o,x.prev=u,u=x,x};for(h({type:"bos"});d<p;)if(o=s[s.length-1],v=y(),!(v===T6||v===A6)){if(v===pc){h({type:"text",value:(t.keepEscaping?v:"")+y()});continue}if(v===Sg){h({type:"text",value:"\\"+v});continue}if(v===Cg){c++;let x;for(;d<p&&(x=y());){if(v+=x,x===Cg){c++;continue}if(x===pc){v+=y();continue}if(x===Sg&&(c--,c===0))break}h({type:"text",value:v});continue}if(v===_6){o=h({type:"paren",nodes:[]}),s.push(o),h({type:"text",value:v});continue}if(v===w6){if(o.type!=="paren"){h({type:"text",value:v});continue}o=s.pop(),h({type:"text",value:v}),o=s[s.length-1];continue}if(v===S6||v===E6||v===y6){const x=v;let b;for(t.keepQuotes!==!0&&(v="");d<p&&(b=y());){if(b===pc){v+=b+y();continue}if(b===x){t.keepQuotes===!0&&(v+=b);break}v+=b}h({type:"text",value:v});continue}if(v===k6){m++;const b={type:"brace",open:!0,close:!1,dollar:u.value&&u.value.slice(-1)==="$"||o.dollar===!0,depth:m,commas:0,ranges:0,nodes:[]};o=h(b),s.push(o),h({type:"open",value:v});continue}if(v===C6){if(o.type!=="brace"){h({type:"text",value:v});continue}const x="close";o=s.pop(),o.close=!0,h({type:x,value:v}),m--,o=s[s.length-1];continue}if(v===b6&&m>0){if(o.ranges>0){o.ranges=0;const x=o.nodes.shift();o.nodes=[x,{type:"text",value:v6(o)}]}h({type:"comma",value:v}),o.commas++;continue}if(v===x6&&m>0&&o.commas===0){const x=o.nodes;if(m===0||x.length===0){h({type:"text",value:v});continue}if(u.type==="dot"){if(o.range=[],u.value+=v,u.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,u.type="text";continue}o.ranges++,o.args=[];continue}if(u.type==="range"){x.pop();const b=x[x.length-1];b.value+=u.value+v,u=b,o.ranges--;continue}h({type:"dot",value:v});continue}h({type:"text",value:v})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(k=>{k.nodes||(k.type==="open"&&(k.isOpen=!0),k.type==="close"&&(k.isClose=!0),k.nodes||(k.type="text"),k.invalid=!0)});const x=s[s.length-1],b=x.nodes.indexOf(o);x.nodes.splice(b,1,...o.nodes)}while(s.length>0);return h({type:"eos"}),i};var I6=j6;const Eg=qp,R6=d6,O6=m6,z6=I6,Hn=(e,t={})=>{let n=[];if(Array.isArray(e))for(const r of e){const i=Hn.create(r,t);Array.isArray(i)?n.push(...i):n.push(i)}else n=[].concat(Hn.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(n=[...new Set(n)]),n};Hn.parse=(e,t={})=>z6(e,t);Hn.stringify=(e,t={})=>Eg(typeof e=="string"?Hn.parse(e,t):e,t);Hn.compile=(e,t={})=>(typeof e=="string"&&(e=Hn.parse(e,t)),R6(e,t));Hn.expand=(e,t={})=>{typeof e=="string"&&(e=Hn.parse(e,t));let n=O6(e,t);return t.noempty===!0&&(n=n.filter(Boolean)),t.nodupes===!0&&(n=[...new Set(n)]),n};Hn.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Hn.compile(e,t):Hn.expand(e,t);var M6=Hn,Co={};const F6=vo,wr="\\\\/",Ag=`[^${wr}]`,Br="\\.",N6="\\+",$6="\\?",bl="\\/",P6="(?=.)",ax="[^/]",Vp=`(?:${bl}|$)`,ox=`(?:^|${bl})`,Gp=`${Br}{1,2}${Vp}`,D6=`(?!${Br})`,L6=`(?!${ox}${Gp})`,B6=`(?!${Br}{0,1}${Vp})`,U6=`(?!${Gp})`,Z6=`[^.${bl}]`,H6=`${ax}*?`,sx={DOT_LITERAL:Br,PLUS_LITERAL:N6,QMARK_LITERAL:$6,SLASH_LITERAL:bl,ONE_CHAR:P6,QMARK:ax,END_ANCHOR:Vp,DOTS_SLASH:Gp,NO_DOT:D6,NO_DOTS:L6,NO_DOT_SLASH:B6,NO_DOTS_SLASH:U6,QMARK_NO_DOT:Z6,STAR:H6,START_ANCHOR:ox},W6={...sx,SLASH_LITERAL:`[${wr}]`,QMARK:Ag,STAR:`${Ag}*?`,DOTS_SLASH:`${Br}{1,2}(?:[${wr}]|$)`,NO_DOT:`(?!${Br})`,NO_DOTS:`(?!(?:^|[${wr}])${Br}{1,2}(?:[${wr}]|$))`,NO_DOT_SLASH:`(?!${Br}{0,1}(?:[${wr}]|$))`,NO_DOTS_SLASH:`(?!${Br}{1,2}(?:[${wr}]|$))`,QMARK_NO_DOT:`[^.${wr}]`,START_ANCHOR:`(?:^|[${wr}])`,END_ANCHOR:`(?:[${wr}]|$)`},q6={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var xl={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:q6,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:F6.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?W6:sx}};(function(e){var t={};const n=vo,r=t.platform==="win32",{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:u}=xl;e.isObject=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),e.hasRegexChars=c=>o.test(c),e.isRegexChar=c=>c.length===1&&e.hasRegexChars(c),e.escapeRegex=c=>c.replace(u,"\\$1"),e.toPosixSlashes=c=>c.replace(i,"/"),e.removeBackslashes=c=>c.replace(s,p=>p==="\\"?"":p),e.supportsLookbehinds=()=>{const c=t.version.slice(1).split(".").map(Number);return c.length===3&&c[0]>=9||c[0]===8&&c[1]>=10},e.isWindows=c=>c&&typeof c.windows=="boolean"?c.windows:r===!0||n.sep==="\\",e.escapeLast=(c,p,d)=>{const m=c.lastIndexOf(p,d);return m===-1?c:c[m-1]==="\\"?e.escapeLast(c,p,m-1):`${c.slice(0,m)}\\${c.slice(m)}`},e.removePrefix=(c,p={})=>{let d=c;return d.startsWith("./")&&(d=d.slice(2),p.prefix="./"),d},e.wrapOutput=(c,p={},d={})=>{const m=d.contains?"":"^",v=d.contains?"":"$";let y=`${m}(?:${c})${v}`;return p.negated===!0&&(y=`(?:^(?!${y}).*$)`),y}})(Co);const Tg=Co,{CHAR_ASTERISK:dc,CHAR_AT:V6,CHAR_BACKWARD_SLASH:Qa,CHAR_COMMA:G6,CHAR_DOT:fc,CHAR_EXCLAMATION_MARK:hc,CHAR_FORWARD_SLASH:lx,CHAR_LEFT_CURLY_BRACE:mc,CHAR_LEFT_PARENTHESES:gc,CHAR_LEFT_SQUARE_BRACKET:K6,CHAR_PLUS:J6,CHAR_QUESTION_MARK:jg,CHAR_RIGHT_CURLY_BRACE:Y6,CHAR_RIGHT_PARENTHESES:Ig,CHAR_RIGHT_SQUARE_BRACKET:X6}=xl,Rg=e=>e===lx||e===Qa,Og=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},Q6=(e,t)=>{const n=t||{},r=e.length-1,i=n.parts===!0||n.scanToEnd===!0,s=[],o=[],u=[];let c=e,p=-1,d=0,m=0,v=!1,y=!1,h=!1,x=!1,b=!1,k=!1,S=!1,A=!1,I=!1,F=!1,O=0,D,B,K={value:"",depth:0,isGlob:!1};const V=()=>p>=r,L=()=>c.charCodeAt(p+1),Q=()=>(D=B,c.charCodeAt(++p));for(;p<r;){B=Q();let xe;if(B===Qa){S=K.backslashes=!0,B=Q(),B===mc&&(k=!0);continue}if(k===!0||B===mc){for(O++;V()!==!0&&(B=Q());){if(B===Qa){S=K.backslashes=!0,Q();continue}if(B===mc){O++;continue}if(k!==!0&&B===fc&&(B=Q())===fc){if(v=K.isBrace=!0,h=K.isGlob=!0,F=!0,i===!0)continue;break}if(k!==!0&&B===G6){if(v=K.isBrace=!0,h=K.isGlob=!0,F=!0,i===!0)continue;break}if(B===Y6&&(O--,O===0)){k=!1,v=K.isBrace=!0,F=!0;break}}if(i===!0)continue;break}if(B===lx){if(s.push(p),o.push(K),K={value:"",depth:0,isGlob:!1},F===!0)continue;if(D===fc&&p===d+1){d+=2;continue}m=p+1;continue}if(n.noext!==!0&&(B===J6||B===V6||B===dc||B===jg||B===hc)===!0&&L()===gc){if(h=K.isGlob=!0,x=K.isExtglob=!0,F=!0,B===hc&&p===d&&(I=!0),i===!0){for(;V()!==!0&&(B=Q());){if(B===Qa){S=K.backslashes=!0,B=Q();continue}if(B===Ig){h=K.isGlob=!0,F=!0;break}}continue}break}if(B===dc){if(D===dc&&(b=K.isGlobstar=!0),h=K.isGlob=!0,F=!0,i===!0)continue;break}if(B===jg){if(h=K.isGlob=!0,F=!0,i===!0)continue;break}if(B===K6){for(;V()!==!0&&(xe=Q());){if(xe===Qa){S=K.backslashes=!0,Q();continue}if(xe===X6){y=K.isBracket=!0,h=K.isGlob=!0,F=!0;break}}if(i===!0)continue;break}if(n.nonegate!==!0&&B===hc&&p===d){A=K.negated=!0,d++;continue}if(n.noparen!==!0&&B===gc){if(h=K.isGlob=!0,i===!0){for(;V()!==!0&&(B=Q());){if(B===gc){S=K.backslashes=!0,B=Q();continue}if(B===Ig){F=!0;break}}continue}break}if(h===!0){if(F=!0,i===!0)continue;break}}n.noext===!0&&(x=!1,h=!1);let M=c,Y="",w="";d>0&&(Y=c.slice(0,d),c=c.slice(d),m-=d),M&&h===!0&&m>0?(M=c.slice(0,m),w=c.slice(m)):h===!0?(M="",w=c):M=c,M&&M!==""&&M!=="/"&&M!==c&&Rg(M.charCodeAt(M.length-1))&&(M=M.slice(0,-1)),n.unescape===!0&&(w&&(w=Tg.removeBackslashes(w)),M&&S===!0&&(M=Tg.removeBackslashes(M)));const P={prefix:Y,input:e,start:d,base:M,glob:w,isBrace:v,isBracket:y,isGlob:h,isExtglob:x,isGlobstar:b,negated:A,negatedExtglob:I};if(n.tokens===!0&&(P.maxDepth=0,Rg(B)||o.push(K),P.tokens=o),n.parts===!0||n.tokens===!0){let xe;for(let oe=0;oe<s.length;oe++){const ue=xe?xe+1:d,z=s[oe],se=e.slice(ue,z);n.tokens&&(oe===0&&d!==0?(o[oe].isPrefix=!0,o[oe].value=Y):o[oe].value=se,Og(o[oe]),P.maxDepth+=o[oe].depth),(oe!==0||se!=="")&&u.push(se),xe=z}if(xe&&xe+1<e.length){const oe=e.slice(xe+1);u.push(oe),n.tokens&&(o[o.length-1].value=oe,Og(o[o.length-1]),P.maxDepth+=o[o.length-1].depth)}P.slashes=s,P.parts=u}return P};var eB=Q6;const Xs=xl,Ln=Co,{MAX_LENGTH:Qs,POSIX_REGEX_SOURCE:tB,REGEX_NON_SPECIAL_CHARS:nB,REGEX_SPECIAL_CHARS_BACKREF:rB,REPLACEMENTS:ux}=Xs,iB=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(i=>Ln.escapeRegex(i)).join("..")}return n},ra=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Kp=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=ux[e]||e;const n={...t},r=typeof n.maxLength=="number"?Math.min(Qs,n.maxLength):Qs;let i=e.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);const s={type:"bos",value:"",output:n.prepend||""},o=[s],u=n.capture?"":"?:",c=Ln.isWindows(t),p=Xs.globChars(c),d=Xs.extglobChars(p),{DOT_LITERAL:m,PLUS_LITERAL:v,SLASH_LITERAL:y,ONE_CHAR:h,DOTS_SLASH:x,NO_DOT:b,NO_DOT_SLASH:k,NO_DOTS_SLASH:S,QMARK:A,QMARK_NO_DOT:I,STAR:F,START_ANCHOR:O}=p,D=he=>`(${u}(?:(?!${O}${he.dot?x:m}).)*?)`,B=n.dot?"":b,K=n.dot?A:I;let V=n.bash===!0?D(n):F;n.capture&&(V=`(${V})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);const L={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Ln.removePrefix(e,L),i=e.length;const Q=[],M=[],Y=[];let w=s,P;const xe=()=>L.index===i-1,oe=L.peek=(he=1)=>e[L.index+he],ue=L.advance=()=>e[++L.index]||"",z=()=>e.slice(L.index+1),se=(he="",Oe=0)=>{L.consumed+=he,L.index+=Oe},X=he=>{L.output+=he.output!=null?he.output:he.value,se(he.value)},R=()=>{let he=1;for(;oe()==="!"&&(oe(2)!=="("||oe(3)==="?");)ue(),L.start++,he++;return he%2===0?!1:(L.negated=!0,L.start++,!0)},Te=he=>{L[he]++,Y.push(he)},ke=he=>{L[he]--,Y.pop()},ae=he=>{if(w.type==="globstar"){const Oe=L.braces>0&&(he.type==="comma"||he.type==="brace"),ge=he.extglob===!0||Q.length&&(he.type==="pipe"||he.type==="paren");he.type!=="slash"&&he.type!=="paren"&&!Oe&&!ge&&(L.output=L.output.slice(0,-w.output.length),w.type="star",w.value="*",w.output=V,L.output+=w.output)}if(Q.length&&he.type!=="paren"&&(Q[Q.length-1].inner+=he.value),(he.value||he.output)&&X(he),w&&w.type==="text"&&he.type==="text"){w.value+=he.value,w.output=(w.output||"")+he.value;return}he.prev=w,o.push(he),w=he},Ye=(he,Oe)=>{const ge={...d[Oe],conditions:1,inner:""};ge.prev=w,ge.parens=L.parens,ge.output=L.output;const je=(n.capture?"(":"")+ge.open;Te("parens"),ae({type:he,value:Oe,output:L.output?"":h}),ae({type:"paren",extglob:!0,value:ue(),output:je}),Q.push(ge)},Xe=he=>{let Oe=he.close+(n.capture?")":""),ge;if(he.type==="negate"){let je=V;if(he.inner&&he.inner.length>1&&he.inner.includes("/")&&(je=D(n)),(je!==V||xe()||/^\)+$/.test(z()))&&(Oe=he.close=`)$))${je}`),he.inner.includes("*")&&(ge=z())&&/^\.[^\\/.]+$/.test(ge)){const Ve=Kp(ge,{...t,fastpaths:!1}).output;Oe=he.close=`)${Ve})${je})`}he.prev.type==="bos"&&(L.negatedExtglob=!0)}ae({type:"paren",extglob:!0,value:P,output:Oe}),ke("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let he=!1,Oe=e.replace(rB,(ge,je,Ve,We,E,le)=>We==="\\"?(he=!0,ge):We==="?"?je?je+We+(E?A.repeat(E.length):""):le===0?K+(E?A.repeat(E.length):""):A.repeat(Ve.length):We==="."?m.repeat(Ve.length):We==="*"?je?je+We+(E?V:""):V:je?ge:`\\${ge}`);return he===!0&&(n.unescape===!0?Oe=Oe.replace(/\\/g,""):Oe=Oe.replace(/\\+/g,ge=>ge.length%2===0?"\\\\":ge?"\\":"")),Oe===e&&n.contains===!0?(L.output=e,L):(L.output=Ln.wrapOutput(Oe,L,t),L)}for(;!xe();){if(P=ue(),P==="\0")continue;if(P==="\\"){const ge=oe();if(ge==="/"&&n.bash!==!0||ge==="."||ge===";")continue;if(!ge){P+="\\",ae({type:"text",value:P});continue}const je=/^\\+/.exec(z());let Ve=0;if(je&&je[0].length>2&&(Ve=je[0].length,L.index+=Ve,Ve%2!==0&&(P+="\\")),n.unescape===!0?P=ue():P+=ue(),L.brackets===0){ae({type:"text",value:P});continue}}if(L.brackets>0&&(P!=="]"||w.value==="["||w.value==="[^")){if(n.posix!==!1&&P===":"){const ge=w.value.slice(1);if(ge.includes("[")&&(w.posix=!0,ge.includes(":"))){const je=w.value.lastIndexOf("["),Ve=w.value.slice(0,je),We=w.value.slice(je+2),E=tB[We];if(E){w.value=Ve+E,L.backtrack=!0,ue(),!s.output&&o.indexOf(w)===1&&(s.output=h);continue}}}(P==="["&&oe()!==":"||P==="-"&&oe()==="]")&&(P=`\\${P}`),P==="]"&&(w.value==="["||w.value==="[^")&&(P=`\\${P}`),n.posix===!0&&P==="!"&&w.value==="["&&(P="^"),w.value+=P,X({value:P});continue}if(L.quotes===1&&P!=='"'){P=Ln.escapeRegex(P),w.value+=P,X({value:P});continue}if(P==='"'){L.quotes=L.quotes===1?0:1,n.keepQuotes===!0&&ae({type:"text",value:P});continue}if(P==="("){Te("parens"),ae({type:"paren",value:P});continue}if(P===")"){if(L.parens===0&&n.strictBrackets===!0)throw new SyntaxError(ra("opening","("));const ge=Q[Q.length-1];if(ge&&L.parens===ge.parens+1){Xe(Q.pop());continue}ae({type:"paren",value:P,output:L.parens?")":"\\)"}),ke("parens");continue}if(P==="["){if(n.nobracket===!0||!z().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(ra("closing","]"));P=`\\${P}`}else Te("brackets");ae({type:"bracket",value:P});continue}if(P==="]"){if(n.nobracket===!0||w&&w.type==="bracket"&&w.value.length===1){ae({type:"text",value:P,output:`\\${P}`});continue}if(L.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(ra("opening","["));ae({type:"text",value:P,output:`\\${P}`});continue}ke("brackets");const ge=w.value.slice(1);if(w.posix!==!0&&ge[0]==="^"&&!ge.includes("/")&&(P=`/${P}`),w.value+=P,X({value:P}),n.literalBrackets===!1||Ln.hasRegexChars(ge))continue;const je=Ln.escapeRegex(w.value);if(L.output=L.output.slice(0,-w.value.length),n.literalBrackets===!0){L.output+=je,w.value=je;continue}w.value=`(${u}${je}|${w.value})`,L.output+=w.value;continue}if(P==="{"&&n.nobrace!==!0){Te("braces");const ge={type:"brace",value:P,output:"(",outputIndex:L.output.length,tokensIndex:L.tokens.length};M.push(ge),ae(ge);continue}if(P==="}"){const ge=M[M.length-1];if(n.nobrace===!0||!ge){ae({type:"text",value:P,output:P});continue}let je=")";if(ge.dots===!0){const Ve=o.slice(),We=[];for(let E=Ve.length-1;E>=0&&(o.pop(),Ve[E].type!=="brace");E--)Ve[E].type!=="dots"&&We.unshift(Ve[E].value);je=iB(We,n),L.backtrack=!0}if(ge.comma!==!0&&ge.dots!==!0){const Ve=L.output.slice(0,ge.outputIndex),We=L.tokens.slice(ge.tokensIndex);ge.value=ge.output="\\{",P=je="\\}",L.output=Ve;for(const E of We)L.output+=E.output||E.value}ae({type:"brace",value:P,output:je}),ke("braces"),M.pop();continue}if(P==="|"){Q.length>0&&Q[Q.length-1].conditions++,ae({type:"text",value:P});continue}if(P===","){let ge=P;const je=M[M.length-1];je&&Y[Y.length-1]==="braces"&&(je.comma=!0,ge="|"),ae({type:"comma",value:P,output:ge});continue}if(P==="/"){if(w.type==="dot"&&L.index===L.start+1){L.start=L.index+1,L.consumed="",L.output="",o.pop(),w=s;continue}ae({type:"slash",value:P,output:y});continue}if(P==="."){if(L.braces>0&&w.type==="dot"){w.value==="."&&(w.output=m);const ge=M[M.length-1];w.type="dots",w.output+=P,w.value+=P,ge.dots=!0;continue}if(L.braces+L.parens===0&&w.type!=="bos"&&w.type!=="slash"){ae({type:"text",value:P,output:m});continue}ae({type:"dot",value:P,output:m});continue}if(P==="?"){if(!(w&&w.value==="(")&&n.noextglob!==!0&&oe()==="("&&oe(2)!=="?"){Ye("qmark",P);continue}if(w&&w.type==="paren"){const je=oe();let Ve=P;if(je==="<"&&!Ln.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(w.value==="("&&!/[!=<:]/.test(je)||je==="<"&&!/<([!=]|\w+>)/.test(z()))&&(Ve=`\\${P}`),ae({type:"text",value:P,output:Ve});continue}if(n.dot!==!0&&(w.type==="slash"||w.type==="bos")){ae({type:"qmark",value:P,output:I});continue}ae({type:"qmark",value:P,output:A});continue}if(P==="!"){if(n.noextglob!==!0&&oe()==="("&&(oe(2)!=="?"||!/[!=<:]/.test(oe(3)))){Ye("negate",P);continue}if(n.nonegate!==!0&&L.index===0){R();continue}}if(P==="+"){if(n.noextglob!==!0&&oe()==="("&&oe(2)!=="?"){Ye("plus",P);continue}if(w&&w.value==="("||n.regex===!1){ae({type:"plus",value:P,output:v});continue}if(w&&(w.type==="bracket"||w.type==="paren"||w.type==="brace")||L.parens>0){ae({type:"plus",value:P});continue}ae({type:"plus",value:v});continue}if(P==="@"){if(n.noextglob!==!0&&oe()==="("&&oe(2)!=="?"){ae({type:"at",extglob:!0,value:P,output:""});continue}ae({type:"text",value:P});continue}if(P!=="*"){(P==="$"||P==="^")&&(P=`\\${P}`);const ge=nB.exec(z());ge&&(P+=ge[0],L.index+=ge[0].length),ae({type:"text",value:P});continue}if(w&&(w.type==="globstar"||w.star===!0)){w.type="star",w.star=!0,w.value+=P,w.output=V,L.backtrack=!0,L.globstar=!0,se(P);continue}let he=z();if(n.noextglob!==!0&&/^\([^?]/.test(he)){Ye("star",P);continue}if(w.type==="star"){if(n.noglobstar===!0){se(P);continue}const ge=w.prev,je=ge.prev,Ve=ge.type==="slash"||ge.type==="bos",We=je&&(je.type==="star"||je.type==="globstar");if(n.bash===!0&&(!Ve||he[0]&&he[0]!=="/")){ae({type:"star",value:P,output:""});continue}const E=L.braces>0&&(ge.type==="comma"||ge.type==="brace"),le=Q.length&&(ge.type==="pipe"||ge.type==="paren");if(!Ve&&ge.type!=="paren"&&!E&&!le){ae({type:"star",value:P,output:""});continue}for(;he.slice(0,3)==="/**";){const H=e[L.index+4];if(H&&H!=="/")break;he=he.slice(3),se("/**",3)}if(ge.type==="bos"&&xe()){w.type="globstar",w.value+=P,w.output=D(n),L.output=w.output,L.globstar=!0,se(P);continue}if(ge.type==="slash"&&ge.prev.type!=="bos"&&!We&&xe()){L.output=L.output.slice(0,-(ge.output+w.output).length),ge.output=`(?:${ge.output}`,w.type="globstar",w.output=D(n)+(n.strictSlashes?")":"|$)"),w.value+=P,L.globstar=!0,L.output+=ge.output+w.output,se(P);continue}if(ge.type==="slash"&&ge.prev.type!=="bos"&&he[0]==="/"){const H=he[1]!==void 0?"|$":"";L.output=L.output.slice(0,-(ge.output+w.output).length),ge.output=`(?:${ge.output}`,w.type="globstar",w.output=`${D(n)}${y}|${y}${H})`,w.value+=P,L.output+=ge.output+w.output,L.globstar=!0,se(P+ue()),ae({type:"slash",value:"/",output:""});continue}if(ge.type==="bos"&&he[0]==="/"){w.type="globstar",w.value+=P,w.output=`(?:^|${y}|${D(n)}${y})`,L.output=w.output,L.globstar=!0,se(P+ue()),ae({type:"slash",value:"/",output:""});continue}L.output=L.output.slice(0,-w.output.length),w.type="globstar",w.output=D(n),w.value+=P,L.output+=w.output,L.globstar=!0,se(P);continue}const Oe={type:"star",value:P,output:V};if(n.bash===!0){Oe.output=".*?",(w.type==="bos"||w.type==="slash")&&(Oe.output=B+Oe.output),ae(Oe);continue}if(w&&(w.type==="bracket"||w.type==="paren")&&n.regex===!0){Oe.output=P,ae(Oe);continue}(L.index===L.start||w.type==="slash"||w.type==="dot")&&(w.type==="dot"?(L.output+=k,w.output+=k):n.dot===!0?(L.output+=S,w.output+=S):(L.output+=B,w.output+=B),oe()!=="*"&&(L.output+=h,w.output+=h)),ae(Oe)}for(;L.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(ra("closing","]"));L.output=Ln.escapeLast(L.output,"["),ke("brackets")}for(;L.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(ra("closing",")"));L.output=Ln.escapeLast(L.output,"("),ke("parens")}for(;L.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(ra("closing","}"));L.output=Ln.escapeLast(L.output,"{"),ke("braces")}if(n.strictSlashes!==!0&&(w.type==="star"||w.type==="bracket")&&ae({type:"maybe_slash",value:"",output:`${y}?`}),L.backtrack===!0){L.output="";for(const he of L.tokens)L.output+=he.output!=null?he.output:he.value,he.suffix&&(L.output+=he.suffix)}return L};Kp.fastpaths=(e,t)=>{const n={...t},r=typeof n.maxLength=="number"?Math.min(Qs,n.maxLength):Qs,i=e.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);e=ux[e]||e;const s=Ln.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:u,ONE_CHAR:c,DOTS_SLASH:p,NO_DOT:d,NO_DOTS:m,NO_DOTS_SLASH:v,STAR:y,START_ANCHOR:h}=Xs.globChars(s),x=n.dot?m:d,b=n.dot?v:d,k=n.capture?"":"?:",S={negated:!1,prefix:""};let A=n.bash===!0?".*?":y;n.capture&&(A=`(${A})`);const I=B=>B.noglobstar===!0?A:`(${k}(?:(?!${h}${B.dot?p:o}).)*?)`,F=B=>{switch(B){case"*":return`${x}${c}${A}`;case".*":return`${o}${c}${A}`;case"*.*":return`${x}${A}${o}${c}${A}`;case"*/*":return`${x}${A}${u}${c}${b}${A}`;case"**":return x+I(n);case"**/*":return`(?:${x}${I(n)}${u})?${b}${c}${A}`;case"**/*.*":return`(?:${x}${I(n)}${u})?${b}${A}${o}${c}${A}`;case"**/.*":return`(?:${x}${I(n)}${u})?${o}${c}${A}`;default:{const K=/^(.*?)\.(\w+)$/.exec(B);if(!K)return;const V=F(K[1]);return V?V+o+K[2]:void 0}}},O=Ln.removePrefix(e,S);let D=F(O);return D&&n.strictSlashes!==!0&&(D+=`${u}?`),D};var aB=Kp;const oB=vo,sB=eB,Jc=aB,Jp=Co,lB=xl,uB=e=>e&&typeof e=="object"&&!Array.isArray(e),tn=(e,t,n=!1)=>{if(Array.isArray(e)){const d=e.map(v=>tn(v,t,n));return v=>{for(const y of d){const h=y(v);if(h)return h}return!1}}const r=uB(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const i=t||{},s=Jp.isWindows(t),o=r?tn.compileRe(e,t):tn.makeRe(e,t,!1,!0),u=o.state;delete o.state;let c=()=>!1;if(i.ignore){const d={...t,ignore:null,onMatch:null,onResult:null};c=tn(i.ignore,d,n)}const p=(d,m=!1)=>{const{isMatch:v,match:y,output:h}=tn.test(d,o,t,{glob:e,posix:s}),x={glob:e,state:u,regex:o,posix:s,input:d,output:h,match:y,isMatch:v};return typeof i.onResult=="function"&&i.onResult(x),v===!1?(x.isMatch=!1,m?x:!1):c(d)?(typeof i.onIgnore=="function"&&i.onIgnore(x),x.isMatch=!1,m?x:!1):(typeof i.onMatch=="function"&&i.onMatch(x),m?x:!0)};return n&&(p.state=u),p};tn.test=(e,t,n,{glob:r,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const s=n||{},o=s.format||(i?Jp.toPosixSlashes:null);let u=e===r,c=u&&o?o(e):e;return u===!1&&(c=o?o(e):e,u=c===r),(u===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?u=tn.matchBase(e,t,n,i):u=t.exec(c)),{isMatch:!!u,match:u,output:c}};tn.matchBase=(e,t,n,r=Jp.isWindows(n))=>(t instanceof RegExp?t:tn.makeRe(t,n)).test(oB.basename(e));tn.isMatch=(e,t,n)=>tn(t,n)(e);tn.parse=(e,t)=>Array.isArray(e)?e.map(n=>tn.parse(n,t)):Jc(e,{...t,fastpaths:!1});tn.scan=(e,t)=>sB(e,t);tn.compileRe=(e,t,n=!1,r=!1)=>{if(n===!0)return e.output;const i=t||{},s=i.contains?"":"^",o=i.contains?"":"$";let u=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(u=`^(?!${u}).*$`);const c=tn.toRegex(u,t);return r===!0&&(c.state=e),c};tn.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Jc.fastpaths(e,t)),i.output||(i=Jc(e,t)),tn.compileRe(i,t,n,r)};tn.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}};tn.constants=lB;var cB=tn,pB=cB;const cx=vo,px=M6,Ar=pB,Yc=Co,zg=e=>e===""||e==="./",dx=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},Nt=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,i=new Set,s=new Set,o=0,u=d=>{s.add(d.output),n&&n.onResult&&n.onResult(d)};for(let d=0;d<t.length;d++){let m=Ar(String(t[d]),{...n,onResult:u},!0),v=m.state.negated||m.state.negatedExtglob;v&&o++;for(let y of e){let h=m(y,!0);(v?!h.isMatch:h.isMatch)&&(v?r.add(h.output):(r.delete(h.output),i.add(h.output)))}}let p=(o===t.length?[...s]:[...i]).filter(d=>!r.has(d));if(n&&p.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?t.map(d=>d.replace(/\\/g,"")):t}return p};Nt.match=Nt;Nt.matcher=(e,t)=>Ar(e,t);Nt.isMatch=(e,t,n)=>Ar(t,n)(e);Nt.any=Nt.isMatch;Nt.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,i=[],s=u=>{n.onResult&&n.onResult(u),i.push(u.output)},o=new Set(Nt(e,t,{...n,onResult:s}));for(let u of i)o.has(u)||r.add(u);return[...r]};Nt.contains=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${cx.inspect(e)}"`);if(Array.isArray(t))return t.some(r=>Nt.contains(e,r,n));if(typeof t=="string"){if(zg(e)||zg(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Nt.isMatch(e,t,{...n,contains:!0})};Nt.matchKeys=(e,t,n)=>{if(!Yc.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=Nt(Object.keys(e),t,n),i={};for(let s of r)i[s]=e[s];return i};Nt.some=(e,t,n)=>{let r=[].concat(e);for(let i of[].concat(t)){let s=Ar(String(i),n);if(r.some(o=>s(o)))return!0}return!1};Nt.every=(e,t,n)=>{let r=[].concat(e);for(let i of[].concat(t)){let s=Ar(String(i),n);if(!r.every(o=>s(o)))return!1}return!0};Nt.all=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${cx.inspect(e)}"`);return[].concat(t).every(r=>Ar(r,n)(e))};Nt.capture=(e,t,n)=>{let r=Yc.isWindows(n),s=Ar.makeRe(String(e),{...n,capture:!0}).exec(r?Yc.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};Nt.makeRe=(...e)=>Ar.makeRe(...e);Nt.scan=(...e)=>Ar.scan(...e);Nt.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let i of px(String(r),t))n.push(Ar.parse(i,t));return n};Nt.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!dx(e)?[e]:px(e,t)};Nt.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Nt.braces(e,{...t,expand:!0})};Nt.hasBraces=dx;var dB=Nt;const fB=Mi(dB),hB=[".ts",".tsx",".js",".jsx",".md",".json"],vc=5e3,mB=["**/node_modules/**","**/.git/**","**/.next/**","**/dist/**","**/build/**","**/.cache/**","**/coverage/**","**/test/**","**/__tests__/**","**/*.test.*","**/*.spec.*"],fx=(e,t=[])=>fB.isMatch(e,[...mB,...t])?!1:hB.some(n=>e.toLowerCase().endsWith(n)),hx=e=>{const t=e.split(`
`);return t.length<=vc?e:`${t.slice(0,vc).join(`
`)}

// ... [${t.length-vc} lines truncated, file too long] ...

`};async function gB(e,t={}){const r=await new q5().loadAsync(e),i=[];return await Promise.all(Object.keys(r.files).map(async s=>{const o=r.files[s];if(!(o.dir||!fx(s,t.ignorePatterns)))try{const u=await o.async("string");i.push({path:s,content:hx(u)})}catch(u){console.warn(`Failed to read file ${s}:`,u)}})),i.sort((s,o)=>s.path.localeCompare(o.path))}async function vB(e,t={}){const n=[];let r="Project";if(e.length>0){const o=(e[0].webkitRelativePath||"").split("/");o.length>0&&o[0]&&(r=o[0])}return await Promise.all(Array.from(e).map(async i=>{const s=i.webkitRelativePath||i.name;if(fx(s,t.ignorePatterns))try{const o=await i.text();n.push({path:s.includes("/")?s.substring(s.indexOf("/")+1):s,content:hx(o)})}catch(o){console.warn(`Failed to read file ${s}:`,o)}})),{files:n.sort((i,s)=>i.path.localeCompare(s.path)),projectName:r}}async function yB(e,t={}){const n=e.name.replace(".zip","");return{files:await gB(e,t),projectName:n}}function bB({onSuccess:e,onError:t}={}){const[n,r]=W.useState(null),[i,s]=W.useState(!1),{fetch:o,isPending:u,error:c}=N5(),{id:p}=ur(),d=async(y,h)=>{const x=await o({body:{chatId:p,name:y,type:"code",files:h}});if(!x?.data)throw new Error("Failed to upload project");return x.data};return{processZipFile:async y=>{try{r(null),s(!0);const{files:h,projectName:x}=await yB(y,{ignorePatterns:["**/node_modules/**"]}),b=await d(x,h);return e?.({...b,id:Js(),status:"ready"},x),b}catch(h){throw r("Failed to process zip file"),t?.("Failed to process zip file"),console.error("Error processing zip:",h),h}finally{s(!1)}},processFolder:async y=>{try{r(null),s(!0);const{files:h,projectName:x}=await vB(y,{ignorePatterns:["**/node_modules/**"]}),b=await d(x,h);return e?.({...b,id:Js(),status:"ready"},x),b}catch(h){throw r("Failed to process folder"),t?.("Failed to process folder"),console.error("Error processing folder:",h),h}finally{s(!1)}},isLoading:i||u,error:c||n}}const Nn=()=>{const{formatMessage:e}=ct();return{t:(n,r)=>e({id:n,defaultMessage:r})}},mx=W.createContext({isCodeUploadOpen:!1,submitOnFinish:!1,openCodeUpload:()=>{},closeCodeUpload:()=>{}}),Yp=()=>W.useContext(mx),xB=({children:e})=>{const[t,n]=W.useState(!1),[r,i]=W.useState(!1),s=u=>{n(!0),i(u??!1)},o=()=>n(!1);return g.jsxs(mx.Provider,{value:{isCodeUploadOpen:t,submitOnFinish:r,openCodeUpload:s,closeCodeUpload:o},children:[t&&g.jsx(kB,{}),e]})},Mg=({importType:e,onAddFiles:t,error:n})=>{const[r,i]=W.useState(!1),s=W.useRef(null),{t:o}=Nn(),u=h=>{h.preventDefault()},c=h=>{h.preventDefault(),i(!0)},p=()=>i(!1),d=h=>{h.preventDefault(),s.current?.click()},m=()=>{const h=s.current?.files;h&&t(Array.from(h))},v=async h=>{const x=h.createReader(),b=()=>new Promise((A,I)=>{x.readEntries(A,I)}),k=[];let S=[];do{S=await b();for(const A of S)if(A.isFile){const I=A,F=await new Promise((O,D)=>{I.file(O,D)});Object.defineProperty(F,"webkitRelativePath",{writable:!0,value:A.fullPath.substring(1)}),k.push(F)}else if(A.isDirectory){const F=await v(A);k.push(...F)}}while(S.length>0);return k},y=async h=>{if(h.preventDefault(),i(!1),!!h.dataTransfer?.items)if(e==="folder"){const x=h.dataTransfer.items,b=[];for(let k=0;k<x.length;k++){const A=x[k].webkitGetAsEntry?.();if(A){if(A.isDirectory){const I=await v(A);b.push(...I)}else if(A.isFile){const I=await new Promise((F,O)=>{A.file(F,O)});b.push(I)}}}b.length>0&&t(b)}else h.dataTransfer.files&&t(Array.from(h.dataTransfer.files))};return g.jsxs(Ce,{position:"relative",cursor:"pointer",width:"100%",height:"100%",minHeight:"140px",borderStyle:"dashed",borderColor:r?"primary500":n?"danger600":"neutral200",background:r?"primary100":n?"danger100":"neutral100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,onDragEnter:c,onDragLeave:p,onDragOver:u,onDrop:y,children:[e==="zip"?g.jsx(lv,{width:"24px",height:"24px"}):g.jsx(lp,{width:"24px",height:"24px"}),g.jsxs(Ce,{direction:"column",alignItems:"center",gap:2,children:[g.jsxs(Ie,{variant:"omega",textColor:"neutral600",textAlign:"center",children:[e==="zip"?o("chat.code-upload.drop-zone","Drop here a .zip file here or"):o("chat.code-upload.drop-zone-folder","Drop here a folder here or")," ",g.jsx(Ie,{variant:"omega",textColor:"primary600",onClick:d,children:o("chat.code-upload.drop-zone-browse","browse files")})]}),n&&g.jsx(Ie,{variant:"pi",textColor:"danger600",children:n})]}),g.jsx(Re,{tag:"input",position:"absolute",left:0,right:0,bottom:0,top:0,width:"100%",name:"code","aria-label":"Upload project",tabIndex:-1,zIndex:1,ref:s,onChange:m,style:{opacity:0,cursor:"pointer"},type:"file",...e==="zip"?{accept:".zip",multiple:!1}:{multiple:!0,webkitdirectory:"",directory:""}})]})},_B=({setFileName:e,error:t,processZipFile:n,processFolder:r})=>{const{t:i}=Nn(),{nextStep:s}=Yb();return g.jsxs(Ce,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[g.jsxs(Ce,{direction:"column",gap:2,alignItems:"start",children:[g.jsx(Ie,{variant:"beta",children:i("chat.code-upload.title","Import code")}),g.jsx(Ie,{variant:"omega",textColor:"neutral600",children:i("chat.code-upload.description","Your app will be analyzed by AI. Make sure to remove all sensitive data before importation.")})]}),g.jsxs(Ce,{gap:3,width:"100%",wrap:"wrap",children:[g.jsx(Re,{flex:1,minWidth:"200px",children:g.jsx(Mg,{importType:"zip",onAddFiles:o=>{if(o.length>0){const u=o[0];e(u.name.replace(".zip","")),s(),n(u)}},error:t})}),g.jsx(Re,{flex:1,minWidth:"200px",children:g.jsx(Mg,{importType:"folder",onAddFiles:async o=>{if(o.length>0)try{const p=(o[0].webkitRelativePath||"").split("/")[0]||"Project";e(p),s(),await r(o)}catch(u){console.error("Error processing folder:",u)}},error:t})})]})]})},wB=({projectName:e,isLoading:t,error:n})=>{const{t:r}=Nn();return g.jsxs(Ce,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[g.jsxs(Ce,{direction:"column",gap:2,alignItems:"start",children:[g.jsx(Ie,{variant:"beta",children:r("chat.code-upload.confirmation-title","Confirm Code Import")}),g.jsx(Ie,{variant:"omega",textColor:"neutral600",children:r("chat.code-upload.confirmation-description","Your code is ready to be imported. Click finish to add it to your chat.")})]}),g.jsx(Re,{width:"100%",children:g.jsx(vp,{attachment:{id:Js(),status:t?"loading":"ready",filename:e||"",url:"",type:"file",mediaType:Dv},error:n,minWidth:"256px"})})]})},kB=()=>{const[e,t]=W.useState(null),[n,r]=W.useState(null),{t:i}=Nn(),{addAttachments:s}=ko(),{processZipFile:o,processFolder:u,isLoading:c,error:p}=bB({onSuccess:I=>r(I)}),{isCodeUploadOpen:d,closeCodeUpload:m,submitOnFinish:v}=Yp(),{sendMessage:y,openChat:h,input:x,setInput:b}=ur(),k=()=>{t(null),r(null),m()},S=async()=>{h(),n&&v?y({role:"user",parts:[{type:"text",text:"Create schemas from my uploaded project"},n]}):n&&(x||b("Create schemas from my uploaded project"),s([n])),m()},A=()=>!!n;return g.jsxs(ji,{open:d,onOpenChange:I=>{I||k()},title:i("chat.code-upload.header","Import code"),onCancel:k,onComplete:S,children:[g.jsx(ji.Step,{title:i("chat.code-upload.step1-title","Import code"),nextLabel:i("chat.code-upload.continue-button","Continue"),cancelLabel:i("common.cancel","Cancel"),disableNext:!n||c,onNext:A,children:g.jsx(_B,{setFileName:t,error:p,processZipFile:o,processFolder:u})}),g.jsx(ji.Step,{title:i("chat.code-upload.step2-title","Confirm"),nextLabel:i("common.finish","Finish"),backLabel:i("form.button.back","Back"),disableNext:!n||c,children:g.jsx(wB,{projectName:e,isLoading:c,error:p})})]})},CB=gt(Re)`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 160px;
  width: 100%;
  border-radius: 4px 4px 0 0;
  overflow: hidden;
  cursor: pointer;
`,SB=gt(gp)`
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  // make it appear gracefully when first rendering
  animation: ${oa.fadeIn} 0.3s ease;
`,EB=gt(fE)`
  height: 100%;
  width: 100%;
  ${({$selected:e,theme:t})=>e?`
      border: 2px solid ${t.colors.primary600};
      outline: 0px solid transparent;
    `:`
      border: 2px solid transparent;
      outline: 1px solid ${t.colors.neutral200};
    `}
  transition: all 0.2s ease-in-out;
`,AB=({imageUrl:e,imageName:t,selected:n=!1,onSelect:r})=>g.jsx(Ns.Root,{src:e,alt:t,children:g.jsxs(EB,{role:"button",$selected:n,children:[g.jsxs(sE,{children:[g.jsx(lE,{checked:n,onCheckedChange:r}),g.jsx(uE,{position:"end",children:g.jsx(Ns.Trigger,{children:g.jsx(sr,{label:"Preview",type:"button",children:g.jsx(uv,{})})})}),g.jsx(CB,{onClick:r,children:g.jsx(SB,{src:e,alt:t})})]}),g.jsx(cE,{children:g.jsx(pE,{children:g.jsx(dE,{children:t})})})]})}),gx="strapi-ai-figma-token",Xp=()=>{try{return localStorage.getItem(gx)||""}catch(e){return console.error("Error accessing localStorage:",e),""}},TB=e=>{try{localStorage.setItem(gx,e)}catch(t){console.error("Error saving to localStorage:",t)}},Xc=()=>!!Xp(),jB=e=>{const t=/figma\.com\/(?:file|design)\/([a-zA-Z0-9]+)\/.*[?&]node-id=([^&]+)/,n=e.match(t);if(!n)throw new Error("Invalid Figma URL");const r=n[1],i=decodeURIComponent(n[2]).replace(/-/g,":");return{fileKey:r,nodeId:i}},vx=()=>{const e=Xp();if(!e)throw new Error("Figma API token is required");return e},IB=async(e,t)=>{const n=vx();try{const r=`https://api.figma.com/v1/files/${e}/nodes?ids=${t}`,i=await fetch(r,{headers:{"X-Figma-Token":n}});if(!i.ok)throw new Error(`Figma API error: ${i.status} ${i.statusText}`);return(await i.json()).nodes[t]}catch(r){const i=r instanceof Error?r.message:"Failed to fetch Figma data";throw new Error(i)}},yx=e=>{const t=[];if(e.type==="FRAME")return t.push({id:e.id,name:e.name}),t;if(e.children&&e.children.length>0)for(const n of e.children)t.push(...yx(n));return t},RB=async(e,t)=>{const n=vx();if(t.length===0)return{images:{}};try{const r=t.slice(0,50).join(","),i=`https://api.figma.com/v1/images/${e}?ids=${r}&format=png&scale=0.4`,s=await fetch(i,{headers:{"X-Figma-Token":n}});if(!s.ok){const u=await s.text();throw new Error(`Figma API image error: ${s.status} ${s.statusText} - ${u}`)}const o=await s.json();if(o.err)throw new Error(`Figma API image error: ${o.err}`);return o}catch(r){const i=r instanceof Error?r.message:"Failed to fetch Figma node images";throw new Error(i)}};function OB({onSuccess:e,onError:t}={}){const[n,r]=W.useState(!1),[i,s]=W.useState(null);return{processFigmaUrl:async u=>{try{if(!Xc()){const k="Figma API token is required";throw s(k),t?.(k),new Error(k)}r(!0),s(null);const{fileKey:c,nodeId:p}=jB(u),d=await IB(c,p);if(!d.document)return;const m=yx(d.document),v=new Map(m.map(k=>[k.id,k.name])),y=m.map(k=>k.id),x=(await RB(c,y)).images,b=Object.entries(x).map(([k,S])=>({id:k,type:"file",filename:v.get(k),mediaType:"image/png",url:S,status:"ready"}));return e?.(b),b}catch(c){const p=c instanceof Error?c.message:"Unknown error processing Figma URL";throw s(p),t?.(p),console.error("Error processing Figma URL:",c),c}finally{r(!1)}},isLoading:n,error:i}}const bx=W.createContext({isFigmaUploadOpen:!1,submitOnFinish:!1,openFigmaUpload:()=>{},closeFigmaUpload:()=>{}}),Qp=()=>{const e=W.useContext(bx);if(!e)throw new Error("useUploadFigmaToChat must be used within an UploadFigmaToChatProvider");return e},zB=({children:e})=>{const[t,n]=W.useState(!1),[r,i]=W.useState(!1),s=u=>{n(!0),i(u??!1)},o=()=>n(!1);return g.jsxs(bx.Provider,{value:{isFigmaUploadOpen:t,submitOnFinish:r,openFigmaUpload:s,closeFigmaUpload:o},children:[t&&g.jsx(NB,{}),e]})},MB=({figmaUrl:e,setFigmaUrl:t})=>{const{t:n}=Nn(),{isLoading:r}=Yb(),[i,s]=W.useState(!Xc()),[o,u]=W.useState(Xp),c=()=>{o.trim()&&(TB(o),s(!1))};return i?g.jsxs(Ce,{direction:"column",gap:6,alignItems:"start",children:[g.jsxs(Ce,{direction:"column",gap:2,alignItems:"start",children:[g.jsx(Ie,{variant:"beta",children:n("chat.figma-upload.token-title","Enter Figma API Token")}),g.jsx(Ie,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.token-description","To access your Figma designs, you need to provide a personal access token. This will be stored securely in your browser.")}),g.jsx(tl,{href:"https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens",isExternal:!0,children:n("chat.figma-upload.token-help","How to get a Figma API token")})]}),g.jsx(Re,{width:"100%",children:g.jsx(Ur,{name:"figma-token",placeholder:n("chat.figma-upload.token-placeholder","Enter Figma API token"),"aria-label":n("chat.figma-upload.token-placeholder","Enter Figma API token"),value:o,onChange:p=>u(p.target.value),width:"100%",disabled:r,type:"password"})}),g.jsxs(Ce,{gap:2,children:[g.jsx(dt,{onClick:c,disabled:!o.trim(),variant:"secondary",children:n("chat.figma-upload.save-token","Save token")}),g.jsx(dt,{onClick:()=>s(!1),variant:"tertiary",disabled:!Xc(),children:n("chat.figma-upload.cancel","Cancel")})]})]}):g.jsxs(Ce,{direction:"column",gap:6,alignItems:"start",children:[g.jsxs(Ce,{direction:"column",gap:2,alignItems:"start",width:"100%",children:[g.jsxs(Ce,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[g.jsx(Ie,{variant:"beta",children:n("chat.figma-upload.title","Import Figma Design")}),g.jsx(dt,{onClick:()=>s(!0),variant:"tertiary",size:"S",children:n("chat.figma-upload.edit-token","Edit API token")})]}),g.jsx(Ie,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.description","Ask to turn your designs into schemas by attaching a link to one or multiple frames in your Figma files. (Max 15 frames)")})]}),g.jsx(Re,{width:"100%",children:g.jsx(Ur,{name:"figma-url",placeholder:n("chat.figma-upload.url-placeholder","Enter Figma URL"),"aria-label":n("chat.figma-upload.url-placeholder","Enter Figma URL"),value:e,onChange:p=>t(p.target.value),width:"100%",disabled:r,type:"url"})})]})},FB=({images:e,selectedImages:t,setSelectedImages:n})=>{const{t:r}=Nn(),i=()=>{if(t.length===e.length)n([]);else{const o=e.map(u=>u.id);n(o)}};if(e.length===0)return g.jsx(Ce,{direction:"column",gap:4,alignItems:"center",padding:4,children:g.jsx(Ie,{variant:"omega",children:r("chat.figma-upload.no-images","No frames found in the Figma file.")})});const s=o=>{const u=t.includes(o)?t.filter(c=>c!==o):[...t,o];n(u)};return g.jsxs(Ce,{direction:"column",gap:4,alignItems:"start",width:"100%",height:"min(45vh, 400px)",children:[g.jsxs(Ce,{justifyContent:"space-between",width:"100%",alignItems:"center",children:[g.jsx(Ie,{variant:"beta",children:r("chat.figma-upload.select-images","Select Frames to Import")}),g.jsxs(Ce,{gap:3,alignItems:"center",children:[g.jsxs(Ie,{children:[t.length," of ",e.length," selected"]}),g.jsx(dt,{onClick:i,type:"button",variant:"secondary",children:t.length===e.length?r("chat.figma-upload.deselect-all","Deselect All"):r("chat.figma-upload.select-all","Select All")})]})]}),g.jsx(Re,{paddingRight:4,width:"100%",style:{overflowY:"auto"},children:g.jsx(or.Root,{gap:4,children:e.map((o,u)=>{const c=t.includes(o.id);return g.jsx(or.Item,{col:6,padding:"1px",children:g.jsx(AB,{imageUrl:o.url,imageName:o.filename||`Frame ${u+1}`,selected:c,onSelect:()=>s(o.id)})},o.id)})})})]})},NB=()=>{const[e,t]=W.useState(""),[n,r]=W.useState([]),[i,s]=W.useState([]),{t:o}=Nn(),{addAttachments:u}=ko(),{isFigmaUploadOpen:c,closeFigmaUpload:p,submitOnFinish:d}=Qp(),{input:m,setInput:v,setMessages:y,sendMessage:h,openChat:x}=ur(),{processFigmaUrl:b,isLoading:k,error:S}=OB({onSuccess:D=>{r(D);const B=D.slice(0,15).map(K=>K.id);s(B)}}),A=async()=>(await b(e),!0),I=D=>{if(!D)return!1;try{const B=new URL(D);return B.hostname==="www.figma.com"||B.hostname==="figma.com"}catch{return!1}},F=()=>{t(""),r([]),s([]),p()},O=()=>{const D=n.filter(B=>i.includes(B.id));if(D.length===0){p();return}x(),d?(h({role:"user",parts:[{type:"text",text:"Create schemas from the attached images"},...D]}),p()):(m||v("Create schemas from the attached images"),u(D),p())};return g.jsxs(ji,{open:c,onOpenChange:D=>{D||F()},title:o("chat.figma-upload.header","Import from Figma"),onCancel:F,onComplete:O,children:[g.jsx(ji.Step,{title:o("chat.figma-upload.step1-title","Enter Figma URL"),nextLabel:o("chat.figma-upload.import-button","Import"),cancelLabel:o("form.button.cancel","Cancel"),disableNext:!e||k||!I(e),onNext:A,children:g.jsx(MB,{figmaUrl:e,setFigmaUrl:t,error:S})}),g.jsx(ji.Step,{title:o("chat.figma-upload.step2-title","Preview Images"),nextLabel:o("form.button.finish","Finish"),backLabel:o("form.button.back","Back"),disableNext:i.length===0,children:g.jsx(FB,{images:n,selectedImages:i,setSelectedImages:s})})]})},$B={create:"NEW",remove:"REMOVED",update:"CHANGED"},yc=(e,t,n)=>({...t,name:e,status:n}),PB=(e,t,n)=>{if(!t||n?.status==="NEW")return"NEW";const r=Ms(e,["status"]),i=Ms(t,["status"]);return io(r,i)?t.status:"CHANGED"},Fg=(e,t)=>e.action?$B[e.action]:t?t.status:"NEW",Ng=({action:e,attributes:t},n)=>{if(e==="create"||!n)return Object.entries(t).map(([o,u])=>yc(o,u,"NEW"));const r=n.attributes.reduce((o,u)=>({...o,[u.name]:u}),{}),i=Object.entries(t).map(([o,u])=>{const c=r[o],p=PB({...u,name:o},c,n);return yc(o,u,p)});if(n?.status==="NEW")return i;const s=Object.entries(r).filter(([o])=>!t[o]).map(([o,u])=>yc(o,u,"REMOVED"));return[...i,...s]},DB=(e,t)=>{const n=ha.singular(e.name).toLowerCase().replace(/ /g,"-"),r=ha.plural(e.name).toLowerCase().replace(/ /g,"-");return e.modelType==="component"?{category:e.category||"default",modelName:n,attributes:Ng(e,t),info:{displayName:e.name,description:e.description},modelType:e.modelType,uid:e.uid,collectionName:r,status:Fg(e,t),globalId:n}:{uid:e.uid,modelType:e.modelType,modelName:n,kind:e.kind,info:{displayName:e.name.charAt(0).toUpperCase()+e.name.slice(1),singularName:t?.info?.singularName||n,pluralName:t?.info?.pluralName||r},collectionName:r,attributes:Ng(e,t),options:{draftAndPublish:e.options?.draftAndPublish??!1},pluginOptions:{i18n:{localized:e.options?.localized??!1}},visible:!0,status:Fg(e,t),globalId:n,restrictRelationsTo:null}},LB=W.createContext(void 0),BB={create:"add",update:"update",remove:"delete"};function UB(e){if(e.role!=="assistant")return[];const t=[];return e.parts?.forEach((n,r)=>{if(n&&typeof n=="object"&&n.type==="tool-schemaGenerationTool"){const i=n.output;if(!i||i.error||!Array.isArray(i.schemas))return;const s=n.toolCallId??`${e.id}-${r}`;i.schemas.forEach((o,u)=>{const c=`${s}-${o.uid??o.name??u}`,p=o.action||"update";t.push({type:p,schema:o,revisionId:c})})}}),t}const ZB=({children:e})=>{const[t,n]=W.useState(null),{messages:r,status:i}=ur(),{contentTypes:s,components:o,applyChange:u}=qn(),c=Ri("SchemaChatProvider",d=>d.dispatch),p=Ri("SchemaChatProvider",d=>d.state);return W.useEffect(()=>{const d=r[r.length-1];if(!d||d.role!=="assistant"||i!=="ready")return;const m=UB(d),v=p.completedActions.includes(Fs.contentTypeBuilder.addField);m.forEach(y=>{const h=s[y.schema.uid]||o[y.schema.uid],x=DB(y.schema,h);!v&&y.schema.attributes&&y.type!=="remove"&&Object.keys(y.schema.attributes).length>0&&c({type:"set_completed_actions",payload:[Fs.contentTypeBuilder.addField]}),u({action:BB[y.type],schema:x})}),n(d.id)},[r]),g.jsx(LB.Provider,{value:{lastRevisedId:t,setLastRevisedId:n},children:e})},xx=W.createContext(void 0),$g=()=>Math.random().toString(36).substring(2,15),HB=({children:e,defaultOpen:t=!1})=>{const[n,r]=W.useState($g()),[i,s]=W.useState(t),[o,u]=W.useState(0),[c,p]=W.useState(""),[d,m]=W.useState([]),{trackUsage:v}=Fi(),{components:y,contentTypes:h}=qn(),{lastSeenSchemas:x}=Z5(),b=W.useMemo(()=>[...Object.values(h).filter(M=>M.status!=="REMOVED").filter(M=>M.uid!=="plugin::users-permissions.user").filter(M=>M.visible).map(pg),...Object.values(y).filter(M=>M.status!=="REMOVED").map(pg)],[h,y]),{id:k,messages:S,sendMessage:A,status:I,stop:F,...O}=D5({id:n?.toString(),experimental_throttle:100}),D=async(M,Y)=>{if(!(I==="streaming"||I==="submitted"))return A(M,{...Y,body:{...Y?.body,schemas:b,metadata:{lastSeenSchemas:x.map(w=>w.uid)}}})},B=M=>{if(M.preventDefault(),I==="streaming"||I==="submitted")return;const Y=d.filter(P=>P.status!=="loading");if(c.trim().length===0&&d.length===0)return;const w=Y.map(P=>({type:"file",filename:P.filename,mediaType:P.mediaType,url:P.url}));D({text:c,files:w}),p(""),m([])},{title:K,generateTitle:V,resetTitle:L}=L5({chatId:k,messages:S});W.useEffect(()=>{S.length>=1&&!K&&V()},[S.length,K,V]),W.useEffect(()=>{I==="error"?v("didAnswerMessage",{successful:!1}):I==="ready"&&S.length>0&&S[S.length-1]?.role==="assistant"&&v("didAnswerMessage",{successful:!0})},[I,S,v]);const Q=hE();return g.jsx(xx.Provider,{value:{isChatEnabled:Q,id:k,status:I,stop:F,sendMessage:D,...O,messages:S,handleSubmit:B,input:c,setInput:p,handleInputChange:M=>p(M.target.value),reset:()=>{F(),r($g()),v("didStartNewChat"),L()},schemas:b,title:K,isChatOpen:i,openChat:()=>{s(!0),o===0&&v("didStartNewChat"),u(M=>M+1)},closeChat:()=>s(!1),attachments:d,setAttachments:m},children:e})},WB=({children:e,defaultOpen:t=!1})=>g.jsx(HB,{defaultOpen:t,children:g.jsx(ZB,{children:g.jsx(xB,{children:g.jsx(zB,{children:g.jsx(qB,{children:e})})})})});function ur(){const e=W.useContext(xx);if(e===void 0)throw new Error("useStrapiChat must be used within a ChatProvider");return e}const _x=()=>{const{fetch:e,isPending:t,error:n}=$5(),{id:r,messages:i,schemas:s}=ur(),{toggleNotification:o}=ba(),{trackUsage:u}=Fi(),{t:c}=Nn(),[p,d]=W.useState({}),m=h=>!!p[h];return{upvoteMessage:h=>m(h)?Promise.resolve():(u("didVoteAnswer",{value:"positive"}),o({type:"success",message:c("chat.feedback.submitted","Thank you for your feedback! ")}),d(x=>({...x,[h]:"upvote"})),e({body:{type:"upvote",chatId:r,messageId:h,messages:i,schemas:s}})),downvoteMessage:(h,x,b)=>(u("didVoteAnswer",{value:"negative"}),o({type:"success",message:c("chat.feedback.submitted","Thank you for your feedback! ")}),e({body:{type:"downvote",chatId:r,messageId:h,messages:i,feedback:x,reasons:b,schemas:s}})),isPending:t,error:n}},wx=W.createContext({isFeedbackModalOpen:!1,currentMessageId:null,openFeedbackModal:()=>{},closeFeedbackModal:()=>{}}),kx=()=>W.useContext(wx),qB=({children:e})=>{const[t,n]=W.useState(!1),[r,i]=W.useState(null),s=u=>{i(u),n(!0)},o=()=>{n(!1),i(null)};return g.jsxs(wx.Provider,{value:{isFeedbackModalOpen:t,currentMessageId:r,openFeedbackModal:s,closeFeedbackModal:o},children:[t&&r&&g.jsx(KB,{}),e]})},VB=gt(Ce)`
  &:hover {
    background-color: ${({theme:e})=>e.colors.neutral100};
  }

  &.selected {
    background-color: ${({theme:e})=>e.colors.primary100};
    border-color: ${({theme:e})=>e.colors.primary200};
  }
`,GB=({id:e,label:t,selected:n,onClick:r})=>g.jsxs(VB,{className:n?"selected":"",justifyContent:"space-between",hasRadius:!0,width:"100%",cursor:"pointer",borderColor:"neutral200",padding:3,gap:3,onClick:()=>r(e),children:[g.jsx(Ie,{variant:"omega",fontWeight:"bold",children:t}),g.jsx(nl,{name:`feedback-${e}`,value:e,checked:n,onChange:()=>r(e)})]}),KB=()=>{const[e,t]=W.useState(""),[n,r]=W.useState([]),{t:i}=Nn(),{toggleNotification:s}=ba(),{closeFeedbackModal:o,currentMessageId:u}=kx(),{downvoteMessage:c,isPending:p}=_x(),d=[{id:"invalid_schema",label:i("chat.feedback.reason.invalid_schema","Invalid schema")},{id:"bad_recommendation",label:i("chat.feedback.reason.bad_recommendation","Bad recommendation")},{id:"slow",label:i("chat.feedback.reason.slow","Slow")},{id:"instructions_ignored",label:i("chat.feedback.reason.instructions_ignored","Instructions ignored")},{id:"being_lazy",label:i("chat.feedback.reason.being_lazy","Being lazy")},{id:"other",label:i("chat.feedback.reason.other","Other")}],m=y=>{r(h=>h.includes(y)?h.filter(x=>x!==y):[...h,y])},v=async()=>{if(n.length!==0)try{await c(u,e,n),t(""),r([]),o()}catch{s({type:"danger",message:i("chat.feedback.error","An error occurred while submitting your feedback")})}};return g.jsx(un.Root,{open:!0,onOpenChange:o,children:g.jsxs(un.Content,{children:[g.jsx(un.Header,{children:g.jsx(Ie,{variant:"omega",fontWeight:"bold",children:i("chat.feedback.title","Give feedback")})}),g.jsx(un.Body,{children:g.jsxs(Ce,{direction:"column",alignItems:"start",gap:6,width:"100%",children:[g.jsxs(Ce,{direction:"column",alignItems:"start",gap:2,children:[g.jsx(Ie,{variant:"beta",fontWeight:"bold",children:i("chat.feedback.title","Give feedback")}),g.jsx(Ie,{variant:"omega",children:i("chat.feedback.subtitle","Provide additional feedback on this message. Select all that apply.")})]}),g.jsx(or.Root,{width:"100%",gap:2,children:d.map(y=>g.jsx(or.Item,{col:6,children:g.jsx(GB,{id:y.id,label:y.label,selected:n.includes(y.id),onClick:m},y.id)},y.id))}),g.jsxs(Ce,{direction:"column",gap:2,width:"100%",alignItems:"start",children:[g.jsx(Ie,{variant:"omega",children:i("chat.feedback.comment.label","How can we improve? (optional)")}),g.jsx(Re,{width:"100%",children:g.jsx(cp,{name:"feedback",placeholder:i("chat.feedback.placeholder","Your feedback..."),onChange:y=>t(y.target.value),value:e})})]})]})}),g.jsxs(un.Footer,{children:[g.jsx(un.Close,{children:g.jsx(dt,{variant:"tertiary",onClick:o,children:i("form.button.cancel","Cancel")})}),g.jsx(dt,{onClick:v,loading:p,disabled:n.length===0,children:i("form.button.submit","Submit")})]})]})})},Cx=W.createContext(void 0),Sx=()=>{const e=W.useContext(Cx);if(!e)throw new Error("Collapsible components must be wrapped in <Collapsible />");return e},JB=gt(Re)`
  overflow: hidden;
  transition: height ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,YB=({children:e,defaultOpen:t=!1})=>{const[n,r]=W.useState(t);return g.jsx(Cx.Provider,{value:{open:n,toggle:()=>r(i=>!i)},children:e})},XB=({children:e})=>{const{toggle:t,open:n}=Sx();return g.jsx(Re,{onClick:t,style:{cursor:"pointer"},children:typeof e=="function"?e({open:n}):e})},QB=({children:e})=>{const{open:t}=Sx(),n=W.useRef(null),[r,i]=W.useState(0);return W.useLayoutEffect(()=>{if(n.current){const s=n.current.scrollHeight;i(s)}},[e]),g.jsx(JB,{ref:n,role:"region","aria-hidden":!t,style:{height:t?`${r}px`:0,visibility:r===0?"hidden":"visible"},children:e})},eU=ki`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,tU=gt(gE)`
  animation: ${eU} 1s linear infinite;
`,nU=gt(Re)`
  transform: rotate(${({$open:e})=>e?"180deg":"0deg"});
  transition: transform ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,rU=({status:e})=>{switch(e){case"update":return g.jsx(Ie,{fontWeight:"semiBold",textColor:"warning500",children:"M"});case"remove":return g.jsx(Ie,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"create":return g.jsx(Ie,{fontWeight:"semiBold",textColor:"success500",children:"N"});default:return null}},iU=({title:e,steps:t,state:n})=>{const r=()=>{switch(n){case"success":return g.jsx(pv,{fill:"success500"});case"loading":return g.jsx(tU,{});case"error":return g.jsx(up,{fill:"danger500"});default:return null}};return g.jsx(Re,{borderWidth:"1px",borderColor:"neutral200",borderStyle:"solid",hasRadius:!0,marginBottom:3,width:"336px",children:g.jsxs(YB,{defaultOpen:!1,children:[g.jsx(XB,{children:({open:i})=>g.jsx(Re,{padding:3,borderColor:"neutral200",borderWidth:i?"0 0 1px 0":"0",borderStyle:"solid",children:g.jsxs(Ce,{gap:2,alignItems:"center",children:[r(),g.jsx(Ie,{children:e}),g.jsx(Ce,{marginLeft:"auto",children:g.jsx(nU,{as:mE,$open:i})})]})})}),g.jsx(QB,{children:g.jsx(Ce,{gap:3,padding:3,direction:"column",children:t.map(i=>g.jsxs(Ce,{gap:2,justifyContent:"space-between",width:"100%",padding:[0,1],children:[i.link?g.jsx(tl,{tag:cv,to:i.link,children:g.jsx(Ie,{children:i.description})}):g.jsx(Ie,{children:i.description}),g.jsx(rU,{status:i.status})]},i.id))})})]})})},aU=gt(Ie)`
  max-width: 65ch;
  margin: 0 auto;

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: 1.25em;
    margin-bottom: 0.5em;
    font-weight: bold;
  }

  p {
    margin-bottom: 1em;
  }

  ul,
  ol {
    padding-left: 1.5em; /* indentation for bullet points */
    margin-bottom: 1em;
  }

  li {
    margin-bottom: 0.5em;
    list-style-type: disc; /* or whatever style you prefer */
  }

  strong {
    font-weight: bold;
  }

  /* code blocks, blockquotes, etc. */
  code {
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    font-family: 'SF Mono', SFMono-Regular, ui-monospace, 'DejaVu Sans Mono', Menlo, Consolas,
      monospace;
  }

  /* links */
  a {
    color: ${({theme:e})=>e.colors.primary500};
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
`,oU=e=>e&&typeof e=="object"&&e.type==="tool-schemaGenerationTool",sU=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",lU=e=>{const t=(e.kind??e.modelType)==="component";if(e.uid)return t?`/plugins/content-type-builder/component-categories/${e.category??""}/${e.uid}`:`/plugins/content-type-builder/content-types/${e.uid}`},uU=e=>{const t=e.output?.schemas??[],n=e.input?.schemas??[],r=t.length?t:n,i=r.length,s=e.output?e.output.error?"error":"success":"loading",o=r.map((c,p)=>({id:`${e.toolCallId??"schemaGenerationTool"}-${c.uid??c.name??p}`,description:sU(c.name??c.uid??"Schema"),status:c.action==="create"||c.action==="update"||c.action==="remove"?c.action:"update",link:lU(c)}));return{type:"marker",title:s==="success"?`Updated ${i} schema${i===1?"":"s"}`:s==="error"?`Failed to update schema${i===1?"":"s"}`:"Updating schemas",state:s,steps:o}},cU=({part:e})=>{if(e.type==="text")return g.jsx(aU,{children:g.jsx(UF,{components:{a:({node:t,...n})=>g.jsx("a",{target:"_blank",rel:"noopener noreferrer",...n})},children:e.text})});if(oU(e)){const t=uU(e);return g.jsx(iU,{...t})}return null},pU=({message:e})=>{const t=e.parts.some(r=>r.type==="text"&&r.text.trim()!==""),n=e.parts.filter(r=>r.type==="file");return g.jsxs(Pv,{as:Ce,direction:"column",alignItems:"flex-end",style:{alignSelf:"flex-end"},gap:2,maxWidth:"80%",children:[t?g.jsx(Re,{background:"neutral150",borderStyle:"none",padding:["10px","16px"],hasRadius:!0,children:e.parts.map((r,i)=>r.type!=="text"?null:g.jsx(Ie,{children:r.text},i))}):null,n.map((r,i)=>g.jsx(vp,{attachment:{...r,status:"ready"}},`${r.type==="file"?r.filename:r.type}-${i}`))]})},dU=({message:e,isLoading:t})=>{const{upvoteMessage:n}=_x(),{openFeedbackModal:r}=kx();return g.jsxs(Re,{style:{alignSelf:"flex-start"},maxWidth:"90%",children:[e.parts.map((i,s)=>g.jsx(cU,{part:i},s)),t?g.jsxs(Ce,{gap:1,children:[g.jsx(sr,{label:"Upvote",size:"XS",variant:"ghost",onClick:()=>n(e.id),children:g.jsx(dv,{})}),g.jsx(sr,{label:"Downvote",size:"XS",variant:"ghost",onClick:()=>r(e.id),children:g.jsx(fv,{})})]}):null]})},fU=({message:e,isLoading:t})=>e.role==="user"?g.jsx(pU,{message:e}):g.jsx(dU,{message:e}),hU=gt(Re).attrs({as:"textarea"})`
  border: none;
  resize: none;
  background: transparent;
  outline: none !important;
  width: 100%;
  min-height: 44px;
  max-height: 160px;
  line-height: ${({theme:e})=>e.lineHeights[4]};
  font-size: ${({theme:e})=>e.fontSizes[2]};
  color: ${({theme:e})=>e.colors.neutral800};
  padding-bottom: ${({theme:e})=>e.spaces[1]};
  overflow-y: auto;

  /* Show partial lines when content exceeds visible area */
  height: ${({rows:e,theme:t})=>e===5?`calc(${e} * ${t.lineHeights[4]} * 1em + 0.7em)`:`calc(${e} * ${t.lineHeights[4]} * 1em)`};

  &:disabled,
  &::placeholder {
    color: ${({theme:e})=>e.colors.neutral600};
  }
`,mU=({value:e,onChange:t,onSubmit:n,placeholder:r})=>{const i=W.useRef(null),[s,o]=W.useState(1),u=p=>{if(!p)return 1;const d=(p.match(/\n/g)||[]).length+1;return Math.min(d,5)};W.useEffect(()=>{o(u(e))},[e]);const c=p=>{i.current?.value.trim()&&p.key==="Enter"&&!p.shiftKey&&n&&(p.preventDefault(),n(p),setTimeout(()=>{i.current?.focus()},10))};return W.useEffect(()=>{i.current?.focus()},[i]),g.jsx(hU,{ref:i,value:e,onChange:t,onKeyDown:c,placeholder:r,rows:s})},gU=W.forwardRef(({children:e,onOpen:t,onClose:n,popoverPlacement:r,...i},s)=>{const o=W.useRef(null),u=vE(s,o),c=p=>{p&&typeof t=="function"?t():!p&&typeof n=="function"&&n()};return g.jsxs(kn.Root,{onOpenChange:c,children:[g.jsx(kn.Trigger,{ref:u,...i,children:i.label}),g.jsx(kn.Content,{zIndex:1e4,popoverPlacement:r,children:e})]})}),bc=kn.Item,vU=gt(Ce)`
  @media (max-height: 500px) {
    display: none;
  }
`,yU=()=>{const{sendMessage:e}=ur(),{t}=Nn(),{trackUsage:n}=Fi(),r=[t("chat.input.defaults.generate","Generate a product schema"),t("chat.input.defaults.ctb","Tell me about the Content-Type Builder"),t("chat.input.defaults.strapi","Tell me about Strapi")],i={[t("chat.input.defaults.generate","Generate a product schema")]:"generate-product-schema",[t("chat.input.defaults.ctb","Tell me about the Content-Type Builder")]:"tell-me-about-the-content-type-builder",[t("chat.input.defaults.strapi","Tell me about Strapi")]:"tell-me-about-strapi"},s=t("chat.input.defaults.title","How can I help you?");return g.jsx(Pv,{children:g.jsxs(vU,{direction:"column",alignItems:"flex-start",gap:3,children:[g.jsx(Ie,{variant:"omega",fontWeight:"bold",children:s}),g.jsx(Ce,{direction:"column",alignItems:"flex-start",gap:2,children:r.map(o=>g.jsx(dt,{startIcon:g.jsx(rl,{fill:"neutral500"}),size:"M",variant:"tertiary",onClick:()=>{n("didUsePresetPrompt",{promptType:i[o]}),e({text:o})},children:g.jsx(Ie,{fontWeight:"regular",children:o})},o))})]})})},bU=e=>{try{return JSON.parse(e.message).error}catch{return e}},xU=()=>{const{error:e}=ur(),{t}=Nn(),n=t("chat.messages.error","Something went wrong."),r=t("chat.messages.too-many-requests","Too many requests, please try again later."),i=t("chat.messages.license-limit-reached","License limit reached, please try again tomorrow."),s=t("chat.messages.license-limit-exceeded","AI credit limit exceeded."),o=t("chat.messages.too-long-error","This conversation reached its maximum length. Start a new conversation");if(!e)return null;const u=bU(e);return!u||typeof u!="string"?null:u===R5?g.jsx(Ha,{title:r,variant:"warning"}):u===O5?g.jsx(Ha,{title:i,variant:"warning"}):u.split(".")[0]===z5?g.jsx(Ha,{title:s,variant:"danger"}):u===M5?g.jsx(Ha,{title:o,variant:"danger"}):g.jsx(Ha,{title:n,variant:"danger"})},_U=({messages:e})=>{const t=W.useRef(null),{status:n}=ur();return W.useEffect(()=>{const r=setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},20);return()=>clearTimeout(r)},[e,n]),g.jsxs(g.Fragment,{children:[g.jsxs(Ce,{direction:"column",gap:5,children:[e.map((r,i)=>g.jsx(fU,{message:r,isLoading:(n==="streaming"||n==="submitted")&&i===e.length-1},r.id)),n==="error"&&g.jsx(xU,{})]}),g.jsx("div",{ref:t})]})},wU=()=>{const{attachments:e,removeAttachmentByIndex:t}=ko();return e.length?g.jsx(Ci.Attachments,{children:e.map((n,r)=>g.jsx(Re,{maxWidth:"250px",children:g.jsx(vp,{attachment:n,onRemove:()=>t(r)})},n.filename))}):null},kU=()=>{const{attachFiles:e}=ko(),{openCodeUpload:t}=Yp(),{openFigmaUpload:n}=Qp(),{t:r}=Nn(),i=W.useRef(null),s=r("chat.tooltips.upload-attachments","Upload attachments"),o=r("chat.attachments.menu.import-code","Import code"),u=r("chat.attachments.menu.attach-image","Attach image"),c=r("chat.attachments.menu.import-figma","Import from Figma");return g.jsxs(gU,{label:s,icon:g.jsx(dp,{}),tag:sr,popoverPlacement:"top-end",children:[g.jsx(bc,{startIcon:g.jsx(mv,{}),onSelect:()=>t(),children:o}),g.jsx(bc,{startIcon:g.jsx(ry,{}),onSelect:()=>n(),children:c}),g.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,ref:i}),g.jsx(bc,{startIcon:g.jsx(yE,{}),onSelect:()=>{const p=i.current;p&&(p.onchange=d=>{const m=d.target;m.files&&m.files.length>0&&e(Array.from(m.files))},p.click())},children:u})]})},CU=({children:e})=>{const[t,n]=W.useState("");return W.useEffect(()=>{const r=["",".","..","..."];let i=0;const s=setInterval(()=>{i=(i+1)%r.length,n(r[i])},400);return()=>clearInterval(s)},[]),g.jsxs(Ie,{variant:"pi",textColor:"neutral600",children:[e,t]})},SU=e=>{const{input:t,handleSubmit:n,handleInputChange:r,messages:i,status:s,stop:o,attachments:u}=ur(),{t:c}=Nn(),p=s==="streaming"||s==="submitted";return g.jsx(g.Fragment,{children:g.jsx("form",{onSubmit:n,...e,children:g.jsxs(Ci.Root,{isLoading:p,gap:4,children:[g.jsxs(Ci.Header,{minHeight:0,children:[i.length===0&&g.jsx(Ci.HeaderItem,{children:g.jsx(yU,{})}),p&&g.jsx(Ci.HeaderItem,{children:g.jsx(CU,{children:c("chat.input.thinking","Strapi AI is thinking")})})]}),g.jsxs(Ci.Content,{children:[g.jsx(ty.Area,{}),g.jsx(wU,{}),g.jsx(Re,{paddingBottom:3,children:g.jsx(mU,{value:t,onChange:r,onSubmit:n,placeholder:c("chat.input.placeholder","Ask Strapi AI...")})}),g.jsxs(Ci.Actions,{children:[g.jsx(kU,{}),p?g.jsx(sr,{label:c("chat.tooltips.stop-generation","Stop"),type:"button",variant:"default",onClick:d=>{d.preventDefault(),o()},children:g.jsx(YI,{})}):g.jsx(sr,{label:c("chat.tooltips.send-message","Send"),variant:"default",disabled:t.trim().length===0&&u.length===0,children:g.jsx(hv,{})})]})]})]})})})},EU=()=>{const{title:e,messages:t,isChatOpen:n,isChatEnabled:r,openChat:i,closeChat:s,reset:o}=ur(),{attachFiles:u}=ko(),{t:c}=Nn(),p=Ri("Chat",k=>k.state),m=Hr("Chat",k=>k.currentEnvironment)==="production";W.useEffect(()=>{p.enabled&&p.tours.contentTypeBuilder?.currentStep===1&&!p.tours.contentTypeBuilder?.isCompleted&&!n&&i&&i()},[p.tours.contentTypeBuilder?.currentStep,p.tours.contentTypeBuilder?.isCompleted,p.enabled,n,i]);const v=c("chat.tooltips.open-chat","Open chat"),y=c("chat.tooltips.close-chat","Close chat"),h=c("chat.tooltips.create-chat","New conversation"),x=c("chat.header.default-title","New conversation"),b=c("chat.input.strapi-ai-can-make-errors","Strapi AI can make mistakes.");return!r||m?null:g.jsx(ty.Root,{onAddFiles:k=>{u(k)},children:g.jsxs(Wa.Root,{size:"md",position:"bottom-right",isOpen:n,onToggle:n?s:i,toggleIcon:g.jsx(sr,{onClick:n?s:i,label:n?y:v,variant:"default",size:"L",children:g.jsx(rl,{})}),children:[g.jsxs(Wa.Header,{children:[g.jsx(Ie,{tag:"h3",variant:"omega",fontWeight:"bold",children:e||x}),g.jsxs(Ce,{gap:0,children:[g.jsx(sr,{label:h,variant:"ghost",onClick:o,children:g.jsx(ii,{})}),g.jsx(Wa.Close,{label:y})]})]}),g.jsx(Wa.Body,{children:g.jsxs(pp.contentTypeBuilder.AIChat,{children:[t.length?null:g.jsx(Ie,{variant:"pi",textColor:"neutral600",children:b}),g.jsx(_U,{messages:t})]})}),g.jsx(Wa.Footer,{children:g.jsx(SU,{})})]})})},ee=e=>`${ai}.${e}`,Pg=({status:e})=>{switch(e){case"UNCHANGED":return null;case"CHANGED":return g.jsx(Ie,{fontWeight:"semiBold",textColor:"alternative500",children:"M"});case"REMOVED":return g.jsx(Ie,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"NEW":return g.jsx(Ie,{fontWeight:"semiBold",textColor:"success500",children:"N"})}},v8=({status:e})=>{switch(e){case"CHANGED":return g.jsx(gs,{fontWeight:"bold",textColor:"alternative600",backgroundColor:"alternative100",borderColor:"alternative200",children:"Modified"});case"REMOVED":return g.jsx(gs,{fontWeight:"bold",textColor:"danger600",backgroundColor:"danger100",borderColor:"danger200",children:"Deleted"});case"NEW":return g.jsx(gs,{fontWeight:"bold",textColor:"success600",backgroundColor:"success100",borderColor:"success200",children:"New"});case"UNCHANGED":default:return g.jsx(gs,{style:{visibility:"hidden"},fontWeight:"bold",textColor:"warning600",backgroundColor:"warning100",borderColor:"warning200",children:"Unchanged"})}},Ex=W.createContext(),wa=()=>W.useContext(Ex),AU=()=>{const{componentsGroupedByCategory:e,isInDevelopmentMode:t,sortedContentTypesList:n}=qn(),{trackUsage:r}=Fi(),[i,s]=W.useState(""),{onOpenModalCreateSchema:o}=wa(),{locale:u}=ct(),{contains:c}=bE(u,{sensitivity:"base"}),p=xE(u,{sensitivity:"base"}),d=()=>{r("willCreateContentType"),o({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})},m=()=>{r("willCreateSingleType"),o({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})},v=()=>{r("willCreateComponent"),o({modalType:"component",kind:null,actionType:"create",forTarget:"component"})},y=Object.entries(e).map(([b,k])=>({name:b,title:Ti(b),links:k.map(S=>({name:S.uid,to:`/plugins/${ai}/component-categories/${b}/${S.uid}`,title:S.info.displayName,status:S.status})).sort((S,A)=>p.compare(S.title,A.title))})).sort((b,k)=>p.compare(b.title,k.title)),h=n.filter(b=>b.visible).map(b=>({kind:b.kind,name:b.name,to:b.to,title:b.title,status:b.status}));return{menu:[{name:"models",title:{id:`${ee("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:t?{id:`${ee("button.model.create")}`,defaultMessage:"Create new collection type",onClick:d}:void 0,links:h.filter(b=>b.kind==="collectionType")},{name:"singleTypes",title:{id:`${ee("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:t?{id:`${ee("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:m}:void 0,links:h.filter(b=>b.kind==="singleType")},{name:"components",title:{id:`${ee("menu.section.components.name")}`,defaultMessage:"Components"},customLink:t?{id:`${ee("button.component.create")}`,defaultMessage:"Create a new component",onClick:v}:void 0,links:y}].map(b=>{if(b.links.some(A=>"links"in A&&Array.isArray(A.links))){let A=0;return{...b,links:b.links.reduce((I,F)=>{const O="links"in F?F.links.filter(D=>c(D.title,i)):[];return O.length===0||(A+=O.length,I.push({...F,links:O.sort((D,B)=>p.compare(D.title,B.title))})),I},[]),linksCount:A}}const S=b.links.filter(A=>c(A.title,i)).sort((A,I)=>p.compare(A.title,I.title));return{...b,links:S,linksCount:S.length}}),search:{value:i,onChange:s,clear:()=>s("")}}},TU=gt(fp)`
  transform: scaleX(-1);
`,jU=gt(kn.Item)`
  color: ${({theme:e})=>e.colors.danger600};

  &:hover {
    background: ${({theme:e,disabled:t})=>!t&&e.colors.danger100};
  }
`,IU=()=>{const{menu:e,search:t}=AU(),{saveSchema:n,isModified:r,history:i,isInDevelopmentMode:s}=qn(),{formatMessage:o}=ct(),[u,c]=W.useState(!1),[p,d]=W.useState(!1);W.useEffect(()=>{if(!s)return;const b=k=>{(k.ctrlKey||k.metaKey)&&(k.key==="Enter"?r&&(k.preventDefault(),n()):k.key==="z"&&!k.shiftKey?(k.preventDefault(),i.undo()):(k.key==="y"||k.shiftKey&&k.key==="z"||k.key==="Z")&&(k.preventDefault(),i.redo()))};return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}});const m=()=>{d(!0)},v=()=>{c(!1),d(!1),i.discardAllChanges()},y=()=>{i.undo()},h=()=>{i.redo()},x=o({id:ee("plugin.name"),defaultMessage:"Content-Type Builder"});return g.jsxs(ti.Main,{"aria-label":x,children:[g.jsx(ti.Header,{label:x}),g.jsx(il,{background:"neutral150"}),g.jsxs(ti.Content,{children:[g.jsxs(Ce,{padding:5,gap:3,direction:"column",alignItems:"stretch",children:[g.jsx(pp.contentTypeBuilder.Save,{children:g.jsxs(Ce,{gap:2,children:[g.jsx(dt,{flex:1,onClick:b=>{b.preventDefault(),n()},type:"submit",disabled:!r||!s,fullWidth:!0,size:"S",children:o({id:"global.save",defaultMessage:"Save"})}),g.jsxs(kn.Root,{open:u,onOpenChange:c,children:[g.jsxs(kn.Trigger,{size:"S",endIcon:null,paddingTop:"4px",paddingLeft:"7px",paddingRight:"7px",variant:"tertiary",children:[g.jsx(_E,{fill:"neutral500","aria-hidden":!0,focusable:!1}),g.jsx(gv,{tag:"span",children:o({id:"global.more.actions",defaultMessage:"More actions"})})]}),g.jsxs(kn.Content,{zIndex:1,children:[g.jsx(kn.Item,{disabled:!i.canUndo||!s,onSelect:y,startIcon:g.jsx(TU,{}),children:o({id:"global.last-change.undo",defaultMessage:"Undo last change"})}),g.jsx(kn.Item,{disabled:!i.canRedo||!s,onSelect:h,startIcon:g.jsx(fp,{}),children:o({id:"global.last-change.redo",defaultMessage:"Redo last change"})}),g.jsx(kn.Separator,{}),g.jsx(jU,{disabled:!i.canDiscardAll||!s,onSelect:m,children:g.jsxs(Ce,{gap:2,children:[g.jsx(up,{}),g.jsx(Ie,{children:o({id:"global.last-changes.discard",defaultMessage:"Discard last changes"})})]})})]})]})]})}),g.jsx(vv,{value:t.value,onChange:b=>t.onChange(b.target.value),onClear:()=>t.onChange(""),placeholder:o({id:ee("search.placeholder"),defaultMessage:"Search"}),size:"S",children:void 0,name:"search_contentType",clearLabel:o({id:"clearLabel",defaultMessage:"Clear"}),"aria-label":o({id:ee("search.placeholder"),defaultMessage:"Search"})})]}),g.jsx(ti.Sections,{children:e.map(b=>g.jsx(W.Fragment,{children:g.jsx(ti.Section,{label:o({id:b.title.id,defaultMessage:b.title.defaultMessage}),link:b.customLink&&{label:o({id:b.customLink?.id,defaultMessage:b.customLink?.defaultMessage}),onClick:b.customLink?.onClick},sectionId:b.name,children:b.links.map(k=>{const S=o({id:k.name,defaultMessage:k.title});return"links"in k?g.jsx(ti.SubSection,{label:k.title,children:k.links.map(A=>{const I=o({id:A.name,defaultMessage:A.title});return g.jsx(ti.Link,{to:A.to,label:I,endAction:g.jsx(Re,{tag:"span",textAlign:"center",width:"24px",children:g.jsx(Pg,{status:A.status})})},A.name)})},k.name):g.jsx(ti.Link,{to:k.to,label:S,endAction:g.jsx(Re,{tag:"span",textAlign:"center",width:"24px",children:g.jsx(Pg,{status:k.status})})},k.name)})})},b.name))})]}),g.jsx(Oi.Root,{open:p,onOpenChange:d,children:g.jsx(yo,{onConfirm:v,children:o({id:ee("popUpWarning.discardAll.message"),defaultMessage:"Are you sure you want to discard all changes?"})})})]})},RU="timeout",OU=30*1e3,zU=()=>{const{get:e}=yv(),t=async n=>{const r=n??Date.now();if(Date.now()-r>OU)throw new Error(RU);try{if((await e("/content-type-builder/update-schema-status"))?.data?.data?.isUpdating===!0)return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}catch{return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}};return t},MU=e=>_j(Object.keys(e).map(t=>({visible:e[t].visible,name:t,title:e[t].info.displayName,plugin:e[t].plugin,uid:t,to:`/plugins/${ai}/content-types/${t}`,kind:e[t].kind,restrictRelationsTo:e[t].restrictRelationsTo,status:e[t].status})).filter(t=>t!==null),t=>wE(t.title)),FU=({components:e,contentTypes:t})=>{const n={newContentTypes:0,editedContentTypes:0,deletedContentTypes:0,newComponents:0,editedComponents:0,deletedComponents:0,newFields:0,editedFields:0,deletedFields:0},r=Object.values(e).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=Dg(s),u=o.action;return Lg({...s,action:u},n,"component"),o}),i=Object.values(t).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=Dg(s),u=o.action;return Lg({...s,action:u},n,"contentType"),o});return{requestData:{components:r,contentTypes:i},trackingEventProperties:n}},NU=e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>Array.isArray(n)?n.length>0:typeof n=="object"&&n!==null?Object.keys(n).length>0:n!=null)),$U=e=>"customField"in e?{...e,type:"customField"}:"targetAttribute"in e?{...e,targetAttribute:e.targetAttribute==="-"?null:e.targetAttribute,...e.conditions&&{conditions:e.conditions}}:e,Dg=e=>{let t;switch(e.status){case"NEW":t="create";break;case"CHANGED":t="update";break;case"REMOVED":return{action:"delete",uid:e.uid};default:throw new Error("Invalid status")}return{action:t,uid:e.uid,category:"category"in e?e.category:void 0,...Ms(e,["info","options","visible","uid","restrictRelationsTo"]),...e.options,...e.info,attributes:e.attributes.map(n=>{let r;switch(n.status){case"NEW":r="create";break;case"REMOVED":return{action:"delete",name:n.name};case"UNCHANGED":case"CHANGED":default:r="update"}return{action:r,name:n.name,properties:NU(Ms($U(n),["status","name"]))}})}},Lg=(e,t,n)=>{if(!e||typeof e.action!="string")return;const r=n==="contentType";switch(e.action){case"create":r?t.newContentTypes++:t.newComponents++;break;case"update":r?t.editedContentTypes++:t.editedComponents++;break;case"delete":r?t.deletedContentTypes++:t.deletedComponents++;break}Array.isArray(e.attributes)&&(e.action==="delete"?t.deletedFields+=e.attributes.length:e.attributes.forEach(i=>{if(!(!i||typeof i.status!="string"))switch(i.status){case"NEW":t.newFields++;break;case"CHANGED":t.editedFields++;break;case"REMOVED":t.deletedFields++;break}}))},PU=e=>Object.keys(e).reduce((n,r)=>{const i=Wt(e,[r]),s=DU(i);return s.childComponents.length>0&&n.push(s),n},[]),DU=e=>({component:e.uid,childComponents:e.attributes.filter(t=>{const{type:n}=t;return n==="component"}).map(t=>({component:t.component}))}),LU=e=>{const t=Object.keys(e).reduce((n,r)=>{const i=e?.[r]?.attributes??[],s=BU(i,r);return[...n,...s]},[]);return UU(t)},BU=(e,t)=>e.reduce((n,r)=>{const{type:i}=r;return i==="component"&&n.push({component:r.component,parentCompoUid:t}),n},[]),UU=e=>{const t=new Map;return e.forEach(({component:r,parentCompoUid:i})=>{t.has(r)||t.set(r,new Set),t.get(r).add(i)}),Array.from(t.entries()).map(([r,i])=>({component:r,uidsOfAllParents:Array.from(i)}))},ZU=(e,t)=>{const n=Object.keys(e).map(r=>Wt(e,[r,...t],""));return kE(n)},HU=e=>e["content-type-builder_dataManagerProvider"]||CE,WU=({children:e})=>{const t=al(),n=bv(HU),r=Ri("DataManagerProvider",se=>se.dispatch),{components:i,contentTypes:s,reservedNames:o,initialComponents:u,initialContentTypes:c,isLoading:p}=n.current,{toggleNotification:d}=ba(),{lockAppWithAutoreload:m,unlockAppWithAutoreload:v}=SE(),y=zU(),x=ao("DataManagerProvider",se=>se.getPlugin)("content-type-builder"),b=Hr("DataManagerProvider",se=>se.autoReload),{formatMessage:k}=ct(),{trackUsage:S}=Fi(),A=EE("DataManagerProvider",se=>se.refetchPermissions),{onCloseModal:I}=wa(),[F,O]=W.useState(!1),D=W.useMemo(()=>!(io(i,u)&&io(s,c)),[i,s,u,c]),B=yv(),K=b,V=W.useRef();V.current=async()=>{try{const[se,X]=await Promise.all([B.get("/content-type-builder/schema"),B.get("/content-type-builder/reserved-names")]),{components:R,contentTypes:Te}=se.data.data;t(Ht.init({components:kh(R,ke=>({...ke,status:"UNCHANGED"})),contentTypes:kh(Te,ke=>({...ke,status:"UNCHANGED"})),reservedNames:X.data})),t(Ht.clearHistory())}catch(se){console.error({err:se}),d({type:"danger",message:k({id:"notification.error",defaultMessage:"An error occurred"})})}},W.useEffect(()=>(V.current(),()=>{t(Ht.reloadPlugin())}),[]),W.useEffect(()=>{b||d({type:"info",message:k({id:ee("notification.info.autoreaload-disable")})})},[b,d,k]);const L=se=>PU(se),Q=se=>LU(se),M=async()=>{await A()},Y=async()=>{O(!0);const se=x?.apis?.forms,X=Object.entries(n.current.contentTypes).reduce((ae,[Ye,Xe])=>(ae[Ye]=se.mutateContentTypeSchema(Xe,c[Ye]),ae),{}),{requestData:R,trackingEventProperties:Te}=FU({components:n.current.components,contentTypes:X}),ke=Object.keys(n.current.contentTypes).length>0;m();try{await B.post("/content-type-builder/update-schema",{data:R}),ke&&S("didCreateGuidedTourCollectionType"),await y(),await V.current(),await M()}catch(ae){console.error({err:ae}),d({type:"danger",message:k({id:"notification.error",defaultMessage:"An error occurred"})}),S("didUpdateCTBSchema",{...Te,success:!1})}finally{O(!1),v(),t(AE.util.invalidateTags(["GuidedTourMeta","HomepageKeyStatistics"])),r({type:"set_completed_actions",payload:[Fs.contentTypeBuilder.createSchema]}),S("didUpdateCTBSchema",{...Te,success:!0})}},w=W.useMemo(()=>L(i),[i]),P=W.useMemo(()=>Q(i),[i]),xe=W.useMemo(()=>ZU(i,["category"]),[i]),oe=W.useMemo(()=>xj(i,"category"),[i]),ue=W.useMemo(()=>MU(s),[s]),z={componentsThatHaveOtherComponentInTheirAttributes:w,nestedComponents:P,saveSchema:Y,reservedNames:o,components:i,contentTypes:s,initialComponents:u,initialContentTypes:c,isSaving:F,isModified:D,isInDevelopmentMode:K,allComponentsCategories:xe,componentsGroupedByCategory:oe,sortedContentTypesList:ue,isLoading:p,addAttribute(se){t(Ht.addAttribute(se))},editAttribute(se){t(Ht.editAttribute(se))},addCustomFieldAttribute(se){t(Ht.addCustomFieldAttribute(se))},editCustomFieldAttribute(se){t(Ht.editCustomFieldAttribute(se))},addCreatedComponentToDynamicZone(se){t(Ht.addCreatedComponentToDynamicZone(se))},createSchema(se){t(Ht.createSchema(se))},createComponentSchema({data:se,uid:X,componentCategory:R}){t(Ht.createComponentSchema({data:se,uid:X,componentCategory:R}))},changeDynamicZoneComponents({forTarget:se,targetUid:X,dynamicZoneTarget:R,newComponents:Te}){t(Ht.changeDynamicZoneComponents({forTarget:se,targetUid:X,dynamicZoneTarget:R,newComponents:Te}))},removeAttribute(se){se.forTarget==="contentType"&&S("willDeleteFieldOfContentType"),t(Ht.removeField(se))},removeComponentFromDynamicZone(se){t(Ht.removeComponentFromDynamicZone(se))},deleteComponent(se){window.confirm(k({id:ee("popUpWarning.bodyMessage.component.delete")}))&&(I(),t(Ht.deleteComponent(se)))},deleteContentType(se){window.confirm(k({id:ee("popUpWarning.bodyMessage.contentType.delete")}))&&(I(),t(Ht.deleteContentType(se)))},updateComponentSchema({data:se,componentUID:X}){t(Ht.updateComponentSchema({data:se,uid:X}))},updateComponentUid({componentUID:se,newComponentUID:X}){t(Ht.updateComponentUid({uid:se,newComponentUID:X}))},updateSchema(se){t(Ht.updateSchema(se))},moveAttribute(se){t(Ht.moveAttribute(se))},applyChange(se){t(Ht.applyChange(se))},history:{undo(){t(Ht.undo())},redo(){t(Ht.redo())},discardAllChanges(){t(Ht.discardAll())},canUndo:n.past.length>0,canRedo:n.future.length>0,canDiscardAll:D}};return g.jsx(Ly.Provider,{value:z,children:e})},qU=()=>{const{formatMessage:e}=ct(),{isModified:t,isSaving:n}=qn(),r=e({id:ee("prompt.unsaved"),defaultMessage:"Are you sure you want to leave? All your modifications will be lost."}),i=TE(s=>s.currentLocation.pathname.startsWith("/plugins/content-type-builder/")&&!s.nextLocation.pathname.startsWith("/plugins/content-type-builder/")&&t);return W.useEffect(()=>{const s=o=>{t&&!n&&(o.preventDefault(),o.returnValue="")};return window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s)},[r,t,n]),i.state==="blocked"?g.jsx(Oi.Root,{open:!0,onOpenChange:()=>i.reset(),children:g.jsx(yo,{onConfirm:()=>i.proceed(),children:r})}):null},Ax=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),Qc=(e,t)=>e.find(({name:n})=>n===t),VU=(e,t)=>!e||!t?{}:{[e]:t[e]},GU=e=>(e?.inner||[]).reduce((t,n)=>(n.path&&(t[n.path.split("[").join(".").split("]").join("")]={id:n.message,defaultMessage:n.message,values:VU(n?.type,n?.params)}),t),{}),KU=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],JU=({intlLabel:e,name:t,onChange:n,value:r=null})=>{const{formatMessage:i}=ct(),s=r===null||r?.length===0?i({id:"global.none",defaultMessage:"None"}):[...r].sort().map(u=>Ti(u)).join(", "),o=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):t;return g.jsxs(Je.Root,{name:t,children:[g.jsx(Je.Label,{children:o}),g.jsx(xv,{customizeContent:()=>s,onChange:u=>{u.length>0?n({target:{name:t,value:u,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:KU,value:r||[]})]})},Bg={biginteger:Za,blocks:PE,boolean:$E,collectionType:Ah,component:NE,contentType:Ah,date:vs,datetime:vs,decimal:Za,dynamiczone:FE,email:ME,enum:Eh,enumeration:Eh,file:Du,files:Du,float:Za,integer:Za,json:Sh,JSON:Sh,media:Du,number:Za,password:zE,relation:OE,richtext:RE,singleType:IE,string:Ch,text:Ch,time:vs,timestamp:vs,uid:jE},YU=gt(Re)`
  svg {
    height: 100%;
    width: 100%;
  }
`,go=({type:e,customField:t=null,...n})=>{const r=ao("AttributeIcon",s=>s.customFields.get);let i=Bg[e];if(t){const o=r(t)?.icon;o&&(i=o)}return Bg[e]?g.jsx(YU,{width:"3.2rem",height:"3.2rem",shrink:0,...n,"aria-hidden":!0,children:g.jsx(Re,{tag:i})}):null},Tx=gt(Re)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,XU=[],QU=()=>g.jsx(Ce,{grow:1,justifyContent:"flex-end",children:g.jsxs(Ce,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[g.jsx(rl,{width:"1rem",height:"1rem",fill:"alternative600"}),g.jsx(Ie,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),e3=({type:e="text"})=>{const{formatMessage:t}=ct(),{onClickSelectField:n}=wa(),r=()=>{n({attributeType:e,step:e==="component"?"1":null})};return g.jsx(Tx,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:r,children:g.jsxs(Ce,{children:[g.jsx(go,{type:e}),g.jsxs(Re,{paddingLeft:4,width:"100%",children:[g.jsxs(Ce,{justifyContent:"space-between",children:[g.jsx(Ie,{fontWeight:"bold",textColor:"neutral800",children:t({id:ee(`attribute.${e}`),defaultMessage:e})}),XU.includes(e)&&g.jsx(QU,{})]}),g.jsx(Ce,{children:g.jsx(Ie,{variant:"pi",textColor:"neutral600",children:t({id:ee(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},t3=({attributes:e})=>g.jsx(hp,{tagName:"button",children:g.jsx(Ce,{direction:"column",alignItems:"stretch",gap:8,children:e.map((t,n)=>g.jsx(or.Root,{gap:3,children:t.map(r=>g.jsx(or.Item,{col:6,direction:"column",alignItems:"stretch",children:g.jsx(e3,{type:r})},r))},n))})}),n3=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:r,intlDescription:i}=t,{formatMessage:s}=ct(),{onClickSelectCustomField:o}=wa(),u=()=>{o({attributeType:n,customFieldUid:e})};return g.jsx(Tx,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:u,children:g.jsxs(Ce,{children:[g.jsx(go,{type:n,customField:e}),g.jsxs(Re,{paddingLeft:4,children:[g.jsx(Ce,{children:g.jsx(Ie,{fontWeight:"bold",textColor:"neutral800",children:s(r)})}),g.jsx(Ce,{children:g.jsx(Ie,{variant:"pi",textColor:"neutral600",children:s(i)})})]})]})})},r3=gt(Re)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,i3=()=>g.jsx(Ce,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,t)=>g.jsx(r3,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${t}`))}),a3=()=>{const{formatMessage:e}=ct();return g.jsxs(Re,{position:"relative",children:[g.jsx(i3,{}),g.jsx(Re,{position:"absolute",top:6,width:"100%",children:g.jsxs(Ce,{alignItems:"center",justifyContent:"center",direction:"column",children:[g.jsx(_v,{width:"160px",height:"88px"}),g.jsx(Re,{paddingTop:6,paddingBottom:4,children:g.jsxs(Re,{textAlign:"center",children:[g.jsx(Ie,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:ee("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),g.jsx(Re,{paddingTop:4,children:g.jsx(Ie,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:ee("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),g.jsx(DE,{tag:cv,to:`/marketplace?${LE.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:g.jsx(ii,{}),children:e({id:ee("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},o3=()=>{const{formatMessage:e}=ct(),t=ao("CustomFieldsList",i=>i.customFields.getAll),n=Object.entries(t());if(!n.length)return g.jsx(a3,{});const r=n.sort((i,s)=>i[1].name>s[1].name?1:-1);return g.jsx(hp,{tagName:"button",children:g.jsxs(Ce,{direction:"column",alignItems:"stretch",gap:3,children:[g.jsx(or.Root,{gap:3,children:r.map(([i,s])=>g.jsx(or.Item,{col:6,direction:"column",alignItems:"stretch",children:g.jsx(n3,{customFieldUid:i,customField:s},i)},i))}),g.jsx(tl,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:ee("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},s3=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:r}=ct(),i=ee("modalForm.tabs.default"),s=ee("modalForm.tabs.custom"),o=t.includes("component")?"component":n,u=ee(`modalForm.sub-header.chooseAttribute.${o}`);return g.jsx(un.Body,{children:g.jsxs(ir.Root,{variant:"simple",defaultValue:"default",children:[g.jsxs(Ce,{justifyContent:"space-between",children:[g.jsx(Ie,{variant:"beta",tag:"h2",children:r({id:u,defaultMessage:"Select a field"})}),g.jsxs(ir.List,{children:[g.jsx(ir.Trigger,{value:"default",children:r({id:i,defaultMessage:"Default"})}),g.jsx(ir.Trigger,{value:"custom",children:r({id:s,defaultMessage:"Custom"})})]})]}),g.jsx(il,{marginBottom:6}),g.jsx(ir.Content,{value:"default",children:g.jsx(t3,{attributes:e})}),g.jsx(ir.Content,{value:"custom",children:g.jsx(o3,{})})]})})},l3=({intlLabel:e,name:t,options:n,onChange:r,value:i=null})=>{const{formatMessage:s}=ct(),o=e.id?s({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):t,u=c=>{let p="";c==="true"&&(p=!0),c==="false"&&(p=!1),r({target:{name:t,value:p,type:"select-default-boolean"}})};return g.jsxs(Je.Root,{name:t,children:[g.jsx(Je.Label,{children:o}),g.jsx(Zr,{onChange:u,value:(i===null?"":i).toString(),children:n.map(({metadatas:{intlLabel:c,disabled:p,hidden:d},key:m,value:v})=>g.jsx(Bn,{value:v,disabled:p,hidden:d,children:c.defaultMessage},m))})]})},u3=gt(Ce)`
  position: relative;
  align-items: stretch;

  label {
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;

    ${wv()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    border-radius: ${({theme:e})=>e.borderRadius};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    color: ${({theme:e})=>e.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,ed=({intlLabel:e,name:t,onChange:n,radios:r=[],value:i})=>{const{formatMessage:s}=ct();return g.jsxs(Ce,{direction:"column",alignItems:"stretch",gap:2,children:[g.jsx(Ie,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,tag:"label",children:s(e)}),g.jsx(u3,{gap:4,alignItems:"stretch",children:r.map(o=>g.jsxs("label",{htmlFor:o.value.toString(),className:"container",children:[g.jsx("input",{id:o.value.toString(),name:t,className:"option-input",checked:o.value===i,value:o.value,onChange:n,type:"radio"},o.value),g.jsx(Re,{className:"option",padding:4,children:g.jsxs(Ce,{children:[g.jsx(Re,{paddingRight:4,children:g.jsx("span",{className:"checkmark"})}),g.jsxs(Ce,{direction:"column",alignItems:"stretch",gap:2,children:[g.jsx(Ie,{fontWeight:"bold",children:s(o.title)}),g.jsx(Ie,{variant:"pi",textColor:"neutral600",children:s(o.description)})]})]})})]},o.value))})]})},c3=({onChange:e,name:t,intlLabel:n,...r})=>{const i=s=>{const o=s.target.value!=="false";e({target:{name:t,value:o,type:"boolean-radio-group"}})};return g.jsx(ed,{...r,name:t,onChange:i,intlLabel:n})},p3=({error:e,intlLabel:t,modifiedData:n,name:r,onChange:i,value:s=null})=>{const{formatMessage:o}=ct(),u=t.id?o({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):r,c=n.type==="biginteger"?"text":"number",p=!n.type,d=e?o({id:e,defaultMessage:e}):"";return g.jsxs(Ce,{direction:"column",alignItems:"stretch",gap:2,children:[g.jsx(nl,{id:r,name:r,onCheckedChange:m=>{i({target:{name:r,value:m?c==="text"?"0":0:null}})},checked:s!==null,children:u}),s!==null&&g.jsx(Re,{paddingLeft:6,style:{maxWidth:"200px"},children:c==="text"?g.jsxs(Je.Root,{error:d,name:r,children:[g.jsx(Ur,{"aria-label":u,disabled:p,onChange:i,value:s===null?"":s,type:"text"}),g.jsx(Je.Error,{})]}):g.jsxs(Je.Root,{error:d,name:r,children:[g.jsx(kv,{"aria-label":u,disabled:p,onValueChange:m=>{i({target:{name:r,value:m??0,type:c}})},value:s||0}),g.jsx(Je.Error,{})]})})]})},d3=({onChange:e,...t})=>{const{formatMessage:n}=ct(),{toggleNotification:r}=ba(),i=s=>{r({type:"info",message:n({id:ee("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),e(s)};return g.jsx(ed,{...t,onChange:i})},f3=({description:e,disabled:t=!1,intlLabel:n,isCreating:r,name:i,onChange:s,value:o=!1})=>{const{formatMessage:u}=ct(),[c,p]=W.useState(!1),d=n.id?u({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):i,m=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",v=()=>{s({target:{name:i,value:!1}}),p(!1)},y=h=>{if(!h&&!r){p(!0);return}s({target:{name:i,value:!!h}})};return g.jsxs(g.Fragment,{children:[g.jsxs(Je.Root,{hint:m,name:i,children:[g.jsx(nl,{checked:o,disabled:t,onCheckedChange:y,children:d}),g.jsx(Je.Hint,{})]}),g.jsx(Oi.Root,{open:c,onOpenChange:h=>p(h),children:g.jsx(yo,{endAction:g.jsx(dt,{onClick:v,variant:"danger",width:"100%",justifyContent:"center",children:u({id:ee("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:u({id:ee("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},h3=({deleteComponent:e,deleteContentType:t,isAttributeModal:n,isCustomFieldModal:r,isComponentAttribute:i,isComponentToDzModal:s,isContentTypeModal:o,isCreatingComponent:u,isCreatingComponentAttribute:c,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:d,isCreatingContentType:m,isCreatingDz:v,isComponentModal:y,isDzAttribute:h,isEditingAttribute:x,isInFirstComponentStep:b,onSubmitAddComponentAttribute:k,onSubmitAddComponentToDz:S,onSubmitCreateContentType:A,onSubmitCreateComponent:I,onSubmitCreateDz:F,onSubmitEditAttribute:O,onSubmitEditComponent:D,onSubmitEditContentType:B,onSubmitEditCustomFieldAttribute:K,onSubmitEditDz:V,onClickFinish:L})=>{const{formatMessage:Q}=ct();return s?p?g.jsx(dt,{variant:"secondary",type:"submit",onClick:M=>{M.preventDefault(),S(M,!0)},startIcon:g.jsx(ii,{}),children:Q({id:ee("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):g.jsx(dt,{variant:"default",type:"submit",onClick:M=>{M.preventDefault(),S(M,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})}):n&&h&&!v?g.jsx(dt,{variant:"default",type:"submit",onClick:M=>{M.preventDefault(),L(),V(M,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})}):n&&h&&v?g.jsx(g.Fragment,{children:g.jsx(dt,{variant:"secondary",type:"submit",onClick:M=>{M.preventDefault(),F(M,!0)},startIcon:g.jsx(ii,{}),children:Q({id:ee("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):n&&i?b?g.jsx(dt,{variant:"secondary",type:"submit",onClick:M=>{M.preventDefault(),k(M,!0)},children:Q(c?{id:ee("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:ee("form.button.select-component"),defaultMessage:"Configure the component"})}):g.jsxs(Ce,{gap:2,children:[g.jsx(dt,{variant:"secondary",type:"submit",onClick:M=>{M.preventDefault(),k(M,!0)},startIcon:g.jsx(ii,{}),children:Q(d?{id:ee("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:ee("form.button.add-field"),defaultMessage:"Add another field"})}),g.jsx(dt,{variant:"default",type:"button",onClick:M=>{M.preventDefault(),L(),k(M,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}):n&&!i&&!h?g.jsxs(Ce,{gap:2,children:[g.jsx(dt,{type:x?"button":"submit",variant:"secondary",onClick:M=>{M.preventDefault(),O(M,!0)},startIcon:g.jsx(ii,{}),children:Q({id:ee("form.button.add-field"),defaultMessage:"Add another field"})}),g.jsx(dt,{type:x?"submit":"button",variant:"default",onClick:M=>{M.preventDefault(),L(),O(M,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}):o?g.jsxs(Ce,{gap:2,children:[!m&&g.jsxs(g.Fragment,{children:[g.jsx(dt,{type:"button",variant:"danger",onClick:M=>{M.preventDefault(),t()},children:Q({id:"global.delete",defaultMessage:"Delete"})}),g.jsx(dt,{type:"submit",variant:"default",onClick:M=>{M.preventDefault(),B(M,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}),m&&g.jsx(dt,{type:"submit",variant:"secondary",onClick:M=>{M.preventDefault(),A(M,!0)},children:Q({id:"global.continue",defaultMessage:"Continue"})})]}):y?g.jsxs(Ce,{gap:2,children:[!u&&g.jsxs(g.Fragment,{children:[g.jsx(dt,{type:"button",variant:"danger",onClick:M=>{M.preventDefault(),e()},children:Q({id:"global.delete",defaultMessage:"Delete"})}),g.jsx(dt,{type:"submit",variant:"default",onClick:M=>{M.preventDefault(),D(M,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}),u&&g.jsx(dt,{type:"submit",variant:"secondary",onClick:M=>{M.preventDefault(),I(M,!0)},children:Q({id:"global.continue",defaultMessage:"Continue"})})]}):r?g.jsxs(Ce,{gap:2,children:[g.jsx(dt,{type:x?"button":"submit",variant:"secondary",onClick:M=>{M.preventDefault(),K(M,!0)},startIcon:g.jsx(ii,{}),children:Q({id:ee("form.button.add-field"),defaultMessage:"Add another field"})}),g.jsx(dt,{type:x?"submit":"button",variant:"default",onClick:M=>{M.preventDefault(),L(),K(M,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}):null},m3=({actionType:e=null,attributeName:t,attributeType:n,contentTypeKind:r,dynamicZoneTarget:i,forTarget:s,modalType:o=null,targetUid:u,customFieldUid:c=null,showBackLink:p=!1})=>{const{formatMessage:d}=ct(),{components:m,contentTypes:v}=qn(),{onOpenModalAddField:y}=wa();let h="component",x=[];const b=s==="component"?m[u]:v[u],k=b?.info.displayName;if(o==="contentType"&&(h=r),["component"].includes(o||"")&&(h="component"),["component","contentType"].includes(o||"")){let A=ee(`modalForm.component.header-${e}`);return o==="contentType"&&(A=ee(`modalForm.${r}.header-create`)),e==="edit"&&(A=ee("modalForm.header-edit")),g.jsx(un.Header,{children:g.jsxs(Ce,{children:[g.jsx(Re,{children:g.jsx(go,{type:h})}),g.jsx(Re,{paddingLeft:3,children:g.jsx(un.Title,{children:d({id:A},{name:k})})})]})})}return x=[{label:k,info:{category:"category"in b&&b?.category||"",name:b?.info?.displayName}}],o==="chooseAttribute"&&(h=s==="component"?"component":"kind"in b?b.kind:""),o==="addComponentToDynamicZone"&&(h="dynamiczone",x.push({label:i})),(o==="attribute"||o==="customField")&&(h=n,x.push({label:t})),g.jsx(un.Header,{children:g.jsxs(Ce,{gap:3,children:[p&&g.jsx(tl,{"aria-label":d({id:ee("modalForm.header.back"),defaultMessage:"Back"}),startIcon:g.jsx(Cv,{}),onClick:()=>y({forTarget:s,targetUid:u}),href:"#back",isExternal:!1}),g.jsx(go,{type:h,customField:c}),g.jsx(BE,{label:x.map(({label:A})=>A).join(","),children:x.map(({label:A,info:I},F,O)=>{if(A=Ti(A),!A)return null;const D=`${A}.${F}`;return I?.category&&(A=`${A} (${Ti(I.category)} - ${Ti(I.name)})`),g.jsx(UE,{isCurrent:F===O.length-1,children:A},D)})})]})})},g3=({modalType:e,forTarget:t,kind:n,actionType:r,step:i})=>{switch(e){case"chooseAttribute":return ee(`modalForm.sub-header.chooseAttribute.${t?.includes("component")?"component":n||"collectionType"}`);case"attribute":return ee(`modalForm.sub-header.attribute.${r}${i!=="null"&&i!==null&&r!=="edit"?".step":""}`);case"customField":return ee(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return ee("modalForm.sub-header.addComponentToDynamicZone");default:return ee("configurations")}},v3=({actionType:e,modalType:t,forTarget:n,kind:r,step:i,attributeType:s,attributeName:o,customField:u})=>{const{formatMessage:c}=ct(),p=t==="customField"?u?.intlLabel:{id:ee(`attribute.${s}`)};return g.jsxs(Ce,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[g.jsx(Ie,{tag:"h2",variant:"beta",children:c({id:g3({actionType:e,forTarget:n,kind:r,step:i,modalType:t}),defaultMessage:"Add new field"},{type:p?Ti(c(p)):"",name:Ti(o),step:i})}),g.jsx(Ie,{variant:"pi",textColor:"neutral600",children:c({id:ee(`attribute.${s}.description`),defaultMessage:"A type for modeling data"})})]})},jx={alien:$T,apps:NT,archive:FT,arrowDown:MT,arrowLeft:Cv,arrowRight:zT,arrowUp:hv,attachment:dp,bell:OT,bold:RT,book:IT,briefcase:jT,brush:Lu,bulletList:TT,calendar:AT,car:ET,cast:ST,chartBubble:CT,chartCircle:kT,chartPie:wT,check:pv,clock:_T,cloud:xT,code:mv,cog:bT,collapse:yT,command:vT,connector:gT,crop:mT,crown:hT,cup:fT,cursor:dT,dashboard:pT,database:cT,discuss:uT,doctor:lT,earth:sT,emotionHappy:oT,emotionUnhappy:aT,envelop:iT,exit:rT,expand:uv,eye:Ov,feather:Th,file:nT,fileError:tT,filePdf:eT,fileXls:QA,fileZip:lv,fileCsv:XA,filter:YA,folder:lp,gate:JA,gift:KA,globe:GA,grid:VA,handHeart:qA,hashtag:WA,headphone:HA,heart:ZA,house:UA,information:BA,italic:LA,key:DA,landscape:PA,layer:$A,layout:NA,lightbulb:FA,link:MA,lock:zA,magic:OA,manyToMany:Rv,manyToOne:Iv,manyWays:jv,medium:RA,message:IA,microphone:jA,monitor:TA,moon:AA,music:EA,oneToMany:Tv,oneToOne:Av,oneWay:Ev,paint:Lu,paintBrush:Lu,paperPlane:SA,pencil:CA,phone:kA,picture:wA,pin:_A,pinMap:xA,plane:bA,play:yA,plus:ii,priceTag:vA,puzzle:gA,question:mA,quote:hA,refresh:fp,restaurant:fA,rocket:dA,rotate:pA,scissors:cA,search:Sv,seed:uA,server:lA,shield:sA,shirt:oA,shoppingCart:aA,slideshow:iA,stack:rA,star:nA,store:tA,strikeThrough:eA,sun:QE,television:XE,thumbDown:fv,thumbUp:dv,train:YE,twitter:JE,typhoon:KE,underline:GE,user:VE,volumeMute:qE,volumeUp:WE,walk:HE,wheelchair:ZE,write:Th},y3=gt(Ce)`
  label {
    ${wv()}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,b3=({iconKey:e,name:t,onChange:n,isSelected:r,ariaLabel:i})=>{const s=jx[e];return g.jsx(Je.Root,{name:t,required:!1,children:g.jsxs(Je.Label,{children:[g.jsxs(gv,{children:[i,g.jsx(Je.Input,{type:"radio",checked:r,onChange:n,value:e,"aria-checked":r})]}),g.jsx(ol,{label:e,children:g.jsx(Ce,{padding:2,cursor:"pointer",hasRadius:!0,background:r?"primary200":void 0,children:g.jsx(s,{width:"2rem",height:"2rem",fill:r?"primary600":"neutral300"})})})]})})},x3=({intlLabel:e,name:t,onChange:n,value:r=""})=>{const{formatMessage:i}=ct(),[s,o]=W.useState(!1),[u,c]=W.useState(""),p=Object.keys(jx),[d,m]=W.useState(p),v=W.useRef(null),y=W.useRef(null),h=()=>{o(!s)},x=({target:{value:S}})=>{c(S),m(()=>p.filter(A=>A.toLowerCase().includes(S.toLowerCase())))},b=()=>{h(),c(""),m(p)},k=()=>{n({target:{name:t,value:""}})};return W.useEffect(()=>{s&&y.current?.focus()},[s]),g.jsxs(g.Fragment,{children:[g.jsxs(Ce,{justifyContent:"space-between",paddingBottom:2,children:[g.jsx(Ie,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:i(e)}),g.jsxs(Ce,{gap:1,children:[s?g.jsx(vv,{ref:y,name:"searchbar",placeholder:i({id:ee("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||h()},onChange:x,value:u,onClear:b,clearLabel:i({id:ee("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:i({id:ee("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):g.jsx(sr,{ref:v,onClick:h,withTooltip:!1,label:i({id:ee("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:g.jsx(Sv,{})}),r&&g.jsx(ol,{label:i({id:ee("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:g.jsx(sr,{onClick:k,withTooltip:!1,label:i({id:ee("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:g.jsx(sp,{})})})]})]}),g.jsx(y3,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:d.length>0?d.map(S=>g.jsx(b3,{iconKey:S,name:t,onChange:n,isSelected:S===r,ariaLabel:i({id:ee("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:S})},S)):g.jsx(Re,{padding:4,grow:2,children:g.jsx(Ie,{variant:"delta",textColor:"neutral600",textAlign:"center",children:i({id:ee("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},_3=({description:e,error:t,intlLabel:n,modifiedData:r,name:i,onChange:s,value:o})=>{const{formatMessage:u}=ct(),c=W.useRef(s),p=r?.displayName||"",d=W.useRef(p),m=W.useRef(o);W.useEffect(()=>{if(p&&p!==d.current){const x=zv(p);let b=x;try{b=ha(x,2)}catch{}c.current({target:{name:i,value:b}}),m.current=b,d.current=p}else p||(c.current({target:{name:i,value:""}}),m.current="",d.current="")},[p,i,o]);const v=t?u({id:t,defaultMessage:t}):"",y=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",h=u(n);return g.jsxs(Je.Root,{error:v,hint:y,name:i,children:[g.jsx(Je.Label,{children:h}),g.jsx(Ur,{onChange:s,value:o||"",type:"text"}),g.jsx(Je.Error,{})]})},Ug=e=>{if(e instanceof Date&&Zg(e))return e;if(typeof e=="string"||typeof e=="number"){const t=new Date(e);if(Zg(t))return t}},Zg=e=>!isNaN(e.getTime()),w3=e=>{const[t,n]=e.split(":");return`${t}:${n}`},k3=e=>e.split(":").length===2?`${e}:00.000`:e,C3=e=>{if(e)return e.split(":").length>2?w3(e):e},S3=e=>{if(e)return k3(e)},E3=({value:e})=>C3(e),Hg=(e,t,n,r)=>{const i=S3(r);e({target:{name:t,value:i,type:n}})},A3=({autoComplete:e,customInputs:t,description:n,disabled:r,intlLabel:i,labelAction:s,error:o,name:u,onChange:c,onDelete:p,options:d=[],placeholder:m,required:v,step:y,type:h,value:x,isNullable:b,autoFocus:k,attribute:S,attributeName:A,conditionFields:I,...F})=>{const{formatMessage:O}=ct(),D=(ue,z)=>{if(ue&&(z==="minLength"&&z in ue||z==="maxLength"&&z in ue||z==="max"&&z in ue||z==="min"&&z in ue))return ue[z]},{hint:B}=T3({description:n,fieldSchema:{minLength:D(S,"minLength"),maxLength:D(S,"maxLength"),max:D(S,"max"),min:D(S,"min")},type:S?.type||h}),[K,V]=W.useState(!1),L=t?t[h]:null,Q=x??void 0,M=Q??"";function Y(ue){if(!ue)return null;if(typeof ue=="string")return O({id:ue,defaultMessage:ue});const z={...ue.values};return O({id:ue.id,defaultMessage:ue?.defaultMessage??ue.id},z)}const w=Y(o)??void 0;if(L)return g.jsx(L,{...F,attribute:S,description:n,hint:B,disabled:r,intlLabel:i,labelAction:s,error:w||"",name:u,onChange:c,onDelete:p,options:d,required:v,placeholder:m,type:h,value:Q,autoFocus:k,attributeName:A,conditionFields:I});const P=i.id?O({id:i.id,defaultMessage:i.defaultMessage},{...i.values}):u,xe=m?O({id:m.id,defaultMessage:m.defaultMessage},{...m.values}):"",oe=()=>{switch(h){case"json":return g.jsx(ZT,{value:Q,disabled:r,onChange:ue=>{const z=S&&"required"in S&&!S?.required&&!ue.length?null:ue;c({target:{name:u,value:z}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return g.jsx(UT,{checked:x===null?null:x||!1,disabled:r,offLabel:O({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:O({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:ue=>{c({target:{name:u,value:ue.target.checked}})}});case"checkbox":return g.jsx(nl,{disabled:r,onCheckedChange:ue=>{c({target:{name:u,value:ue}})},checked:!!Q,children:P});case"datetime":{const ue=Ug(Q);return g.jsx(BT,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:z=>{const se=z?z.toISOString():null;c({target:{name:u,value:se,type:h}})},onClear:()=>c({target:{name:u,value:null,type:h}}),placeholder:xe,value:ue})}case"date":{const ue=Ug(Q);return g.jsx(LT,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:z=>{c({target:{name:u,value:z?wj(z,{representation:"date"}):null,type:h}})},onClear:()=>c({target:{name:u,value:null,type:h}}),placeholder:xe,value:ue})}case"number":return g.jsx(kv,{disabled:r,onValueChange:ue=>{c({target:{name:u,value:ue,type:h}})},placeholder:xe,step:y,value:Q,autoFocus:k});case"email":return g.jsx(Ur,{autoComplete:e,disabled:r,onChange:ue=>{c({target:{name:u,value:ue.target.value,type:h}})},placeholder:xe,type:"email",value:M,autoFocus:k});case"timestamp":case"text":case"string":return g.jsx(Ur,{autoComplete:e,disabled:r,onChange:ue=>{c({target:{name:u,value:ue.target.value,type:h}})},placeholder:xe,type:"text",value:M,autoFocus:k});case"password":return g.jsx(Ur,{autoComplete:e,disabled:r,endAction:g.jsx("button",{"aria-label":O({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{V(ue=>!ue)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:K?g.jsx(Ov,{fill:"neutral500"}):g.jsx(DT,{fill:"neutral500"})}),onChange:ue=>{c({target:{name:u,value:ue.target.value,type:h}})},placeholder:xe,type:K?"text":"password",value:M});case"select":return g.jsx(Zr,{disabled:r,onChange:ue=>{c({target:{name:u,value:ue,type:"select"}})},placeholder:xe,value:Q,children:d.map(({metadatas:{intlLabel:ue,disabled:z,hidden:se},key:X,value:R})=>g.jsx(Bn,{value:R,disabled:z,hidden:se,children:O(ue)},X))});case"textarea":return g.jsx(cp,{disabled:r,onChange:ue=>c({target:{name:u,value:ue.target.value,type:h}}),placeholder:xe,value:M});case"time":{const ue=E3({value:Q});return g.jsx(PT,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:z=>Hg(c,u,h,z),onClear:()=>Hg(c,u,h,void 0),value:ue})}default:return g.jsx(Ur,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return g.jsxs(Je.Root,{error:w,name:u,hint:B,required:v,children:[h!=="checkbox"?g.jsx(Je.Label,{action:s,children:P}):null,oe(),g.jsx(Je.Error,{}),g.jsx(Je.Hint,{})]})},T3=({description:e,fieldSchema:t,type:n})=>{const{formatMessage:r}=ct(),i=()=>e?.id?r({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:o,minimum:u}=I3(t),c=j3({type:n,minimum:u,maximum:o}),p=typeof u=="number",d=typeof o=="number",m=d&&p,v=d||p;return!e?.id&&!v?"":r({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:u,max:o,description:i(),unit:c?.message&&v?r(c.message,c.values):null,divider:m?r({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:v?g.jsx("br",{}):null})})()}},j3=({type:e,minimum:t,maximum:n})=>{if(e&&!["string","uid","richtext","email","password","text"].includes(e))return{};const r=Math.max(t||0,n||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:r}}},I3=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:n,max:r,min:i}=e;let s,o;const u=Number(i),c=Number(t);Number.isNaN(u)?Number.isNaN(c)||(s=c):s=u;const p=Number(r),d=Number(n);return Number.isNaN(p)?Number.isNaN(d)||(o=d):o=p,{maximum:o,minimum:s}},ep=W.memo(A3,io),R3=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:r}=qn(),i=al(),s=r.filter(Ax),o=n[t];if(!o)return null;const u=({uid:c,plugin:p,title:d,restrictRelationsTo:m})=>()=>{const v=p?`${p}_${d}`:d;i(Qt.onChangeRelationTarget({target:{value:c,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:v,targetContentTypeAllowedRelations:m}}))};return g.jsxs(kn.Root,{children:[g.jsx(O3,{children:`${o.info.displayName} ${o.plugin?`(from: ${o.plugin})`:""}`}),g.jsx(kn.Content,{zIndex:"popover",children:s.map(({uid:c,title:p,restrictRelationsTo:d,plugin:m})=>g.jsxs(kn.Item,{onSelect:u({uid:c,plugin:m,title:p,restrictRelationsTo:d}),children:[p,"",m&&g.jsxs(g.Fragment,{children:["(from: ",m,")"]})]},c))})]})},O3=gt(kn.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,Wg=({disabled:e=!1,error:t,header:n,isMain:r=!1,name:i,onChange:s,oneThatIsCreatingARelationWithAnother:o="",target:u,value:c=""})=>g.jsxs(Re,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[g.jsx(Ce,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center",children:r?g.jsx(Ie,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:n}):g.jsx(R3,{target:u,oneThatIsCreatingARelationWithAnother:o})}),g.jsx(il,{background:"neutral200"}),g.jsx(Re,{padding:4,children:g.jsx(ep,{disabled:e,error:t?.id||null,intlLabel:{id:ee("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:s,type:"text",value:c})})]});var z3=WT,M3=HT,F3="[object RegExp]";function N3(e){return M3(e)&&z3(e)==F3}var $3=N3,P3=$3,D3=qT,qg=VT,Vg=qg&&qg.isRegExp,L3=Vg?D3(Vg):P3,B3=L3,U3=GT,Z3=U3("length"),H3=Z3,Ix="\\ud800-\\udfff",W3="\\u0300-\\u036f",q3="\\ufe20-\\ufe2f",V3="\\u20d0-\\u20ff",G3=W3+q3+V3,K3="\\ufe0e\\ufe0f",J3="["+Ix+"]",tp="["+G3+"]",np="\\ud83c[\\udffb-\\udfff]",Y3="(?:"+tp+"|"+np+")",Rx="[^"+Ix+"]",Ox="(?:\\ud83c[\\udde6-\\uddff]){2}",zx="[\\ud800-\\udbff][\\udc00-\\udfff]",X3="\\u200d",Mx=Y3+"?",Fx="["+K3+"]?",Q3="(?:"+X3+"(?:"+[Rx,Ox,zx].join("|")+")"+Fx+Mx+")*",eZ=Fx+Mx+Q3,tZ="(?:"+[Rx+tp+"?",tp,Ox,zx,J3].join("|")+")",Gg=RegExp(np+"(?="+np+")|"+tZ+eZ,"g");function nZ(e){for(var t=Gg.lastIndex=0;Gg.test(e);)++t;return t}var rZ=nZ,iZ=H3,aZ=Mv,oZ=rZ;function sZ(e){return aZ(e)?oZ(e):iZ(e)}var lZ=sZ,Kg=YT,uZ=ej,cZ=Mv,pZ=KT,dZ=B3,fZ=lZ,hZ=QT,mZ=JT,Jg=XT,gZ=30,vZ="...",yZ=/\w*$/;function bZ(e,t){var n=gZ,r=vZ;if(pZ(t)){var i="separator"in t?t.separator:i;n="length"in t?mZ(t.length):n,r="omission"in t?Kg(t.omission):r}e=Jg(e);var s=e.length;if(cZ(e)){var o=hZ(e);s=o.length}if(n>=s)return e;var u=n-fZ(r);if(u<1)return r;var c=o?uZ(o,0,u).join(""):e.slice(0,u);if(i===void 0)return c+r;if(o&&(u+=c.length-u),dZ(i)){if(e.slice(u).search(i)){var p,d=c;for(i.global||(i=RegExp(i.source,Jg(yZ.exec(i))+"g")),i.lastIndex=0;p=i.exec(d);)var m=p.index;c=c.slice(0,m===void 0?u:m)}}else if(e.indexOf(Kg(i),u)!=u){var v=c.lastIndexOf(i);v>-1&&(c=c.slice(0,v))}return c+r}var xZ=bZ;const Yg=Mi(xZ),_Z=gt(Re)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,wZ=gt(Re)`
  background: ${({theme:e,$isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
    background: ${({theme:e})=>e.colors.neutral150};

    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral300};
      }
    }
  }
  display: flex;
  justify-content: center;
  align-items: center;
`,kZ=gt(Ce)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,CZ={oneWay:Ev,oneToOne:Av,oneToMany:Tv,manyToOne:Iv,manyToMany:Rv,manyWay:jv},SZ=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],EZ=["oneWay","manyWay"],AZ=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:r,targetUid:i})=>{const s=al(),{formatMessage:o}=ct(),{contentTypes:u}=qn(),p=(e==="component"?"component":Wt(u,[i,"kind"],""))==="collectionType"?SZ:EZ,d=n==="manyToOne",m=Wt(u,[r,"info","displayName"],"unknown"),v=d?m:t,y=d?t:m,h=ha(v,n==="manyToMany"?2:1),x=Wt(u,[r,"restrictRelationsTo"],null),b=ha(y,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?g.jsxs(Ce,{style:{flex:1},children:[g.jsx(_Z,{children:g.jsx(Ce,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:g.jsx(hp,{tagName:"button",children:g.jsx(Ce,{gap:3,children:p.map(k=>{const S=CZ[k],A=x===null||x.includes(k);return g.jsx(wZ,{tag:"button",$isSelected:n===k,disabled:!A,onClick:()=>{A&&s(Qt.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:t,value:k}}))},padding:2,type:"button","aria-label":o({id:ee(`relation.${k}`)}),"aria-pressed":n===k,"data-relation-type":k,children:g.jsx(S,{"aria-hidden":"true"},k)},k)})})})})}),g.jsxs(kZ,{justifyContent:"center",children:[g.jsxs(Ie,{children:[Yg(h,{length:24}),""]}),g.jsxs(Ie,{textColor:"primary600",children:[o({id:ee(`relation.${n}`)}),""]}),g.jsx(Ie,{children:Yg(b,{length:24})})]})]}):null},TZ=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:r,onChange:i,targetUid:s})=>{const o=mp(n.relation,n.targetAttribute);return g.jsxs(Ce,{style:{position:"relative"},children:[g.jsx(Wg,{isMain:!0,header:t,error:e?.name||null,name:"name",onChange:i,value:n?.name||""}),g.jsx(AZ,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:t,relationType:o,target:n.target,targetUid:s}),g.jsx(Wg,{disabled:["oneWay","manyWay"].includes(o),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:n?.targetAttribute||""})]})},jZ=({error:e=null,intlLabel:t,name:n,onChange:r,value:i=void 0,isCreating:s,dynamicZoneTarget:o})=>{const{formatMessage:u}=ct(),{allComponentsCategories:c}=qn(),[p,d]=W.useState(c),m=e?u({id:e,defaultMessage:e}):"",v=u(t),y=x=>{r({target:{name:n,value:x,type:"select-category"}})},h=x=>{d(b=>[...b,x]),y(x)};return g.jsxs(Je.Root,{error:m,name:n,children:[g.jsx(Je.Label,{children:v}),g.jsx(tj,{disabled:!s&&!o,onChange:y,onCreateOption:h,value:i,creatable:!0,children:p.map(x=>g.jsx(nj,{value:x,children:x},x))}),g.jsx(Je.Error,{})]})},rp=(e,t)=>t.find(n=>n.component===e),Nx=(e,t,n=0)=>{const r=rp(e,t);if(!r||!r.childComponents||r.childComponents.length===0)return n;let i=n;return r.childComponents.forEach(s=>{const o=Nx(s.component,t,n+1);o>i&&(i=o)}),i},$x=(e,t)=>{const n=(s,o)=>{const u=[];if(u.push(o),!s.uidsOfAllParents)return u;for(const c of s.uidsOfAllParents){const p=rp(c,t);p&&u.push(...n(p,o+1))}return u},r=rp(e,t);return r?Math.max(...n(r,1)):0},IZ=({error:e=null,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:r,isCreatingComponentWhileAddingAField:i,componentToCreate:s,name:o,onChange:u,targetUid:c,forTarget:p,value:d})=>{const{formatMessage:m}=ct(),v=e?m({id:e,defaultMessage:e}):"",y=m(t),{componentsGroupedByCategory:h,componentsThatHaveOtherComponentInTheirAttributes:x,nestedComponents:b}=qn(),k=p==="component";let S=Object.entries(h).reduce((A,I)=>{const[F,O]=I,D=O.map(B=>({uid:B.uid,label:B.info.displayName,categoryName:F}));return[...A,...D]},[]);return n&&(S=S.filter(({uid:A})=>{const I=Nx(A,x),F=$x(c,b);return I+F<=Fv})),k&&(S=S.filter(A=>A.uid!==c)),i&&(S=[{uid:d,label:s?.displayName,categoryName:s?.category}]),g.jsxs(Je.Root,{error:v,name:o,children:[g.jsx(Je.Label,{children:y}),g.jsx(Zr,{disabled:i||!r,onChange:A=>{u({target:{name:o,value:A,type:"select-category"}})},value:d||"",children:S.map(A=>g.jsx(Bn,{value:A.uid,children:`${A.categoryName} - ${A.label}`},A.uid))}),g.jsx(Je.Error,{})]})},RZ=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:r,value:i,targetUid:s})=>{const{formatMessage:o}=ct(),{componentsGroupedByCategory:u,contentTypes:c}=qn(),p=Qc(c[s].attributes,e);if(!p)return null;const d="components"in p?p?.components:[],m=Object.keys(u).reduce((h,x)=>{const b=u[x].filter(({uid:k})=>!d.includes(k));return b.length>0&&(h[x]=b),h},{}),v=Object.entries(m).reduce((h,x)=>{const[b,k]=x,S={label:b,children:k.map(({uid:A,info:{displayName:I}})=>({label:I,value:A}))};return h.push(S),h},[]),y=o({id:ee("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i?.length??0});return g.jsxs(Je.Root,{name:n,children:[g.jsx(Je.Label,{children:o(t)}),g.jsx(xv,{id:"select1",customizeContent:()=>y,onChange:h=>{r({target:{name:n,value:h,type:"select-components"}})},options:v,value:i||[]})]})},OZ=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:i,options:s,value:o=""})=>{const{formatMessage:u}=ct(),c=u(e),p=t?u({id:t,defaultMessage:t}):"",d=m=>{i({target:{name:r,value:m,type:"select"}}),o&&n.default!==void 0&&n.default!==null&&i({target:{name:"default",value:null}})};return g.jsxs(Je.Root,{error:p,name:r,children:[g.jsx(Je.Label,{children:c}),g.jsx(Zr,{onChange:d,value:o||"",children:s.map(({metadatas:{intlLabel:m,disabled:v,hidden:y},key:h,value:x})=>g.jsx(Bn,{value:x,disabled:v,hidden:y,children:u({id:m.id,defaultMessage:m.defaultMessage},m.values)},h))}),g.jsx(Je.Error,{})]})},zZ=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:i,options:s,value:o=""})=>{const{formatMessage:u}=ct(),c=u(e),p=t?u({id:t,defaultMessage:t}):"",d=m=>{i({target:{name:r,value:m,type:"select"}}),o&&(m==="biginteger"&&o!=="biginteger"&&(n.default!==void 0&&n.default!==null&&i({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&i({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&i({target:{name:"min",value:null}})),typeof m=="string"&&["decimal","float","integer"].includes(m)&&o==="biginteger"&&(n.default!==void 0&&n.default!==null&&i({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&i({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&i({target:{name:"min",value:null}})))};return g.jsxs(Je.Root,{error:p,name:r,children:[g.jsx(Je.Label,{children:c}),g.jsx(Zr,{onChange:d,value:o||"",children:s.map(({metadatas:{intlLabel:m,disabled:v,hidden:y},key:h,value:x})=>g.jsx(Bn,{value:x,disabled:v,hidden:y,children:u(m)},h))}),g.jsx(Je.Error,{})]})},MZ=({description:e=null,error:t=null,intlLabel:n,modifiedData:r,name:i,onChange:s,value:o=null})=>{const{formatMessage:u}=ct(),c=W.useRef(s),p=W.useRef(o),d=W.useRef(r?.displayName||""),m=r?.displayName||"";W.useEffect(()=>{if(m&&m!==d.current){const x=zv(m);c.current({target:{name:i,value:x}}),p.current=x,d.current=m}else m||(c.current({target:{name:i,value:""}}),p.current="",d.current="")},[m,i,o]);const v=t?u({id:t,defaultMessage:t}):"",y=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",h=u(n);return g.jsxs(Je.Root,{error:v,hint:y,name:i,children:[g.jsx(Je.Label,{children:h}),g.jsx(Ur,{onChange:s,value:o||"",type:"text"}),g.jsx(Je.Error,{}),g.jsx(Je.Hint,{})]})},y8=(e,t)=>{const n=[];return Object.entries(e).forEach(([r,i])=>{if(i.attributes){const s=Array.isArray(i.attributes)?i.attributes.reduce((o,u,c)=>(o[c.toString()]=u,o),{}):i.attributes;Object.entries(s).forEach(([o,u])=>{u.conditions?.visible&&Object.entries(u.conditions.visible).forEach(([,c])=>{const[p]=c;p&&p.var===t&&n.push({contentTypeUid:r,contentType:i.info.displayName,attribute:u.name||o})})})}}),n},FZ=(e,t,n)=>{if(!e?.visible)return"";const[[r,i]]=Object.entries(e.visible),[s,o]=i,u=t.find(v=>v.name===s.var),c=u?u.name:s.var,p=r==="=="?"is":"is not",d=String(o);return`If ${c} ${p} ${d}, then ${r==="=="?"Show":"Hide"} ${n}`},NZ=(e,t)=>e.filter(n=>{const r=n.type==="boolean"||n.type==="enumeration",i=n.name!==t;return r&&i}).map(n=>({name:n.name,type:n.type,enum:n.type==="enumeration"?n.enum:void 0})),Xg=({form:e,formErrors:t,genericInputProps:n,modifiedData:r,onChange:i})=>{const{formatMessage:s}=ct();return g.jsx(g.Fragment,{children:e.map((o,u)=>o.items.length===0?null:g.jsxs(Re,{children:[o.sectionTitle&&g.jsx(Re,{paddingBottom:4,children:g.jsx(Ie,{variant:"delta",tag:"h3",children:s(o.sectionTitle)})}),o.intlLabel&&g.jsx(Ie,{variant:"pi",textColor:"neutral600",children:s(o.intlLabel)}),g.jsx(or.Root,{gap:4,children:o.items.map((c,p)=>{const d=`${u}.${p}`,m=Wt(r,c.name,void 0),v=Object.keys(t).find(h=>h===c.name),y=v?t[v].id:Wt(t,[...c.name.split(".").filter(h=>h!=="componentToCreate"),"id"],null);if(c.type==="pushRight")return g.jsx(or.Item,{col:c.size||6,direction:"column",alignItems:"stretch",children:g.jsx("div",{})},c.name||d);if(c.type==="condition-form"){const h=Wt(r,c.name),x=n.contentTypeSchema?.attributes||[];if(!n.contentTypeSchema)return console.warn("contentTypeSchema is undefined, skipping condition form"),null;const b=NZ(x,r.name),k=s({id:"form.attribute.condition.no-fields",defaultMessage:"No boolean or enumeration fields available to set conditions on."});return g.jsx(or.Item,{col:c.size||12,direction:"column",alignItems:"stretch",children:!h||Object.keys(h).length===0?g.jsxs(Re,{children:[h&&Object.keys(h).length>0&&g.jsx(Ie,{variant:"sigma",textColor:"neutral800",marginBottom:2,children:FZ(h,b,n.attributeName||r.name)}),g.jsx(ol,{label:k,children:g.jsx(dt,{marginTop:h&&Object.keys(h).length>0?0:4,fullWidth:!0,variant:"secondary",onClick:()=>{i({target:{name:c.name,value:{visible:{"==":[{var:""},""]}}}})},startIcon:g.jsx("span",{"aria-hidden":!0,children:""}),disabled:b.length===0,children:s({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})})})]}):g.jsx(ep,{...c,...n,error:y,onChange:i,value:m,autoFocus:p===0,attributeName:r.name,conditionFields:b,onDelete:()=>{i({target:{name:c.name}})}})},c.name||d)}return g.jsx(or.Item,{col:c.size||6,direction:"column",alignItems:"stretch",children:g.jsx(ep,{...c,...n,error:y,onChange:i,value:m,autoFocus:p===0})},c.name||d)})})]},u))})},$Z=({description:e=null,disabled:t=!1,error:n="",intlLabel:r,labelAction:i,name:s,onChange:o,placeholder:u=null,value:c=""})=>{const{formatMessage:p}=ct(),d=n?p({id:n,defaultMessage:n}):"",m=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",v=p(r),y=u?p({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",h=Array.isArray(c)?c.join(`
`):"",x=b=>{const k=b.target.value.split(`
`);o({target:{name:s,value:k}})};return g.jsxs(Je.Root,{error:d,hint:m,name:s,children:[g.jsx(Je.Label,{action:i,children:v}),g.jsx(cp,{disabled:t,onChange:x,placeholder:y,value:h}),g.jsx(Je.Error,{}),g.jsx(Je.Hint,{})]})},PZ=({disabled:e,tooltipMessage:t,onClick:n,marginTop:r=4})=>{const{formatMessage:i}=ct(),s=g.jsx(dt,{marginTop:r,fullWidth:!0,variant:"secondary",disabled:e,onClick:n,startIcon:g.jsx("span",{"aria-hidden":!0,children:""}),children:i({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})});return t?g.jsx(ol,{description:t,children:s}):s},DZ=gt(go)`
  width: 16px !important;
  height: 16px !important;
  svg {
    width: 16px !important;
    height: 16px !important;
  }
`,LZ=e=>{if(!e?.visible)return{dependsOn:"",operator:"is",value:"",action:"show"};const[[t,n]]=Object.entries(e.visible),[r,i]=n;return{dependsOn:r.var,operator:t==="=="?"is":"isNot",value:i,action:"show"}},BZ=e=>{if(!e.dependsOn)return null;const t=Nv(),n={dependsOn:e.dependsOn,operator:e.operator,value:e.value};try{return t.validate(n),{visible:{[e.operator==="is"&&e.action==="show"||e.operator==="isNot"&&e.action==="hide"?"==":"!="]:[{var:e.dependsOn},e.value]}}}catch{return null}},UZ=({name:e,value:t,onChange:n,onDelete:r,attributeName:i,conditionFields:s=[]})=>{const{formatMessage:o}=ct(),[u,c]=W.useState(LZ(t)),[p,d]=W.useState(!1),m=!!t?.visible;Array.isArray(s)||(s=[]);const v=s.find(F=>F.name===u.dependsOn),y=v?.type==="enumeration",h=F=>{c(F);const O=Nv(),D={dependsOn:F.dependsOn,operator:F.operator,value:F.value};try{O.validate(D);const B=F.operator==="is"&&F.action==="show"||F.operator==="isNot"&&F.action==="hide"?"==":"!=",K=F.dependsOn?{visible:{[B]:[{var:F.dependsOn},F.value]}}:null;K&&n({target:{name:e,value:K}})}catch{}},x=()=>{const F={dependsOn:"",operator:"is",value:"",action:"show"};c(F),n({target:{name:e,value:BZ(F)}})},b=()=>{c({dependsOn:"",operator:"is",value:"",action:"show"}),n({target:{name:e,value:null}}),r(),d(!1)},k=F=>{const O=F?.toString()||"",B=s.find(V=>V.name===O)?.type==="enumeration",K={...u,dependsOn:O,value:O?B?"":!1:u.value};h(K)},S=F=>{const O=F?.toString()||"is",D={...u,operator:O};h(D)},A=F=>{const O=y?F?.toString():F?.toString()==="true",D={...u,value:O};h(D)},I=F=>{const O=F?.toString()||"show",D={...u,action:O};h(D)};return m?g.jsx(Re,{marginTop:2,children:g.jsxs(Re,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderWidth:.5,borderStyle:"solid",children:[g.jsxs(Ce,{justifyContent:"space-between",alignItems:"center",padding:4,children:[g.jsx(Ie,{variant:"sigma",textColor:"neutral800",children:o({id:ee("form.attribute.condition.title"),defaultMessage:"Condition for {name}"},{name:g.jsx("strong",{children:i})})}),g.jsxs(Oi.Root,{open:p,onOpenChange:d,children:[g.jsx(Oi.Trigger,{children:g.jsx(sr,{label:"Delete",children:g.jsx(sp,{})})}),g.jsx(yo,{onConfirm:b,children:o({id:ee("popUpWarning.bodyMessage.delete-condition"),defaultMessage:"Are you sure you want to delete this condition?"})})]})]}),g.jsxs(Re,{background:"neutral100",padding:4,children:[g.jsx(Re,{paddingBottom:2,children:g.jsx(Ie,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:ee("form.attribute.condition.if"),defaultMessage:"IF"})})}),g.jsxs(Ce,{gap:4,children:[g.jsx(Re,{minWidth:0,flex:1,children:g.jsx(Je.Root,{name:`${e}.field`,children:g.jsx(Zr,{value:u.dependsOn,onChange:k,placeholder:o({id:ee("form.attribute.condition.field"),defaultMessage:"field"}),children:s.map(F=>g.jsx(Bn,{value:F.name,children:g.jsxs(Ce,{gap:2,alignItems:"center",children:[g.jsx(DZ,{type:F.type}),g.jsx("span",{children:F.name})]})},F.name))})})}),g.jsx(Re,{minWidth:0,flex:1,children:g.jsx(Je.Root,{name:`${e}.operator`,children:g.jsxs(Zr,{value:u.operator,onChange:S,disabled:!u.dependsOn,placeholder:o({id:ee("form.attribute.condition.operator"),defaultMessage:"condition"}),children:[g.jsx(Bn,{value:"is",children:o({id:ee("form.attribute.condition.operator.is"),defaultMessage:"is"})}),g.jsx(Bn,{value:"isNot",children:o({id:ee("form.attribute.condition.operator.isNot"),defaultMessage:"is not"})})]})})}),g.jsx(Re,{minWidth:0,flex:1,children:g.jsx(Je.Root,{name:`${e}.value`,children:g.jsx(Zr,{value:u.value?.toString()||"",onChange:A,disabled:!u.dependsOn,placeholder:o({id:ee("form.attribute.condition.value"),defaultMessage:"value"}),children:y&&v?.enum?v.enum.map(F=>g.jsx(Bn,{value:F,children:F},F)):g.jsxs(g.Fragment,{children:[g.jsx(Bn,{value:"true",children:o({id:ee("form.attribute.condition.value.true"),defaultMessage:"true"})}),g.jsx(Bn,{value:"false",children:o({id:ee("form.attribute.condition.value.false"),defaultMessage:"false"})})]})})})})]})]}),g.jsxs(Re,{background:"neutral100",padding:4,children:[g.jsx(Re,{paddingBottom:4,children:g.jsx(Ie,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:ee("form.attribute.condition.then"),defaultMessage:"THEN"})})}),g.jsx(Re,{paddingBottom:4,children:g.jsx(Je.Root,{name:`${e}.action`,children:g.jsxs(Zr,{value:u.action,onChange:I,placeholder:o({id:ee("form.attribute.condition.action"),defaultMessage:"action"}),children:[g.jsxs(Bn,{value:"show",children:["Show ",g.jsx("span",{style:{fontWeight:"bold"},children:i||e})]}),g.jsxs(Bn,{value:"hide",children:["Hide ",g.jsx("span",{style:{fontWeight:"bold"},children:i||e})]})]})})})]})]})}):g.jsx(Re,{padding:4,margin:4,hasRadius:!0,background:"neutral0",borderColor:"neutral200",children:g.jsx(PZ,{onClick:x})})},Cr={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:ee("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},ZZ={sections:[{sectionTitle:null,items:[Cr]}]},ya={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:ee("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:ee("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:ee("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},Le={default:{name:"default",type:"text",intlLabel:{id:ee("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:ee("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:ee("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:ee("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:ee("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:ee("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:ee("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:ee("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:ee("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:ee("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:ee("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:ee("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:ee("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},yn={sectionTitle:{id:ee("form.attribute.condition.title"),defaultMessage:"Condition"},intlLabel:{id:ee("form.attribute.condition.description"),defaultMessage:"Toggle field settings depending on the value of another boolean or enumeration field."},items:[{name:"conditions",type:"condition-form",intlLabel:{id:ee("form.attribute.condition.label"),defaultMessage:"Conditions"},validations:{required:!0}}]},HZ={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.private]},yn]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:ee("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.private]},yn]}},component({repeatable:e},t){if(t==="1")return{sections:ya.advanced()};if(e){const n={...Le.min,intlLabel:{id:ee("form.attribute.item.minimumComponents"),defaultMessage:"Minimum components"}},r={...Le.max,intlLabel:{id:ee("form.attribute.item.maximumComponents"),defaultMessage:"Maximum components"}};return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.private,n,r]},yn]}}return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.private]},yn]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...Le.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.unique,Le.private]},yn]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.max,Le.min]},yn]}},email(){return{sections:[{sectionTitle:null,items:[{...Le.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.unique,Le.maxLength,Le.minLength,Le.private]},yn]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:ee("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:ee("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:ee("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.private]},yn]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.private]},yn]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:ee("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.private]},yn]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:ee("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.unique,Le.max,Le.min,Le.private]},yn]}},password(){return{sections:[{sectionTitle:null,items:[Le.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.maxLength,Le.minLength,Le.private]},yn]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.private]},yn]}},richtext(){return{sections:[{sectionTitle:null,items:[Le.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.maxLength,Le.minLength,Le.private]},yn]}},text(){return{sections:[{sectionTitle:null,items:[Le.default,Le.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.unique,Le.maxLength,Le.minLength,Le.private]},yn]}},uid(e){return{sections:[{sectionTitle:null,items:[{...Le.default,disabled:!!e.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Le.required,Le.maxLength,Le.minLength,Le.private,Le.regex]},yn]}}},ip={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:ee("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:ee("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:ee("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:ee("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},WZ={component(e,t){if(t==="1"){const n=e.createComponent===!0?ya.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[ip]},...n]}}return{sections:[{sectionTitle:null,items:[Cr,{name:"component",type:"select-component",intlLabel:{id:ee("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:ee("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:ee("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:ee("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:ee("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Cr,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:ee("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:ee("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:ee("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Cr]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:ee("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:ee("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Cr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:ee("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:ee("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:ee("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:ee("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Cr,{intlLabel:{id:ee("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:ee("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:ee("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:ee("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:ee("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Cr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:ee("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:ee("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:ee("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:ee("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Cr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:ee("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:ee("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:ee("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:ee("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const r=n.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...Cr,placeholder:{id:ee("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:ee("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},Qg={advanced:HZ,base:WZ};var qZ=rj;function VZ(e){return e&&e.length?qZ(e):[]}var GZ=VZ;const KZ=Mi(GZ),xc=e=>e?ij(e,{decamelize:!1,lowercase:!1,separator:"_"}):"";var el={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */el.exports;(function(e,t){(function(){function n(J,ce,T){switch(T.length){case 0:return J.call(ce);case 1:return J.call(ce,T[0]);case 2:return J.call(ce,T[0],T[1]);case 3:return J.call(ce,T[0],T[1],T[2])}return J.apply(ce,T)}function r(J,ce,T,Me){for(var He=-1,Ne=J==null?0:J.length;++He<Ne;){var Sn=J[He];ce(Me,Sn,T(Sn),J)}return Me}function i(J,ce){for(var T=-1,Me=J==null?0:J.length;++T<Me&&ce(J[T],T,J)!==!1;);return J}function s(J,ce){for(var T=J==null?0:J.length;T--&&ce(J[T],T,J)!==!1;);return J}function o(J,ce){for(var T=-1,Me=J==null?0:J.length;++T<Me;)if(!ce(J[T],T,J))return!1;return!0}function u(J,ce){for(var T=-1,Me=J==null?0:J.length,He=0,Ne=[];++T<Me;){var Sn=J[T];ce(Sn,T,J)&&(Ne[He++]=Sn)}return Ne}function c(J,ce){return!!(J!=null&&J.length)&&A(J,ce,0)>-1}function p(J,ce,T){for(var Me=-1,He=J==null?0:J.length;++Me<He;)if(T(ce,J[Me]))return!0;return!1}function d(J,ce){for(var T=-1,Me=J==null?0:J.length,He=Array(Me);++T<Me;)He[T]=ce(J[T],T,J);return He}function m(J,ce){for(var T=-1,Me=ce.length,He=J.length;++T<Me;)J[He+T]=ce[T];return J}function v(J,ce,T,Me){var He=-1,Ne=J==null?0:J.length;for(Me&&Ne&&(T=J[++He]);++He<Ne;)T=ce(T,J[He],He,J);return T}function y(J,ce,T,Me){var He=J==null?0:J.length;for(Me&&He&&(T=J[--He]);He--;)T=ce(T,J[He],He,J);return T}function h(J,ce){for(var T=-1,Me=J==null?0:J.length;++T<Me;)if(ce(J[T],T,J))return!0;return!1}function x(J){return J.split("")}function b(J){return J.match(a0)||[]}function k(J,ce,T){var Me;return T(J,function(He,Ne,Sn){if(ce(He,Ne,Sn))return Me=Ne,!1}),Me}function S(J,ce,T,Me){for(var He=J.length,Ne=T+(Me?1:-1);Me?Ne--:++Ne<He;)if(ce(J[Ne],Ne,J))return Ne;return-1}function A(J,ce,T){return ce===ce?ge(J,ce,T):S(J,F,T)}function I(J,ce,T,Me){for(var He=T-1,Ne=J.length;++He<Ne;)if(Me(J[He],ce))return He;return-1}function F(J){return J!==J}function O(J,ce){var T=J==null?0:J.length;return T?L(J,ce)/T:Di}function D(J){return function(ce){return ce==null?C:ce[J]}}function B(J){return function(ce){return J==null?C:J[ce]}}function K(J,ce,T,Me,He){return He(J,function(Ne,Sn,Zl){T=Me?(Me=!1,Ne):ce(T,Ne,Sn,Zl)}),T}function V(J,ce){var T=J.length;for(J.sort(ce);T--;)J[T]=J[T].value;return J}function L(J,ce){for(var T,Me=-1,He=J.length;++Me<He;){var Ne=ce(J[Me]);Ne!==C&&(T=T===C?Ne:T+Ne)}return T}function Q(J,ce){for(var T=-1,Me=Array(J);++T<J;)Me[T]=ce(T);return Me}function M(J,ce){return d(ce,function(T){return[T,J[T]]})}function Y(J){return J&&J.slice(0,E(J)+1).replace(Fl,"")}function w(J){return function(ce){return J(ce)}}function P(J,ce){return d(ce,function(T){return J[T]})}function xe(J,ce){return J.has(ce)}function oe(J,ce){for(var T=-1,Me=J.length;++T<Me&&A(ce,J[T],0)>-1;);return T}function ue(J,ce){for(var T=J.length;T--&&A(ce,J[T],0)>-1;);return T}function z(J,ce){for(var T=J.length,Me=0;T--;)J[T]===ce&&++Me;return Me}function se(J){return"\\"+U0[J]}function X(J,ce){return J==null?C:J[ce]}function R(J){return F0.test(J)}function Te(J){return N0.test(J)}function ke(J){for(var ce,T=[];!(ce=J.next()).done;)T.push(ce.value);return T}function ae(J){var ce=-1,T=Array(J.size);return J.forEach(function(Me,He){T[++ce]=[He,Me]}),T}function Ye(J,ce){return function(T){return J(ce(T))}}function Xe(J,ce){for(var T=-1,Me=J.length,He=0,Ne=[];++T<Me;){var Sn=J[T];Sn!==ce&&Sn!==ie||(J[T]=ie,Ne[He++]=T)}return Ne}function he(J){var ce=-1,T=Array(J.size);return J.forEach(function(Me){T[++ce]=Me}),T}function Oe(J){var ce=-1,T=Array(J.size);return J.forEach(function(Me){T[++ce]=[Me,Me]}),T}function ge(J,ce,T){for(var Me=T-1,He=J.length;++Me<He;)if(J[Me]===ce)return Me;return-1}function je(J,ce,T){for(var Me=T+1;Me--;)if(J[Me]===ce)return Me;return Me}function Ve(J){return R(J)?le(J):q0(J)}function We(J){return R(J)?H(J):x(J)}function E(J){for(var ce=J.length;ce--&&t0.test(J.charAt(ce)););return ce}function le(J){for(var ce=Ll.lastIndex=0;Ll.test(J);)++ce;return ce}function H(J){return J.match(Ll)||[]}function $(J){return J.match(M0)||[]}var C,G="4.17.21",me=200,ye="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",te="Expected a function",re="Invalid `variable` option passed into `_.template`",pe="__lodash_hash_undefined__",U=500,ie="__lodash_placeholder__",we=1,Ae=2,De=4,pt=1,_t=2,ft=1,Qe=2,an=4,ht=8,kt=16,ot=32,cr=64,Cn=128,Tr=256,qr=512,jr=30,Vr="...",So=800,_l=16,ka=1,Eo=2,Ao=3,Ir=1/0,gr=9007199254740991,wl=17976931348623157e292,Di=NaN,Vn=4294967295,kl=Vn-1,Cl=Vn>>>1,Ze=[["ary",Cn],["bind",ft],["bindKey",Qe],["curry",ht],["curryRight",kt],["flip",qr],["partial",ot],["partialRight",cr],["rearg",Tr]],vt="[object Arguments]",Kt="[object Array]",st="[object AsyncFunction]",Pt="[object Boolean]",Dt="[object Date]",dn="[object DOMException]",Li="[object Error]",Bi="[object Function]",To="[object GeneratorFunction]",Gn="[object Map]",di="[object Number]",Lx="[object Null]",Rr="[object Object]",td="[object Promise]",Bx="[object Proxy]",Ca="[object RegExp]",pr="[object Set]",Sa="[object String]",jo="[object Symbol]",Ux="[object Undefined]",Ea="[object WeakMap]",Zx="[object WeakSet]",Aa="[object ArrayBuffer]",Ui="[object DataView]",Sl="[object Float32Array]",El="[object Float64Array]",Al="[object Int8Array]",Tl="[object Int16Array]",jl="[object Int32Array]",Il="[object Uint8Array]",Rl="[object Uint8ClampedArray]",Ol="[object Uint16Array]",zl="[object Uint32Array]",Hx=/\b__p \+= '';/g,Wx=/\b(__p \+=) '' \+/g,qx=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nd=/&(?:amp|lt|gt|quot|#39);/g,rd=/[&<>"']/g,Vx=RegExp(nd.source),Gx=RegExp(rd.source),Kx=/<%-([\s\S]+?)%>/g,Jx=/<%([\s\S]+?)%>/g,id=/<%=([\s\S]+?)%>/g,Yx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xx=/^\w*$/,Qx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ml=/[\\^$.*+?()[\]{}|]/g,e0=RegExp(Ml.source),Fl=/^\s+/,t0=/\s/,n0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,r0=/\{\n\/\* \[wrapped with (.+)\] \*/,i0=/,? & /,a0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,o0=/[()=,{}\[\]\/\s]/,s0=/\\(\\)?/g,l0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ad=/\w*$/,u0=/^[-+]0x[0-9a-f]+$/i,c0=/^0b[01]+$/i,p0=/^\[object .+?Constructor\]$/,d0=/^0o[0-7]+$/i,f0=/^(?:0|[1-9]\d*)$/,h0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Io=/($^)/,m0=/['\n\r\u2028\u2029\\]/g,Ro="\\ud800-\\udfff",g0="\\u0300-\\u036f",v0="\\ufe20-\\ufe2f",y0="\\u20d0-\\u20ff",od=g0+v0+y0,sd="\\u2700-\\u27bf",ld="a-z\\xdf-\\xf6\\xf8-\\xff",b0="\\xac\\xb1\\xd7\\xf7",x0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_0="\\u2000-\\u206f",w0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ud="A-Z\\xc0-\\xd6\\xd8-\\xde",cd="\\ufe0e\\ufe0f",pd=b0+x0+_0+w0,Nl="[']",k0="["+Ro+"]",dd="["+pd+"]",Oo="["+od+"]",fd="\\d+",C0="["+sd+"]",hd="["+ld+"]",md="[^"+Ro+pd+fd+sd+ld+ud+"]",$l="\\ud83c[\\udffb-\\udfff]",S0="(?:"+Oo+"|"+$l+")",gd="[^"+Ro+"]",Pl="(?:\\ud83c[\\udde6-\\uddff]){2}",Dl="[\\ud800-\\udbff][\\udc00-\\udfff]",Zi="["+ud+"]",vd="\\u200d",yd="(?:"+hd+"|"+md+")",E0="(?:"+Zi+"|"+md+")",bd="(?:"+Nl+"(?:d|ll|m|re|s|t|ve))?",xd="(?:"+Nl+"(?:D|LL|M|RE|S|T|VE))?",_d=S0+"?",wd="["+cd+"]?",A0="(?:"+vd+"(?:"+[gd,Pl,Dl].join("|")+")"+wd+_d+")*",T0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",j0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kd=wd+_d+A0,I0="(?:"+[C0,Pl,Dl].join("|")+")"+kd,R0="(?:"+[gd+Oo+"?",Oo,Pl,Dl,k0].join("|")+")",O0=RegExp(Nl,"g"),z0=RegExp(Oo,"g"),Ll=RegExp($l+"(?="+$l+")|"+R0+kd,"g"),M0=RegExp([Zi+"?"+hd+"+"+bd+"(?="+[dd,Zi,"$"].join("|")+")",E0+"+"+xd+"(?="+[dd,Zi+yd,"$"].join("|")+")",Zi+"?"+yd+"+"+bd,Zi+"+"+xd,j0,T0,fd,I0].join("|"),"g"),F0=RegExp("["+vd+Ro+od+cd+"]"),N0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],P0=-1,Rt={};Rt[Sl]=Rt[El]=Rt[Al]=Rt[Tl]=Rt[jl]=Rt[Il]=Rt[Rl]=Rt[Ol]=Rt[zl]=!0,Rt[vt]=Rt[Kt]=Rt[Aa]=Rt[Pt]=Rt[Ui]=Rt[Dt]=Rt[Li]=Rt[Bi]=Rt[Gn]=Rt[di]=Rt[Rr]=Rt[Ca]=Rt[pr]=Rt[Sa]=Rt[Ea]=!1;var At={};At[vt]=At[Kt]=At[Aa]=At[Ui]=At[Pt]=At[Dt]=At[Sl]=At[El]=At[Al]=At[Tl]=At[jl]=At[Gn]=At[di]=At[Rr]=At[Ca]=At[pr]=At[Sa]=At[jo]=At[Il]=At[Rl]=At[Ol]=At[zl]=!0,At[Li]=At[Bi]=At[Ea]=!1;var D0={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},L0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},B0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},U0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Z0=parseFloat,H0=parseInt,Cd=typeof Un=="object"&&Un&&Un.Object===Object&&Un,W0=typeof self=="object"&&self&&self.Object===Object&&self,fn=Cd||W0||Function("return this")(),Bl=t&&!t.nodeType&&t,fi=Bl&&!0&&e&&!e.nodeType&&e,Sd=fi&&fi.exports===Bl,Ul=Sd&&Cd.process,Kn=function(){try{var J=fi&&fi.require&&fi.require("util").types;return J||Ul&&Ul.binding&&Ul.binding("util")}catch{}}(),Ed=Kn&&Kn.isArrayBuffer,Ad=Kn&&Kn.isDate,Td=Kn&&Kn.isMap,jd=Kn&&Kn.isRegExp,Id=Kn&&Kn.isSet,Rd=Kn&&Kn.isTypedArray,q0=D("length"),V0=B(D0),G0=B(L0),K0=B(B0),J0=function J(ce){function T(a){if(Jt(a)&&!et(a)&&!(a instanceof Ne)){if(a instanceof He)return a;if(Ct.call(a,"__wrapped__"))return Ef(a)}return new He(a)}function Me(){}function He(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=C}function Ne(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Vn,this.__views__=[]}function Sn(){var a=new Ne(this.__wrapped__);return a.__actions__=En(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=En(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=En(this.__views__),a}function Zl(){if(this.__filtered__){var a=new Ne(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Y0(){var a=this.__wrapped__.value(),l=this.__dir__,f=et(a),_=l<0,j=f?a.length:0,N=ow(0,j,this.__views__),Z=N.start,q=N.end,ne=q-Z,ve=_?q:Z-1,fe=this.__iteratees__,_e=fe.length,ze=0,$e=mn(ne,this.__takeCount__);if(!f||!_&&j==ne&&$e==ne)return Xd(a,this.__actions__);var Be=[];e:for(;ne--&&ze<$e;){ve+=l;for(var nt=-1,Ue=a[ve];++nt<_e;){var lt=fe[nt],ut=lt.iteratee,vn=lt.type,In=ut(Ue);if(vn==Eo)Ue=In;else if(!In){if(vn==ka)continue e;break e}}Be[ze++]=Ue}return Be}function hi(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var _=a[l];this.set(_[0],_[1])}}function X0(){this.__data__=Da?Da(null):{},this.size=0}function Q0(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function e_(a){var l=this.__data__;if(Da){var f=l[a];return f===pe?C:f}return Ct.call(l,a)?l[a]:C}function t_(a){var l=this.__data__;return Da?l[a]!==C:Ct.call(l,a)}function n_(a,l){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=Da&&l===C?pe:l,this}function Or(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var _=a[l];this.set(_[0],_[1])}}function r_(){this.__data__=[],this.size=0}function i_(a){var l=this.__data__,f=zo(l,a);return!(f<0)&&(f==l.length-1?l.pop():ss.call(l,f,1),--this.size,!0)}function a_(a){var l=this.__data__,f=zo(l,a);return f<0?C:l[f][1]}function o_(a){return zo(this.__data__,a)>-1}function s_(a,l){var f=this.__data__,_=zo(f,a);return _<0?(++this.size,f.push([a,l])):f[_][1]=l,this}function zr(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var _=a[l];this.set(_[0],_[1])}}function l_(){this.size=0,this.__data__={hash:new hi,map:new($a||Or),string:new hi}}function u_(a){var l=Wo(this,a).delete(a);return this.size-=l?1:0,l}function c_(a){return Wo(this,a).get(a)}function p_(a){return Wo(this,a).has(a)}function d_(a,l){var f=Wo(this,a),_=f.size;return f.set(a,l),this.size+=f.size==_?0:1,this}function mi(a){var l=-1,f=a==null?0:a.length;for(this.__data__=new zr;++l<f;)this.add(a[l])}function f_(a){return this.__data__.set(a,pe),this}function h_(a){return this.__data__.has(a)}function dr(a){this.size=(this.__data__=new Or(a)).size}function m_(){this.__data__=new Or,this.size=0}function g_(a){var l=this.__data__,f=l.delete(a);return this.size=l.size,f}function v_(a){return this.__data__.get(a)}function y_(a){return this.__data__.has(a)}function b_(a,l){var f=this.__data__;if(f instanceof Or){var _=f.__data__;if(!$a||_.length<me-1)return _.push([a,l]),this.size=++f.size,this;f=this.__data__=new zr(_)}return f.set(a,l),this.size=f.size,this}function Od(a,l){var f=et(a),_=!f&&_i(a),j=!f&&!_&&Qr(a),N=!f&&!_&&!j&&ea(a),Z=f||_||j||N,q=Z?Q(a.length,mC):[],ne=q.length;for(var ve in a)!l&&!Ct.call(a,ve)||Z&&(ve=="length"||j&&(ve=="offset"||ve=="parent")||N&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||$r(ve,ne))||q.push(ve);return q}function zd(a){var l=a.length;return l?a[Ql(0,l-1)]:C}function x_(a,l){return qo(En(a),gi(l,0,a.length))}function __(a){return qo(En(a))}function Hl(a,l,f){(f===C||fr(a[l],f))&&(f!==C||l in a)||Mr(a,l,f)}function Ta(a,l,f){var _=a[l];Ct.call(a,l)&&fr(_,f)&&(f!==C||l in a)||Mr(a,l,f)}function zo(a,l){for(var f=a.length;f--;)if(fr(a[f][0],l))return f;return-1}function w_(a,l,f,_){return Xr(a,function(j,N,Z){l(_,j,f(j),Z)}),_}function Md(a,l){return a&&yr(l,pn(l),a)}function k_(a,l){return a&&yr(l,Tn(l),a)}function Mr(a,l,f){l=="__proto__"&&ls?ls(a,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[l]=f}function Wl(a,l){for(var f=-1,_=l.length,j=on(_),N=a==null;++f<_;)j[f]=N?C:yu(a,l[f]);return j}function gi(a,l,f){return a===a&&(f!==C&&(a=a<=f?a:f),l!==C&&(a=a>=l?a:l)),a}function Jn(a,l,f,_,j,N){var Z,q=l&we,ne=l&Ae,ve=l&De;if(f&&(Z=j?f(a,_,j,N):f(a)),Z!==C)return Z;if(!Zt(a))return a;var fe=et(a);if(fe){if(Z=lw(a),!q)return En(a,Z)}else{var _e=gn(a),ze=_e==Bi||_e==To;if(Qr(a))return ef(a,q);if(_e==Rr||_e==vt||ze&&!j){if(Z=ne||ze?{}:bf(a),!q)return ne?X_(a,k_(Z,a)):Y_(a,Md(Z,a))}else{if(!At[_e])return j?a:{};Z=uw(a,_e,q)}}N||(N=new dr);var $e=N.get(a);if($e)return $e;N.set(a,Z),gh(a)?a.forEach(function(Ue){Z.add(Jn(Ue,l,f,Ue,a,N))}):mh(a)&&a.forEach(function(Ue,lt){Z.set(lt,Jn(Ue,l,f,lt,a,N))});var Be=ve?ne?cu:uu:ne?Tn:pn,nt=fe?C:Be(a);return i(nt||a,function(Ue,lt){nt&&(lt=Ue,Ue=a[lt]),Ta(Z,lt,Jn(Ue,l,f,lt,a,N))}),Z}function C_(a){var l=pn(a);return function(f){return Fd(f,a,l)}}function Fd(a,l,f){var _=f.length;if(a==null)return!_;for(a=Ot(a);_--;){var j=f[_],N=l[j],Z=a[j];if(Z===C&&!(j in a)||!N(Z))return!1}return!0}function Nd(a,l,f){if(typeof a!="function")throw new er(te);return Ba(function(){a.apply(C,f)},l)}function ja(a,l,f,_){var j=-1,N=c,Z=!0,q=a.length,ne=[],ve=l.length;if(!q)return ne;f&&(l=d(l,w(f))),_?(N=p,Z=!1):l.length>=me&&(N=xe,Z=!1,l=new mi(l));e:for(;++j<q;){var fe=a[j],_e=f==null?fe:f(fe);if(fe=_||fe!==0?fe:0,Z&&_e===_e){for(var ze=ve;ze--;)if(l[ze]===_e)continue e;ne.push(fe)}else N(l,_e,_)||ne.push(fe)}return ne}function S_(a,l){var f=!0;return Xr(a,function(_,j,N){return f=!!l(_,j,N)}),f}function Mo(a,l,f){for(var _=-1,j=a.length;++_<j;){var N=a[_],Z=l(N);if(Z!=null&&(q===C?Z===Z&&!Pn(Z):f(Z,q)))var q=Z,ne=N}return ne}function E_(a,l,f,_){var j=a.length;for(f=rt(f),f<0&&(f=-f>j?0:j+f),_=_===C||_>j?j:rt(_),_<0&&(_+=j),_=f>_?0:Hf(_);f<_;)a[f++]=l;return a}function $d(a,l){var f=[];return Xr(a,function(_,j,N){l(_,j,N)&&f.push(_)}),f}function hn(a,l,f,_,j){var N=-1,Z=a.length;for(f||(f=pw),j||(j=[]);++N<Z;){var q=a[N];l>0&&f(q)?l>1?hn(q,l-1,f,_,j):m(j,q):_||(j[j.length]=q)}return j}function vr(a,l){return a&&Ru(a,l,pn)}function ql(a,l){return a&&sh(a,l,pn)}function Fo(a,l){return u(l,function(f){return Pr(a[f])})}function vi(a,l){l=Kr(l,a);for(var f=0,_=l.length;a!=null&&f<_;)a=a[br(l[f++])];return f&&f==_?a:C}function Pd(a,l,f){var _=l(a);return et(a)?_:m(_,f(a))}function xn(a){return a==null?a===C?Ux:Lx:xi&&xi in Ot(a)?aw(a):vw(a)}function Vl(a,l){return a>l}function A_(a,l){return a!=null&&Ct.call(a,l)}function T_(a,l){return a!=null&&l in Ot(a)}function j_(a,l,f){return a>=mn(l,f)&&a<sn(l,f)}function Gl(a,l,f){for(var _=f?p:c,j=a[0].length,N=a.length,Z=N,q=on(N),ne=1/0,ve=[];Z--;){var fe=a[Z];Z&&l&&(fe=d(fe,w(l))),ne=mn(fe.length,ne),q[Z]=!f&&(l||j>=120&&fe.length>=120)?new mi(Z&&fe):C}fe=a[0];var _e=-1,ze=q[0];e:for(;++_e<j&&ve.length<ne;){var $e=fe[_e],Be=l?l($e):$e;if($e=f||$e!==0?$e:0,!(ze?xe(ze,Be):_(ve,Be,f))){for(Z=N;--Z;){var nt=q[Z];if(!(nt?xe(nt,Be):_(a[Z],Be,f)))continue e}ze&&ze.push(Be),ve.push($e)}}return ve}function I_(a,l,f,_){return vr(a,function(j,N,Z){l(_,f(j),N,Z)}),_}function Ia(a,l,f){l=Kr(l,a),a=kf(a,l);var _=a==null?a:a[br(Xn(l))];return _==null?C:n(_,a,f)}function Dd(a){return Jt(a)&&xn(a)==vt}function R_(a){return Jt(a)&&xn(a)==Aa}function O_(a){return Jt(a)&&xn(a)==Dt}function Ra(a,l,f,_,j){return a===l||(a==null||l==null||!Jt(a)&&!Jt(l)?a!==a&&l!==l:z_(a,l,f,_,Ra,j))}function z_(a,l,f,_,j,N){var Z=et(a),q=et(l),ne=Z?Kt:gn(a),ve=q?Kt:gn(l);ne=ne==vt?Rr:ne,ve=ve==vt?Rr:ve;var fe=ne==Rr,_e=ve==Rr,ze=ne==ve;if(ze&&Qr(a)){if(!Qr(l))return!1;Z=!0,fe=!1}if(ze&&!fe)return N||(N=new dr),Z||ea(a)?vf(a,l,f,_,j,N):rw(a,l,ne,f,_,j,N);if(!(f&pt)){var $e=fe&&Ct.call(a,"__wrapped__"),Be=_e&&Ct.call(l,"__wrapped__");if($e||Be){var nt=$e?a.value():a,Ue=Be?l.value():l;return N||(N=new dr),j(nt,Ue,f,_,N)}}return!!ze&&(N||(N=new dr),iw(a,l,f,_,j,N))}function M_(a){return Jt(a)&&gn(a)==Gn}function Kl(a,l,f,_){var j=f.length,N=j,Z=!_;if(a==null)return!N;for(a=Ot(a);j--;){var q=f[j];if(Z&&q[2]?q[1]!==a[q[0]]:!(q[0]in a))return!1}for(;++j<N;){q=f[j];var ne=q[0],ve=a[ne],fe=q[1];if(Z&&q[2]){if(ve===C&&!(ne in a))return!1}else{var _e=new dr;if(_)var ze=_(ve,fe,ne,a,l,_e);if(!(ze===C?Ra(fe,ve,pt|_t,_,_e):ze))return!1}}return!0}function Ld(a){return!(!Zt(a)||fw(a))&&(Pr(a)?xC:p0).test(bi(a))}function F_(a){return Jt(a)&&xn(a)==Ca}function N_(a){return Jt(a)&&gn(a)==pr}function $_(a){return Jt(a)&&Yo(a.length)&&!!Rt[xn(a)]}function Bd(a){return typeof a=="function"?a:a==null?jn:typeof a=="object"?et(a)?Hd(a[0],a[1]):Zd(a):Jf(a)}function Jl(a){if(!Ma(a))return EC(a);var l=[];for(var f in Ot(a))Ct.call(a,f)&&f!="constructor"&&l.push(f);return l}function P_(a){if(!Zt(a))return gw(a);var l=Ma(a),f=[];for(var _ in a)(_!="constructor"||!l&&Ct.call(a,_))&&f.push(_);return f}function Yl(a,l){return a<l}function Ud(a,l){var f=-1,_=An(a)?on(a.length):[];return Xr(a,function(j,N,Z){_[++f]=l(j,N,Z)}),_}function Zd(a){var l=pu(a);return l.length==1&&l[0][2]?_f(l[0][0],l[0][1]):function(f){return f===a||Kl(f,a,l)}}function Hd(a,l){return du(a)&&xf(l)?_f(br(a),l):function(f){var _=yu(f,a);return _===C&&_===l?bu(f,a):Ra(l,_,pt|_t)}}function No(a,l,f,_,j){a!==l&&Ru(l,function(N,Z){if(j||(j=new dr),Zt(N))D_(a,l,Z,f,No,_,j);else{var q=_?_(hu(a,Z),N,Z+"",a,l,j):C;q===C&&(q=N),Hl(a,Z,q)}},Tn)}function D_(a,l,f,_,j,N,Z){var q=hu(a,f),ne=hu(l,f),ve=Z.get(ne);if(ve)return Hl(a,f,ve),C;var fe=N?N(q,ne,f+"",a,l,Z):C,_e=fe===C;if(_e){var ze=et(ne),$e=!ze&&Qr(ne),Be=!ze&&!$e&&ea(ne);fe=ne,ze||$e||Be?et(q)?fe=q:Xt(q)?fe=En(q):$e?(_e=!1,fe=ef(ne,!0)):Be?(_e=!1,fe=tf(ne,!0)):fe=[]:Fa(ne)||_i(ne)?(fe=q,_i(q)?fe=Wf(q):Zt(q)&&!Pr(q)||(fe=bf(ne))):_e=!1}_e&&(Z.set(ne,fe),j(fe,ne,_,N,Z),Z.delete(ne)),Hl(a,f,fe)}function Wd(a,l){var f=a.length;if(f)return l+=l<0?f:0,$r(l,f)?a[l]:C}function qd(a,l,f){l=l.length?d(l,function(j){return et(j)?function(N){return vi(N,j.length===1?j[0]:j)}:j}):[jn];var _=-1;return l=d(l,w(qe())),V(Ud(a,function(j,N,Z){return{criteria:d(l,function(q){return q(j)}),index:++_,value:j}}),function(j,N){return J_(j,N,f)})}function L_(a,l){return Vd(a,l,function(f,_){return bu(a,_)})}function Vd(a,l,f){for(var _=-1,j=l.length,N={};++_<j;){var Z=l[_],q=vi(a,Z);f(q,Z)&&Oa(N,Kr(Z,a),q)}return N}function B_(a){return function(l){return vi(l,a)}}function Xl(a,l,f,_){var j=_?I:A,N=-1,Z=l.length,q=a;for(a===l&&(l=En(l)),f&&(q=d(a,w(f)));++N<Z;)for(var ne=0,ve=l[N],fe=f?f(ve):ve;(ne=j(q,fe,ne,_))>-1;)q!==a&&ss.call(q,ne,1),ss.call(a,ne,1);return a}function Gd(a,l){for(var f=a?l.length:0,_=f-1;f--;){var j=l[f];if(f==_||j!==N){var N=j;$r(j)?ss.call(a,j,1):nu(a,j)}}return a}function Ql(a,l){return a+cs(ih()*(l-a+1))}function U_(a,l,f,_){for(var j=-1,N=sn(us((l-a)/(f||1)),0),Z=on(N);N--;)Z[_?N:++j]=a,a+=f;return Z}function eu(a,l){var f="";if(!a||l<1||l>gr)return f;do l%2&&(f+=a),l=cs(l/2),l&&(a+=a);while(l);return f}function at(a,l){return Mu(wf(a,l,jn),a+"")}function Z_(a){return zd(Gi(a))}function H_(a,l){var f=Gi(a);return qo(f,gi(l,0,f.length))}function Oa(a,l,f,_){if(!Zt(a))return a;l=Kr(l,a);for(var j=-1,N=l.length,Z=N-1,q=a;q!=null&&++j<N;){var ne=br(l[j]),ve=f;if(ne==="__proto__"||ne==="constructor"||ne==="prototype")return a;if(j!=Z){var fe=q[ne];ve=_?_(fe,ne,q):C,ve===C&&(ve=Zt(fe)?fe:$r(l[j+1])?[]:{})}Ta(q,ne,ve),q=q[ne]}return a}function W_(a){return qo(Gi(a))}function Yn(a,l,f){var _=-1,j=a.length;l<0&&(l=-l>j?0:j+l),f=f>j?j:f,f<0&&(f+=j),j=l>f?0:f-l>>>0,l>>>=0;for(var N=on(j);++_<j;)N[_]=a[_+l];return N}function q_(a,l){var f;return Xr(a,function(_,j,N){return f=l(_,j,N),!f}),!!f}function $o(a,l,f){var _=0,j=a==null?_:a.length;if(typeof l=="number"&&l===l&&j<=Cl){for(;_<j;){var N=_+j>>>1,Z=a[N];Z!==null&&!Pn(Z)&&(f?Z<=l:Z<l)?_=N+1:j=N}return j}return tu(a,l,jn,f)}function tu(a,l,f,_){var j=0,N=a==null?0:a.length;if(N===0)return 0;l=f(l);for(var Z=l!==l,q=l===null,ne=Pn(l),ve=l===C;j<N;){var fe=cs((j+N)/2),_e=f(a[fe]),ze=_e!==C,$e=_e===null,Be=_e===_e,nt=Pn(_e);if(Z)var Ue=_||Be;else Ue=ve?Be&&(_||ze):q?Be&&ze&&(_||!$e):ne?Be&&ze&&!$e&&(_||!nt):!$e&&!nt&&(_?_e<=l:_e<l);Ue?j=fe+1:N=fe}return mn(N,kl)}function Kd(a,l){for(var f=-1,_=a.length,j=0,N=[];++f<_;){var Z=a[f],q=l?l(Z):Z;if(!f||!fr(q,ne)){var ne=q;N[j++]=Z===0?0:Z}}return N}function Jd(a){return typeof a=="number"?a:Pn(a)?Di:+a}function $n(a){if(typeof a=="string")return a;if(et(a))return d(a,$n)+"";if(Pn(a))return ah?ah.call(a):"";var l=a+"";return l=="0"&&1/a==-Ir?"-0":l}function Gr(a,l,f){var _=-1,j=c,N=a.length,Z=!0,q=[],ne=q;if(f)Z=!1,j=p;else if(N>=me){var ve=l?null:$C(a);if(ve)return he(ve);Z=!1,j=xe,ne=new mi}else ne=l?[]:q;e:for(;++_<N;){var fe=a[_],_e=l?l(fe):fe;if(fe=f||fe!==0?fe:0,Z&&_e===_e){for(var ze=ne.length;ze--;)if(ne[ze]===_e)continue e;l&&ne.push(_e),q.push(fe)}else j(ne,_e,f)||(ne!==q&&ne.push(_e),q.push(fe))}return q}function nu(a,l){return l=Kr(l,a),a=kf(a,l),a==null||delete a[br(Xn(l))]}function Yd(a,l,f,_){return Oa(a,l,f(vi(a,l)),_)}function Po(a,l,f,_){for(var j=a.length,N=_?j:-1;(_?N--:++N<j)&&l(a[N],N,a););return f?Yn(a,_?0:N,_?N+1:j):Yn(a,_?N+1:0,_?j:N)}function Xd(a,l){var f=a;return f instanceof Ne&&(f=f.value()),v(l,function(_,j){return j.func.apply(j.thisArg,m([_],j.args))},f)}function ru(a,l,f){var _=a.length;if(_<2)return _?Gr(a[0]):[];for(var j=-1,N=on(_);++j<_;)for(var Z=a[j],q=-1;++q<_;)q!=j&&(N[j]=ja(N[j]||Z,a[q],l,f));return Gr(hn(N,1),l,f)}function Qd(a,l,f){for(var _=-1,j=a.length,N=l.length,Z={};++_<j;)f(Z,a[_],_<N?l[_]:C);return Z}function iu(a){return Xt(a)?a:[]}function au(a){return typeof a=="function"?a:jn}function Kr(a,l){return et(a)?a:du(a,l)?[a]:dh(wt(a))}function Jr(a,l,f){var _=a.length;return f=f===C?_:f,!l&&f>=_?a:Yn(a,l,f)}function ef(a,l){if(l)return a.slice();var f=a.length,_=Qf?Qf(f):new a.constructor(f);return a.copy(_),_}function ou(a){var l=new a.constructor(a.byteLength);return new as(l).set(new as(a)),l}function V_(a,l){return new a.constructor(l?ou(a.buffer):a.buffer,a.byteOffset,a.byteLength)}function G_(a){var l=new a.constructor(a.source,ad.exec(a));return l.lastIndex=a.lastIndex,l}function K_(a){return La?Ot(La.call(a)):{}}function tf(a,l){return new a.constructor(l?ou(a.buffer):a.buffer,a.byteOffset,a.length)}function nf(a,l){if(a!==l){var f=a!==C,_=a===null,j=a===a,N=Pn(a),Z=l!==C,q=l===null,ne=l===l,ve=Pn(l);if(!q&&!ve&&!N&&a>l||N&&Z&&ne&&!q&&!ve||_&&Z&&ne||!f&&ne||!j)return 1;if(!_&&!N&&!ve&&a<l||ve&&f&&j&&!_&&!N||q&&f&&j||!Z&&j||!ne)return-1}return 0}function J_(a,l,f){for(var _=-1,j=a.criteria,N=l.criteria,Z=j.length,q=f.length;++_<Z;){var ne=nf(j[_],N[_]);if(ne)return _>=q?ne:ne*(f[_]=="desc"?-1:1)}return a.index-l.index}function rf(a,l,f,_){for(var j=-1,N=a.length,Z=f.length,q=-1,ne=l.length,ve=sn(N-Z,0),fe=on(ne+ve),_e=!_;++q<ne;)fe[q]=l[q];for(;++j<Z;)(_e||j<N)&&(fe[f[j]]=a[j]);for(;ve--;)fe[q++]=a[j++];return fe}function af(a,l,f,_){for(var j=-1,N=a.length,Z=-1,q=f.length,ne=-1,ve=l.length,fe=sn(N-q,0),_e=on(fe+ve),ze=!_;++j<fe;)_e[j]=a[j];for(var $e=j;++ne<ve;)_e[$e+ne]=l[ne];for(;++Z<q;)(ze||j<N)&&(_e[$e+f[Z]]=a[j++]);return _e}function En(a,l){var f=-1,_=a.length;for(l||(l=on(_));++f<_;)l[f]=a[f];return l}function yr(a,l,f,_){var j=!f;f||(f={});for(var N=-1,Z=l.length;++N<Z;){var q=l[N],ne=_?_(f[q],a[q],q,f,a):C;ne===C&&(ne=a[q]),j?Mr(f,q,ne):Ta(f,q,ne)}return f}function Y_(a,l){return yr(a,zu(a),l)}function X_(a,l){return yr(a,ch(a),l)}function Do(a,l){return function(f,_){var j=et(f)?r:w_,N=l?l():{};return j(f,a,qe(_,2),N)}}function Wi(a){return at(function(l,f){var _=-1,j=f.length,N=j>1?f[j-1]:C,Z=j>2?f[2]:C;for(N=a.length>3&&typeof N=="function"?(j--,N):C,Z&&_n(f[0],f[1],Z)&&(N=j<3?C:N,j=1),l=Ot(l);++_<j;){var q=f[_];q&&a(l,q,_,N)}return l})}function of(a,l){return function(f,_){if(f==null)return f;if(!An(f))return a(f,_);for(var j=f.length,N=l?j:-1,Z=Ot(f);(l?N--:++N<j)&&_(Z[N],N,Z)!==!1;);return f}}function sf(a){return function(l,f,_){for(var j=-1,N=Ot(l),Z=_(l),q=Z.length;q--;){var ne=Z[a?q:++j];if(f(N[ne],ne,N)===!1)break}return l}}function Q_(a,l,f){function _(){return(this&&this!==fn&&this instanceof _?N:a).apply(j?f:this,arguments)}var j=l&ft,N=za(a);return _}function lf(a){return function(l){l=wt(l);var f=R(l)?We(l):C,_=f?f[0]:l.charAt(0),j=f?Jr(f,1).join(""):l.slice(1);return _[a]()+j}}function qi(a){return function(l){return v(Kf(Gf(l).replace(O0,"")),a,"")}}function za(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=Qi(a.prototype),_=a.apply(f,l);return Zt(_)?_:f}}function ew(a,l,f){function _(){for(var N=arguments.length,Z=on(N),q=N,ne=Vi(_);q--;)Z[q]=arguments[q];var ve=N<3&&Z[0]!==ne&&Z[N-1]!==ne?[]:Xe(Z,ne);return N-=ve.length,N<f?ff(a,l,Lo,_.placeholder,C,Z,ve,C,C,f-N):n(this&&this!==fn&&this instanceof _?j:a,this,Z)}var j=za(a);return _}function uf(a){return function(l,f,_){var j=Ot(l);if(!An(l)){var N=qe(f,3);l=pn(l),f=function(q){return N(j[q],q,j)}}var Z=a(l,f,_);return Z>-1?j[N?l[Z]:Z]:C}}function cf(a){return Nr(function(l){var f=l.length,_=f,j=He.prototype.thru;for(a&&l.reverse();_--;){var N=l[_];if(typeof N!="function")throw new er(te);if(j&&!Z&&Ho(N)=="wrapper")var Z=new He([],!0)}for(_=Z?_:f;++_<f;){N=l[_];var q=Ho(N),ne=q=="wrapper"?Ou(N):C;Z=ne&&fu(ne[0])&&ne[1]==(Cn|ht|ot|Tr)&&!ne[4].length&&ne[9]==1?Z[Ho(ne[0])].apply(Z,ne[3]):N.length==1&&fu(N)?Z[q]():Z.thru(N)}return function(){var ve=arguments,fe=ve[0];if(Z&&ve.length==1&&et(fe))return Z.plant(fe).value();for(var _e=0,ze=f?l[_e].apply(this,ve):fe;++_e<f;)ze=l[_e].call(this,ze);return ze}})}function Lo(a,l,f,_,j,N,Z,q,ne,ve){function fe(){for(var lt=arguments.length,ut=on(lt),vn=lt;vn--;)ut[vn]=arguments[vn];if(Be)var In=Vi(fe),ei=z(ut,In);if(_&&(ut=rf(ut,_,j,Be)),N&&(ut=af(ut,N,Z,Be)),lt-=ei,Be&&lt<ve)return ff(a,l,Lo,fe.placeholder,f,ut,Xe(ut,In),q,ne,ve-lt);var Yt=ze?f:this,tr=$e?Yt[a]:a;return lt=ut.length,q?ut=yw(ut,q):nt&&lt>1&&ut.reverse(),_e&&ne<lt&&(ut.length=ne),this&&this!==fn&&this instanceof fe&&(tr=Ue||za(tr)),tr.apply(Yt,ut)}var _e=l&Cn,ze=l&ft,$e=l&Qe,Be=l&(ht|kt),nt=l&qr,Ue=$e?C:za(a);return fe}function pf(a,l){return function(f,_){return I_(f,a,l(_),{})}}function Bo(a,l){return function(f,_){var j;if(f===C&&_===C)return l;if(f!==C&&(j=f),_!==C){if(j===C)return _;typeof f=="string"||typeof _=="string"?(f=$n(f),_=$n(_)):(f=Jd(f),_=Jd(_)),j=a(f,_)}return j}}function su(a){return Nr(function(l){return l=d(l,w(qe())),at(function(f){var _=this;return a(l,function(j){return n(j,_,f)})})})}function Uo(a,l){l=l===C?" ":$n(l);var f=l.length;if(f<2)return f?eu(l,a):l;var _=eu(l,us(a/Ve(l)));return R(l)?Jr(We(_),0,a).join(""):_.slice(0,a)}function tw(a,l,f,_){function j(){for(var q=-1,ne=arguments.length,ve=-1,fe=_.length,_e=on(fe+ne),ze=this&&this!==fn&&this instanceof j?Z:a;++ve<fe;)_e[ve]=_[ve];for(;ne--;)_e[ve++]=arguments[++q];return n(ze,N?f:this,_e)}var N=l&ft,Z=za(a);return j}function df(a){return function(l,f,_){return _&&typeof _!="number"&&_n(l,f,_)&&(f=_=C),l=Dr(l),f===C?(f=l,l=0):f=Dr(f),_=_===C?l<f?1:-1:Dr(_),U_(l,f,_,a)}}function Zo(a){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=Qn(l),f=Qn(f)),a(l,f)}}function ff(a,l,f,_,j,N,Z,q,ne,ve){var fe=l&ht,_e=fe?Z:C,ze=fe?C:Z,$e=fe?N:C,Be=fe?C:N;l|=fe?ot:cr,l&=~(fe?cr:ot),l&an||(l&=-4);var nt=[a,l,j,$e,_e,Be,ze,q,ne,ve],Ue=f.apply(C,nt);return fu(a)&&ph(Ue,nt),Ue.placeholder=_,Cf(Ue,a,l)}function lu(a){var l=Ki[a];return function(f,_){if(f=Qn(f),_=_==null?0:mn(rt(_),292),_&&rh(f)){var j=(wt(f)+"e").split("e");return j=(wt(l(j[0]+"e"+(+j[1]+_)))+"e").split("e"),+(j[0]+"e"+(+j[1]-_))}return l(f)}}function hf(a){return function(l){var f=gn(l);return f==Gn?ae(l):f==pr?Oe(l):M(l,a(l))}}function Fr(a,l,f,_,j,N,Z,q){var ne=l&Qe;if(!ne&&typeof a!="function")throw new er(te);var ve=_?_.length:0;if(ve||(l&=-97,_=j=C),Z=Z===C?Z:sn(rt(Z),0),q=q===C?q:rt(q),ve-=j?j.length:0,l&cr){var fe=_,_e=j;_=j=C}var ze=ne?C:Ou(a),$e=[a,l,f,_,j,fe,_e,N,Z,q];if(ze&&mw($e,ze),a=$e[0],l=$e[1],f=$e[2],_=$e[3],j=$e[4],q=$e[9]=$e[9]===C?ne?0:a.length:sn($e[9]-ve,0),!q&&l&(ht|kt)&&(l&=-25),l&&l!=ft)Be=l==ht||l==kt?ew(a,l,q):l!=ot&&l!=(ft|ot)||j.length?Lo.apply(C,$e):tw(a,l,f,_);else var Be=Q_(a,l,f);return Cf((ze?lh:ph)(Be,$e),a,l)}function mf(a,l,f,_){return a===C||fr(a,Ji[f])&&!Ct.call(_,f)?l:a}function gf(a,l,f,_,j,N){return Zt(a)&&Zt(l)&&(N.set(l,a),No(a,l,C,gf,N),N.delete(l)),a}function nw(a){return Fa(a)?C:a}function vf(a,l,f,_,j,N){var Z=f&pt,q=a.length,ne=l.length;if(q!=ne&&!(Z&&ne>q))return!1;var ve=N.get(a),fe=N.get(l);if(ve&&fe)return ve==l&&fe==a;var _e=-1,ze=!0,$e=f&_t?new mi:C;for(N.set(a,l),N.set(l,a);++_e<q;){var Be=a[_e],nt=l[_e];if(_)var Ue=Z?_(nt,Be,_e,l,a,N):_(Be,nt,_e,a,l,N);if(Ue!==C){if(Ue)continue;ze=!1;break}if($e){if(!h(l,function(lt,ut){if(!xe($e,ut)&&(Be===lt||j(Be,lt,f,_,N)))return $e.push(ut)})){ze=!1;break}}else if(Be!==nt&&!j(Be,nt,f,_,N)){ze=!1;break}}return N.delete(a),N.delete(l),ze}function rw(a,l,f,_,j,N,Z){switch(f){case Ui:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Aa:return!(a.byteLength!=l.byteLength||!N(new as(a),new as(l)));case Pt:case Dt:case di:return fr(+a,+l);case Li:return a.name==l.name&&a.message==l.message;case Ca:case Sa:return a==l+"";case Gn:var q=ae;case pr:var ne=_&pt;if(q||(q=he),a.size!=l.size&&!ne)return!1;var ve=Z.get(a);if(ve)return ve==l;_|=_t,Z.set(a,l);var fe=vf(q(a),q(l),_,j,N,Z);return Z.delete(a),fe;case jo:if(La)return La.call(a)==La.call(l)}return!1}function iw(a,l,f,_,j,N){var Z=f&pt,q=uu(a),ne=q.length;if(ne!=uu(l).length&&!Z)return!1;for(var ve=ne;ve--;){var fe=q[ve];if(!(Z?fe in l:Ct.call(l,fe)))return!1}var _e=N.get(a),ze=N.get(l);if(_e&&ze)return _e==l&&ze==a;var $e=!0;N.set(a,l),N.set(l,a);for(var Be=Z;++ve<ne;){fe=q[ve];var nt=a[fe],Ue=l[fe];if(_)var lt=Z?_(Ue,nt,fe,l,a,N):_(nt,Ue,fe,a,l,N);if(!(lt===C?nt===Ue||j(nt,Ue,f,_,N):lt)){$e=!1;break}Be||(Be=fe=="constructor")}if($e&&!Be){var ut=a.constructor,vn=l.constructor;ut!=vn&&"constructor"in a&&"constructor"in l&&!(typeof ut=="function"&&ut instanceof ut&&typeof vn=="function"&&vn instanceof vn)&&($e=!1)}return N.delete(a),N.delete(l),$e}function Nr(a){return Mu(wf(a,C,jf),a+"")}function uu(a){return Pd(a,pn,zu)}function cu(a){return Pd(a,Tn,ch)}function Ho(a){for(var l=a.name+"",f=Xi[l],_=Ct.call(Xi,l)?f.length:0;_--;){var j=f[_],N=j.func;if(N==null||N==a)return j.name}return l}function Vi(a){return(Ct.call(T,"placeholder")?T:a).placeholder}function qe(){var a=T.iteratee||_u;return a=a===_u?Bd:a,arguments.length?a(arguments[0],arguments[1]):a}function Wo(a,l){var f=a.__data__;return dw(l)?f[typeof l=="string"?"string":"hash"]:f.map}function pu(a){for(var l=pn(a),f=l.length;f--;){var _=l[f],j=a[_];l[f]=[_,j,xf(j)]}return l}function yi(a,l){var f=X(a,l);return Ld(f)?f:C}function aw(a){var l=Ct.call(a,xi),f=a[xi];try{a[xi]=C;var _=!0}catch{}var j=rs.call(a);return _&&(l?a[xi]=f:delete a[xi]),j}function ow(a,l,f){for(var _=-1,j=f.length;++_<j;){var N=f[_],Z=N.size;switch(N.type){case"drop":a+=Z;break;case"dropRight":l-=Z;break;case"take":l=mn(l,a+Z);break;case"takeRight":a=sn(a,l-Z)}}return{start:a,end:l}}function sw(a){var l=a.match(r0);return l?l[1].split(i0):[]}function yf(a,l,f){l=Kr(l,a);for(var _=-1,j=l.length,N=!1;++_<j;){var Z=br(l[_]);if(!(N=a!=null&&f(a,Z)))break;a=a[Z]}return N||++_!=j?N:(j=a==null?0:a.length,!!j&&Yo(j)&&$r(Z,j)&&(et(a)||_i(a)))}function lw(a){var l=a.length,f=new a.constructor(l);return l&&typeof a[0]=="string"&&Ct.call(a,"index")&&(f.index=a.index,f.input=a.input),f}function bf(a){return typeof a.constructor!="function"||Ma(a)?{}:Qi(os(a))}function uw(a,l,f){var _=a.constructor;switch(l){case Aa:return ou(a);case Pt:case Dt:return new _(+a);case Ui:return V_(a,f);case Sl:case El:case Al:case Tl:case jl:case Il:case Rl:case Ol:case zl:return tf(a,f);case Gn:return new _;case di:case Sa:return new _(a);case Ca:return G_(a);case pr:return new _;case jo:return K_(a)}}function cw(a,l){var f=l.length;if(!f)return a;var _=f-1;return l[_]=(f>1?"& ":"")+l[_],l=l.join(f>2?", ":" "),a.replace(n0,`{
/* [wrapped with `+l+`] */
`)}function pw(a){return et(a)||_i(a)||!!(nh&&a&&a[nh])}function $r(a,l){var f=typeof a;return l=l??gr,!!l&&(f=="number"||f!="symbol"&&f0.test(a))&&a>-1&&a%1==0&&a<l}function _n(a,l,f){if(!Zt(f))return!1;var _=typeof l;return!!(_=="number"?An(f)&&$r(l,f.length):_=="string"&&l in f)&&fr(f[l],a)}function du(a,l){if(et(a))return!1;var f=typeof a;return!(f!="number"&&f!="symbol"&&f!="boolean"&&a!=null&&!Pn(a))||Xx.test(a)||!Yx.test(a)||l!=null&&a in Ot(l)}function dw(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function fu(a){var l=Ho(a),f=T[l];if(typeof f!="function"||!(l in Ne.prototype))return!1;if(a===f)return!0;var _=Ou(f);return!!_&&a===_[0]}function fw(a){return!!Xf&&Xf in a}function Ma(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||Ji)}function xf(a){return a===a&&!Zt(a)}function _f(a,l){return function(f){return f!=null&&f[a]===l&&(l!==C||a in Ot(f))}}function hw(a){var l=Ko(a,function(_){return f.size===U&&f.clear(),_}),f=l.cache;return l}function mw(a,l){var f=a[1],_=l[1],j=f|_,N=j<(ft|Qe|Cn),Z=_==Cn&&f==ht||_==Cn&&f==Tr&&a[7].length<=l[8]||_==(Cn|Tr)&&l[7].length<=l[8]&&f==ht;if(!N&&!Z)return a;_&ft&&(a[2]=l[2],j|=f&ft?0:an);var q=l[3];if(q){var ne=a[3];a[3]=ne?rf(ne,q,l[4]):q,a[4]=ne?Xe(a[3],ie):l[4]}return q=l[5],q&&(ne=a[5],a[5]=ne?af(ne,q,l[6]):q,a[6]=ne?Xe(a[5],ie):l[6]),q=l[7],q&&(a[7]=q),_&Cn&&(a[8]=a[8]==null?l[8]:mn(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=j,a}function gw(a){var l=[];if(a!=null)for(var f in Ot(a))l.push(f);return l}function vw(a){return rs.call(a)}function wf(a,l,f){return l=sn(l===C?a.length-1:l,0),function(){for(var _=arguments,j=-1,N=sn(_.length-l,0),Z=on(N);++j<N;)Z[j]=_[l+j];j=-1;for(var q=on(l+1);++j<l;)q[j]=_[j];return q[l]=f(Z),n(a,this,q)}}function kf(a,l){return l.length<2?a:vi(a,Yn(l,0,-1))}function yw(a,l){for(var f=a.length,_=mn(l.length,f),j=En(a);_--;){var N=l[_];a[_]=$r(N,f)?j[N]:C}return a}function hu(a,l){if((l!=="constructor"||typeof a[l]!="function")&&l!="__proto__")return a[l]}function Cf(a,l,f){var _=l+"";return Mu(a,cw(_,bw(sw(_),f)))}function Sf(a){var l=0,f=0;return function(){var _=AC(),j=_l-(_-f);if(f=_,j>0){if(++l>=So)return arguments[0]}else l=0;return a.apply(C,arguments)}}function qo(a,l){var f=-1,_=a.length,j=_-1;for(l=l===C?_:l;++f<l;){var N=Ql(f,j),Z=a[N];a[N]=a[f],a[f]=Z}return a.length=l,a}function br(a){if(typeof a=="string"||Pn(a))return a;var l=a+"";return l=="0"&&1/a==-Ir?"-0":l}function bi(a){if(a!=null){try{return ns.call(a)}catch{}try{return a+""}catch{}}return""}function bw(a,l){return i(Ze,function(f){var _="_."+f[0];l&f[1]&&!c(a,_)&&a.push(_)}),a.sort()}function Ef(a){if(a instanceof Ne)return a.clone();var l=new He(a.__wrapped__,a.__chain__);return l.__actions__=En(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function xw(a,l,f){l=(f?_n(a,l,f):l===C)?1:sn(rt(l),0);var _=a==null?0:a.length;if(!_||l<1)return[];for(var j=0,N=0,Z=on(us(_/l));j<_;)Z[N++]=Yn(a,j,j+=l);return Z}function _w(a){for(var l=-1,f=a==null?0:a.length,_=0,j=[];++l<f;){var N=a[l];N&&(j[_++]=N)}return j}function ww(){var a=arguments.length;if(!a)return[];for(var l=on(a-1),f=arguments[0],_=a;_--;)l[_-1]=arguments[_];return m(et(f)?En(f):[f],hn(l,1))}function kw(a,l,f){var _=a==null?0:a.length;return _?(l=f||l===C?1:rt(l),Yn(a,l<0?0:l,_)):[]}function Cw(a,l,f){var _=a==null?0:a.length;return _?(l=f||l===C?1:rt(l),l=_-l,Yn(a,0,l<0?0:l)):[]}function Sw(a,l){return a&&a.length?Po(a,qe(l,3),!0,!0):[]}function Ew(a,l){return a&&a.length?Po(a,qe(l,3),!0):[]}function Aw(a,l,f,_){var j=a==null?0:a.length;return j?(f&&typeof f!="number"&&_n(a,l,f)&&(f=0,_=j),E_(a,l,f,_)):[]}function Af(a,l,f){var _=a==null?0:a.length;if(!_)return-1;var j=f==null?0:rt(f);return j<0&&(j=sn(_+j,0)),S(a,qe(l,3),j)}function Tf(a,l,f){var _=a==null?0:a.length;if(!_)return-1;var j=_-1;return f!==C&&(j=rt(f),j=f<0?sn(_+j,0):mn(j,_-1)),S(a,qe(l,3),j,!0)}function jf(a){return a!=null&&a.length?hn(a,1):[]}function Tw(a){return a!=null&&a.length?hn(a,Ir):[]}function jw(a,l){return a!=null&&a.length?(l=l===C?1:rt(l),hn(a,l)):[]}function Iw(a){for(var l=-1,f=a==null?0:a.length,_={};++l<f;){var j=a[l];_[j[0]]=j[1]}return _}function If(a){return a&&a.length?a[0]:C}function Rw(a,l,f){var _=a==null?0:a.length;if(!_)return-1;var j=f==null?0:rt(f);return j<0&&(j=sn(_+j,0)),A(a,l,j)}function Ow(a){return a!=null&&a.length?Yn(a,0,-1):[]}function zw(a,l){return a==null?"":SC.call(a,l)}function Xn(a){var l=a==null?0:a.length;return l?a[l-1]:C}function Mw(a,l,f){var _=a==null?0:a.length;if(!_)return-1;var j=_;return f!==C&&(j=rt(f),j=j<0?sn(_+j,0):mn(j,_-1)),l===l?je(a,l,j):S(a,F,j,!0)}function Fw(a,l){return a&&a.length?Wd(a,rt(l)):C}function Rf(a,l){return a&&a.length&&l&&l.length?Xl(a,l):a}function Nw(a,l,f){return a&&a.length&&l&&l.length?Xl(a,l,qe(f,2)):a}function $w(a,l,f){return a&&a.length&&l&&l.length?Xl(a,l,C,f):a}function Pw(a,l){var f=[];if(!a||!a.length)return f;var _=-1,j=[],N=a.length;for(l=qe(l,3);++_<N;){var Z=a[_];l(Z,_,a)&&(f.push(Z),j.push(_))}return Gd(a,j),f}function mu(a){return a==null?a:jC.call(a)}function Dw(a,l,f){var _=a==null?0:a.length;return _?(f&&typeof f!="number"&&_n(a,l,f)?(l=0,f=_):(l=l==null?0:rt(l),f=f===C?_:rt(f)),Yn(a,l,f)):[]}function Lw(a,l){return $o(a,l)}function Bw(a,l,f){return tu(a,l,qe(f,2))}function Uw(a,l){var f=a==null?0:a.length;if(f){var _=$o(a,l);if(_<f&&fr(a[_],l))return _}return-1}function Zw(a,l){return $o(a,l,!0)}function Hw(a,l,f){return tu(a,l,qe(f,2),!0)}function Ww(a,l){if(a!=null&&a.length){var f=$o(a,l,!0)-1;if(fr(a[f],l))return f}return-1}function qw(a){return a&&a.length?Kd(a):[]}function Vw(a,l){return a&&a.length?Kd(a,qe(l,2)):[]}function Gw(a){var l=a==null?0:a.length;return l?Yn(a,1,l):[]}function Kw(a,l,f){return a&&a.length?(l=f||l===C?1:rt(l),Yn(a,0,l<0?0:l)):[]}function Jw(a,l,f){var _=a==null?0:a.length;return _?(l=f||l===C?1:rt(l),l=_-l,Yn(a,l<0?0:l,_)):[]}function Yw(a,l){return a&&a.length?Po(a,qe(l,3),!1,!0):[]}function Xw(a,l){return a&&a.length?Po(a,qe(l,3)):[]}function Qw(a){return a&&a.length?Gr(a):[]}function ek(a,l){return a&&a.length?Gr(a,qe(l,2)):[]}function tk(a,l){return l=typeof l=="function"?l:C,a&&a.length?Gr(a,C,l):[]}function gu(a){if(!a||!a.length)return[];var l=0;return a=u(a,function(f){if(Xt(f))return l=sn(f.length,l),!0}),Q(l,function(f){return d(a,D(f))})}function Of(a,l){if(!a||!a.length)return[];var f=gu(a);return l==null?f:d(f,function(_){return n(l,C,_)})}function nk(a,l){return Qd(a||[],l||[],Ta)}function rk(a,l){return Qd(a||[],l||[],Oa)}function zf(a){var l=T(a);return l.__chain__=!0,l}function ik(a,l){return l(a),a}function Vo(a,l){return l(a)}function ak(){return zf(this)}function ok(){return new He(this.value(),this.__chain__)}function sk(){this.__values__===C&&(this.__values__=Zf(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?C:this.__values__[this.__index__++]}}function lk(){return this}function uk(a){for(var l,f=this;f instanceof Me;){var _=Ef(f);_.__index__=0,_.__values__=C,l?j.__wrapped__=_:l=_;var j=_;f=f.__wrapped__}return j.__wrapped__=a,l}function ck(){var a=this.__wrapped__;if(a instanceof Ne){var l=a;return this.__actions__.length&&(l=new Ne(this)),l=l.reverse(),l.__actions__.push({func:Vo,args:[mu],thisArg:C}),new He(l,this.__chain__)}return this.thru(mu)}function pk(){return Xd(this.__wrapped__,this.__actions__)}function dk(a,l,f){var _=et(a)?o:S_;return f&&_n(a,l,f)&&(l=C),_(a,qe(l,3))}function fk(a,l){return(et(a)?u:$d)(a,qe(l,3))}function hk(a,l){return hn(Go(a,l),1)}function mk(a,l){return hn(Go(a,l),Ir)}function gk(a,l,f){return f=f===C?1:rt(f),hn(Go(a,l),f)}function Mf(a,l){return(et(a)?i:Xr)(a,qe(l,3))}function Ff(a,l){return(et(a)?s:oh)(a,qe(l,3))}function vk(a,l,f,_){a=An(a)?a:Gi(a),f=f&&!_?rt(f):0;var j=a.length;return f<0&&(f=sn(j+f,0)),Xo(a)?f<=j&&a.indexOf(l,f)>-1:!!j&&A(a,l,f)>-1}function Go(a,l){return(et(a)?d:Ud)(a,qe(l,3))}function yk(a,l,f,_){return a==null?[]:(et(l)||(l=l==null?[]:[l]),f=_?C:f,et(f)||(f=f==null?[]:[f]),qd(a,l,f))}function bk(a,l,f){var _=et(a)?v:K,j=arguments.length<3;return _(a,qe(l,4),f,j,Xr)}function xk(a,l,f){var _=et(a)?y:K,j=arguments.length<3;return _(a,qe(l,4),f,j,oh)}function _k(a,l){return(et(a)?u:$d)(a,Jo(qe(l,3)))}function wk(a){return(et(a)?zd:Z_)(a)}function kk(a,l,f){return l=(f?_n(a,l,f):l===C)?1:rt(l),(et(a)?x_:H_)(a,l)}function Ck(a){return(et(a)?__:W_)(a)}function Sk(a){if(a==null)return 0;if(An(a))return Xo(a)?Ve(a):a.length;var l=gn(a);return l==Gn||l==pr?a.size:Jl(a).length}function Ek(a,l,f){var _=et(a)?h:q_;return f&&_n(a,l,f)&&(l=C),_(a,qe(l,3))}function Ak(a,l){if(typeof l!="function")throw new er(te);return a=rt(a),function(){if(--a<1)return l.apply(this,arguments)}}function Nf(a,l,f){return l=f?C:l,l=a&&l==null?a.length:l,Fr(a,Cn,C,C,C,C,l)}function $f(a,l){var f;if(typeof l!="function")throw new er(te);return a=rt(a),function(){return--a>0&&(f=l.apply(this,arguments)),a<=1&&(l=C),f}}function Pf(a,l,f){l=f?C:l;var _=Fr(a,ht,C,C,C,C,C,l);return _.placeholder=Pf.placeholder,_}function Df(a,l,f){l=f?C:l;var _=Fr(a,kt,C,C,C,C,C,l);return _.placeholder=Df.placeholder,_}function Lf(a,l,f){function _(Yt){var tr=ze,Ua=$e;return ze=$e=C,ut=Yt,nt=a.apply(Ua,tr)}function j(Yt){return ut=Yt,Ue=Ba(q,l),vn?_(Yt):nt}function N(Yt){var tr=Yt-lt,Ua=Yt-ut,wh=l-tr;return In?mn(wh,Be-Ua):wh}function Z(Yt){var tr=Yt-lt,Ua=Yt-ut;return lt===C||tr>=l||tr<0||In&&Ua>=Be}function q(){var Yt=fs();return Z(Yt)?ne(Yt):(Ue=Ba(q,N(Yt)),C)}function ne(Yt){return Ue=C,ei&&ze?_(Yt):(ze=$e=C,nt)}function ve(){Ue!==C&&uh(Ue),ut=0,ze=lt=$e=Ue=C}function fe(){return Ue===C?nt:ne(fs())}function _e(){var Yt=fs(),tr=Z(Yt);if(ze=arguments,$e=this,lt=Yt,tr){if(Ue===C)return j(lt);if(In)return uh(Ue),Ue=Ba(q,l),_(lt)}return Ue===C&&(Ue=Ba(q,l)),nt}var ze,$e,Be,nt,Ue,lt,ut=0,vn=!1,In=!1,ei=!0;if(typeof a!="function")throw new er(te);return l=Qn(l)||0,Zt(f)&&(vn=!!f.leading,In="maxWait"in f,Be=In?sn(Qn(f.maxWait)||0,l):Be,ei="trailing"in f?!!f.trailing:ei),_e.cancel=ve,_e.flush=fe,_e}function Tk(a){return Fr(a,qr)}function Ko(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new er(te);var f=function(){var _=arguments,j=l?l.apply(this,_):_[0],N=f.cache;if(N.has(j))return N.get(j);var Z=a.apply(this,_);return f.cache=N.set(j,Z)||N,Z};return f.cache=new(Ko.Cache||zr),f}function Jo(a){if(typeof a!="function")throw new er(te);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function jk(a){return $f(2,a)}function Ik(a,l){if(typeof a!="function")throw new er(te);return l=l===C?l:rt(l),at(a,l)}function Rk(a,l){if(typeof a!="function")throw new er(te);return l=l==null?0:sn(rt(l),0),at(function(f){var _=f[l],j=Jr(f,0,l);return _&&m(j,_),n(a,this,j)})}function Ok(a,l,f){var _=!0,j=!0;if(typeof a!="function")throw new er(te);return Zt(f)&&(_="leading"in f?!!f.leading:_,j="trailing"in f?!!f.trailing:j),Lf(a,l,{leading:_,maxWait:l,trailing:j})}function zk(a){return Nf(a,1)}function Mk(a,l){return Nu(au(l),a)}function Fk(){if(!arguments.length)return[];var a=arguments[0];return et(a)?a:[a]}function Nk(a){return Jn(a,De)}function $k(a,l){return l=typeof l=="function"?l:C,Jn(a,De,l)}function Pk(a){return Jn(a,we|De)}function Dk(a,l){return l=typeof l=="function"?l:C,Jn(a,we|De,l)}function Lk(a,l){return l==null||Fd(a,l,pn(l))}function fr(a,l){return a===l||a!==a&&l!==l}function An(a){return a!=null&&Yo(a.length)&&!Pr(a)}function Xt(a){return Jt(a)&&An(a)}function Bk(a){return a===!0||a===!1||Jt(a)&&xn(a)==Pt}function Uk(a){return Jt(a)&&a.nodeType===1&&!Fa(a)}function Zk(a){if(a==null)return!0;if(An(a)&&(et(a)||typeof a=="string"||typeof a.splice=="function"||Qr(a)||ea(a)||_i(a)))return!a.length;var l=gn(a);if(l==Gn||l==pr)return!a.size;if(Ma(a))return!Jl(a).length;for(var f in a)if(Ct.call(a,f))return!1;return!0}function Hk(a,l){return Ra(a,l)}function Wk(a,l,f){f=typeof f=="function"?f:C;var _=f?f(a,l):C;return _===C?Ra(a,l,C,f):!!_}function vu(a){if(!Jt(a))return!1;var l=xn(a);return l==Li||l==dn||typeof a.message=="string"&&typeof a.name=="string"&&!Fa(a)}function qk(a){return typeof a=="number"&&rh(a)}function Pr(a){if(!Zt(a))return!1;var l=xn(a);return l==Bi||l==To||l==st||l==Bx}function Bf(a){return typeof a=="number"&&a==rt(a)}function Yo(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=gr}function Zt(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function Jt(a){return a!=null&&typeof a=="object"}function Vk(a,l){return a===l||Kl(a,l,pu(l))}function Gk(a,l,f){return f=typeof f=="function"?f:C,Kl(a,l,pu(l),f)}function Kk(a){return Uf(a)&&a!=+a}function Jk(a){if(PC(a))throw new Eu(ye);return Ld(a)}function Yk(a){return a===null}function Xk(a){return a==null}function Uf(a){return typeof a=="number"||Jt(a)&&xn(a)==di}function Fa(a){if(!Jt(a)||xn(a)!=Rr)return!1;var l=os(a);if(l===null)return!0;var f=Ct.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&ns.call(f)==yC}function Qk(a){return Bf(a)&&a>=-gr&&a<=gr}function Xo(a){return typeof a=="string"||!et(a)&&Jt(a)&&xn(a)==Sa}function Pn(a){return typeof a=="symbol"||Jt(a)&&xn(a)==jo}function e1(a){return a===C}function t1(a){return Jt(a)&&gn(a)==Ea}function n1(a){return Jt(a)&&xn(a)==Zx}function Zf(a){if(!a)return[];if(An(a))return Xo(a)?We(a):En(a);if(Na&&a[Na])return ke(a[Na]());var l=gn(a);return(l==Gn?ae:l==pr?he:Gi)(a)}function Dr(a){return a?(a=Qn(a),a===Ir||a===-Ir?(a<0?-1:1)*wl:a===a?a:0):a===0?a:0}function rt(a){var l=Dr(a),f=l%1;return l===l?f?l-f:l:0}function Hf(a){return a?gi(rt(a),0,Vn):0}function Qn(a){if(typeof a=="number")return a;if(Pn(a))return Di;if(Zt(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=Zt(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=Y(a);var f=c0.test(a);return f||d0.test(a)?H0(a.slice(2),f?2:8):u0.test(a)?Di:+a}function Wf(a){return yr(a,Tn(a))}function r1(a){return a?gi(rt(a),-gr,gr):a===0?a:0}function wt(a){return a==null?"":$n(a)}function i1(a,l){var f=Qi(a);return l==null?f:Md(f,l)}function a1(a,l){return k(a,qe(l,3),vr)}function o1(a,l){return k(a,qe(l,3),ql)}function s1(a,l){return a==null?a:Ru(a,qe(l,3),Tn)}function l1(a,l){return a==null?a:sh(a,qe(l,3),Tn)}function u1(a,l){return a&&vr(a,qe(l,3))}function c1(a,l){return a&&ql(a,qe(l,3))}function p1(a){return a==null?[]:Fo(a,pn(a))}function d1(a){return a==null?[]:Fo(a,Tn(a))}function yu(a,l,f){var _=a==null?C:vi(a,l);return _===C?f:_}function f1(a,l){return a!=null&&yf(a,l,A_)}function bu(a,l){return a!=null&&yf(a,l,T_)}function pn(a){return An(a)?Od(a):Jl(a)}function Tn(a){return An(a)?Od(a,!0):P_(a)}function h1(a,l){var f={};return l=qe(l,3),vr(a,function(_,j,N){Mr(f,l(_,j,N),_)}),f}function m1(a,l){var f={};return l=qe(l,3),vr(a,function(_,j,N){Mr(f,j,l(_,j,N))}),f}function g1(a,l){return qf(a,Jo(qe(l)))}function qf(a,l){if(a==null)return{};var f=d(cu(a),function(_){return[_]});return l=qe(l),Vd(a,f,function(_,j){return l(_,j[0])})}function v1(a,l,f){l=Kr(l,a);var _=-1,j=l.length;for(j||(j=1,a=C);++_<j;){var N=a==null?C:a[br(l[_])];N===C&&(_=j,N=f),a=Pr(N)?N.call(a):N}return a}function y1(a,l,f){return a==null?a:Oa(a,l,f)}function b1(a,l,f,_){return _=typeof _=="function"?_:C,a==null?a:Oa(a,l,f,_)}function x1(a,l,f){var _=et(a),j=_||Qr(a)||ea(a);if(l=qe(l,4),f==null){var N=a&&a.constructor;f=j?_?new N:[]:Zt(a)&&Pr(N)?Qi(os(a)):{}}return(j?i:vr)(a,function(Z,q,ne){return l(f,Z,q,ne)}),f}function _1(a,l){return a==null||nu(a,l)}function w1(a,l,f){return a==null?a:Yd(a,l,au(f))}function k1(a,l,f,_){return _=typeof _=="function"?_:C,a==null?a:Yd(a,l,au(f),_)}function Gi(a){return a==null?[]:P(a,pn(a))}function C1(a){return a==null?[]:P(a,Tn(a))}function S1(a,l,f){return f===C&&(f=l,l=C),f!==C&&(f=Qn(f),f=f===f?f:0),l!==C&&(l=Qn(l),l=l===l?l:0),gi(Qn(a),l,f)}function E1(a,l,f){return l=Dr(l),f===C?(f=l,l=0):f=Dr(f),a=Qn(a),j_(a,l,f)}function A1(a,l,f){if(f&&typeof f!="boolean"&&_n(a,l,f)&&(l=f=C),f===C&&(typeof l=="boolean"?(f=l,l=C):typeof a=="boolean"&&(f=a,a=C)),a===C&&l===C?(a=0,l=1):(a=Dr(a),l===C?(l=a,a=0):l=Dr(l)),a>l){var _=a;a=l,l=_}if(f||a%1||l%1){var j=ih();return mn(a+j*(l-a+Z0("1e-"+((j+"").length-1))),l)}return Ql(a,l)}function Vf(a){return Pu(wt(a).toLowerCase())}function Gf(a){return a=wt(a),a&&a.replace(h0,V0).replace(z0,"")}function T1(a,l,f){a=wt(a),l=$n(l);var _=a.length;f=f===C?_:gi(rt(f),0,_);var j=f;return f-=l.length,f>=0&&a.slice(f,j)==l}function j1(a){return a=wt(a),a&&Gx.test(a)?a.replace(rd,G0):a}function I1(a){return a=wt(a),a&&e0.test(a)?a.replace(Ml,"\\$&"):a}function R1(a,l,f){a=wt(a),l=rt(l);var _=l?Ve(a):0;if(!l||_>=l)return a;var j=(l-_)/2;return Uo(cs(j),f)+a+Uo(us(j),f)}function O1(a,l,f){a=wt(a),l=rt(l);var _=l?Ve(a):0;return l&&_<l?a+Uo(l-_,f):a}function z1(a,l,f){a=wt(a),l=rt(l);var _=l?Ve(a):0;return l&&_<l?Uo(l-_,f)+a:a}function M1(a,l,f){return f||l==null?l=0:l&&(l=+l),TC(wt(a).replace(Fl,""),l||0)}function F1(a,l,f){return l=(f?_n(a,l,f):l===C)?1:rt(l),eu(wt(a),l)}function N1(){var a=arguments,l=wt(a[0]);return a.length<3?l:l.replace(a[1],a[2])}function $1(a,l,f){return f&&typeof f!="number"&&_n(a,l,f)&&(l=f=C),(f=f===C?Vn:f>>>0)?(a=wt(a),a&&(typeof l=="string"||l!=null&&!$u(l))&&(l=$n(l),!l&&R(a))?Jr(We(a),0,f):a.split(l,f)):[]}function P1(a,l,f){return a=wt(a),f=f==null?0:gi(rt(f),0,a.length),l=$n(l),a.slice(f,f+l.length)==l}function D1(a,l,f){var _=T.templateSettings;f&&_n(a,l,f)&&(l=C),a=wt(a),l=hs({},l,_,mf);var j,N,Z=hs({},l.imports,_.imports,mf),q=pn(Z),ne=P(Z,q),ve=0,fe=l.interpolate||Io,_e="__p += '",ze=Au((l.escape||Io).source+"|"+fe.source+"|"+(fe===id?l0:Io).source+"|"+(l.evaluate||Io).source+"|$","g"),$e="//# sourceURL="+(Ct.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++P0+"]")+`
`;a.replace(ze,function(Ue,lt,ut,vn,In,ei){return ut||(ut=vn),_e+=a.slice(ve,ei).replace(m0,se),lt&&(j=!0,_e+=`' +
__e(`+lt+`) +
'`),In&&(N=!0,_e+=`';
`+In+`;
__p += '`),ut&&(_e+=`' +
((__t = (`+ut+`)) == null ? '' : __t) +
'`),ve=ei+Ue.length,Ue}),_e+=`';
`;var Be=Ct.call(l,"variable")&&l.variable;if(Be){if(o0.test(Be))throw new Eu(re)}else _e=`with (obj) {
`+_e+`
}
`;_e=(N?_e.replace(Hx,""):_e).replace(Wx,"$1").replace(qx,"$1;"),_e="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(j?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var nt=_h(function(){return Yf(q,$e+"return "+_e).apply(C,ne)});if(nt.source=_e,vu(nt))throw nt;return nt}function L1(a){return wt(a).toLowerCase()}function B1(a){return wt(a).toUpperCase()}function U1(a,l,f){if(a=wt(a),a&&(f||l===C))return Y(a);if(!a||!(l=$n(l)))return a;var _=We(a),j=We(l);return Jr(_,oe(_,j),ue(_,j)+1).join("")}function Z1(a,l,f){if(a=wt(a),a&&(f||l===C))return a.slice(0,E(a)+1);if(!a||!(l=$n(l)))return a;var _=We(a);return Jr(_,0,ue(_,We(l))+1).join("")}function H1(a,l,f){if(a=wt(a),a&&(f||l===C))return a.replace(Fl,"");if(!a||!(l=$n(l)))return a;var _=We(a);return Jr(_,oe(_,We(l))).join("")}function W1(a,l){var f=jr,_=Vr;if(Zt(l)){var j="separator"in l?l.separator:j;f="length"in l?rt(l.length):f,_="omission"in l?$n(l.omission):_}a=wt(a);var N=a.length;if(R(a)){var Z=We(a);N=Z.length}if(f>=N)return a;var q=f-Ve(_);if(q<1)return _;var ne=Z?Jr(Z,0,q).join(""):a.slice(0,q);if(j===C)return ne+_;if(Z&&(q+=ne.length-q),$u(j)){if(a.slice(q).search(j)){var ve,fe=ne;for(j.global||(j=Au(j.source,wt(ad.exec(j))+"g")),j.lastIndex=0;ve=j.exec(fe);)var _e=ve.index;ne=ne.slice(0,_e===C?q:_e)}}else if(a.indexOf($n(j),q)!=q){var ze=ne.lastIndexOf(j);ze>-1&&(ne=ne.slice(0,ze))}return ne+_}function q1(a){return a=wt(a),a&&Vx.test(a)?a.replace(nd,K0):a}function Kf(a,l,f){return a=wt(a),l=f?C:l,l===C?Te(a)?$(a):b(a):a.match(l)||[]}function V1(a){var l=a==null?0:a.length,f=qe();return a=l?d(a,function(_){if(typeof _[1]!="function")throw new er(te);return[f(_[0]),_[1]]}):[],at(function(_){for(var j=-1;++j<l;){var N=a[j];if(n(N[0],this,_))return n(N[1],this,_)}})}function G1(a){return C_(Jn(a,we))}function xu(a){return function(){return a}}function K1(a,l){return a==null||a!==a?l:a}function jn(a){return a}function _u(a){return Bd(typeof a=="function"?a:Jn(a,we))}function J1(a){return Zd(Jn(a,we))}function Y1(a,l){return Hd(a,Jn(l,we))}function wu(a,l,f){var _=pn(l),j=Fo(l,_);f!=null||Zt(l)&&(j.length||!_.length)||(f=l,l=a,a=this,j=Fo(l,pn(l)));var N=!(Zt(f)&&"chain"in f&&!f.chain),Z=Pr(a);return i(j,function(q){var ne=l[q];a[q]=ne,Z&&(a.prototype[q]=function(){var ve=this.__chain__;if(N||ve){var fe=a(this.__wrapped__);return(fe.__actions__=En(this.__actions__)).push({func:ne,args:arguments,thisArg:a}),fe.__chain__=ve,fe}return ne.apply(a,m([this.value()],arguments))})}),a}function X1(){return fn._===this&&(fn._=bC),this}function ku(){}function Q1(a){return a=rt(a),at(function(l){return Wd(l,a)})}function Jf(a){return du(a)?D(br(a)):B_(a)}function eC(a){return function(l){return a==null?C:vi(a,l)}}function Cu(){return[]}function Su(){return!1}function tC(){return{}}function nC(){return""}function rC(){return!0}function iC(a,l){if(a=rt(a),a<1||a>gr)return[];var f=Vn,_=mn(a,Vn);l=qe(l),a-=Vn;for(var j=Q(_,l);++f<a;)l(f);return j}function aC(a){return et(a)?d(a,br):Pn(a)?[a]:En(dh(wt(a)))}function oC(a){var l=++vC;return wt(a)+l}function sC(a){return a&&a.length?Mo(a,jn,Vl):C}function lC(a,l){return a&&a.length?Mo(a,qe(l,2),Vl):C}function uC(a){return O(a,jn)}function cC(a,l){return O(a,qe(l,2))}function pC(a){return a&&a.length?Mo(a,jn,Yl):C}function dC(a,l){return a&&a.length?Mo(a,qe(l,2),Yl):C}function fC(a){return a&&a.length?L(a,jn):0}function hC(a,l){return a&&a.length?L(a,qe(l,2)):0}ce=ce==null?fn:Hi.defaults(fn.Object(),ce,Hi.pick(fn,$0));var on=ce.Array,Qo=ce.Date,Eu=ce.Error,Yf=ce.Function,Ki=ce.Math,Ot=ce.Object,Au=ce.RegExp,mC=ce.String,er=ce.TypeError,es=on.prototype,gC=Yf.prototype,Ji=Ot.prototype,ts=ce["__core-js_shared__"],ns=gC.toString,Ct=Ji.hasOwnProperty,vC=0,Xf=function(){var a=/[^.]+$/.exec(ts&&ts.keys&&ts.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),rs=Ji.toString,yC=ns.call(Ot),bC=fn._,xC=Au("^"+ns.call(Ct).replace(Ml,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),is=Sd?ce.Buffer:C,Yr=ce.Symbol,as=ce.Uint8Array,Qf=is?is.allocUnsafe:C,os=Ye(Ot.getPrototypeOf,Ot),eh=Ot.create,th=Ji.propertyIsEnumerable,ss=es.splice,nh=Yr?Yr.isConcatSpreadable:C,Na=Yr?Yr.iterator:C,xi=Yr?Yr.toStringTag:C,ls=function(){try{var a=yi(Ot,"defineProperty");return a({},"",{}),a}catch{}}(),_C=ce.clearTimeout!==fn.clearTimeout&&ce.clearTimeout,wC=Qo&&Qo.now!==fn.Date.now&&Qo.now,kC=ce.setTimeout!==fn.setTimeout&&ce.setTimeout,us=Ki.ceil,cs=Ki.floor,Tu=Ot.getOwnPropertySymbols,CC=is?is.isBuffer:C,rh=ce.isFinite,SC=es.join,EC=Ye(Ot.keys,Ot),sn=Ki.max,mn=Ki.min,AC=Qo.now,TC=ce.parseInt,ih=Ki.random,jC=es.reverse,ju=yi(ce,"DataView"),$a=yi(ce,"Map"),Iu=yi(ce,"Promise"),Yi=yi(ce,"Set"),Pa=yi(ce,"WeakMap"),Da=yi(Ot,"create"),ps=Pa&&new Pa,Xi={},IC=bi(ju),RC=bi($a),OC=bi(Iu),zC=bi(Yi),MC=bi(Pa),ds=Yr?Yr.prototype:C,La=ds?ds.valueOf:C,ah=ds?ds.toString:C,Qi=function(){function a(){}return function(l){if(!Zt(l))return{};if(eh)return eh(l);a.prototype=l;var f=new a;return a.prototype=C,f}}();T.templateSettings={escape:Kx,evaluate:Jx,interpolate:id,variable:"",imports:{_:T}},T.prototype=Me.prototype,T.prototype.constructor=T,He.prototype=Qi(Me.prototype),He.prototype.constructor=He,Ne.prototype=Qi(Me.prototype),Ne.prototype.constructor=Ne,hi.prototype.clear=X0,hi.prototype.delete=Q0,hi.prototype.get=e_,hi.prototype.has=t_,hi.prototype.set=n_,Or.prototype.clear=r_,Or.prototype.delete=i_,Or.prototype.get=a_,Or.prototype.has=o_,Or.prototype.set=s_,zr.prototype.clear=l_,zr.prototype.delete=u_,zr.prototype.get=c_,zr.prototype.has=p_,zr.prototype.set=d_,mi.prototype.add=mi.prototype.push=f_,mi.prototype.has=h_,dr.prototype.clear=m_,dr.prototype.delete=g_,dr.prototype.get=v_,dr.prototype.has=y_,dr.prototype.set=b_;var Xr=of(vr),oh=of(ql,!0),Ru=sf(),sh=sf(!0),lh=ps?function(a,l){return ps.set(a,l),a}:jn,FC=ls?function(a,l){return ls(a,"toString",{configurable:!0,enumerable:!1,value:xu(l),writable:!0})}:jn,NC=at,uh=_C||function(a){return fn.clearTimeout(a)},$C=Yi&&1/he(new Yi([,-0]))[1]==Ir?function(a){return new Yi(a)}:ku,Ou=ps?function(a){return ps.get(a)}:ku,zu=Tu?function(a){return a==null?[]:(a=Ot(a),u(Tu(a),function(l){return th.call(a,l)}))}:Cu,ch=Tu?function(a){for(var l=[];a;)m(l,zu(a)),a=os(a);return l}:Cu,gn=xn;(ju&&gn(new ju(new ArrayBuffer(1)))!=Ui||$a&&gn(new $a)!=Gn||Iu&&gn(Iu.resolve())!=td||Yi&&gn(new Yi)!=pr||Pa&&gn(new Pa)!=Ea)&&(gn=function(a){var l=xn(a),f=l==Rr?a.constructor:C,_=f?bi(f):"";if(_)switch(_){case IC:return Ui;case RC:return Gn;case OC:return td;case zC:return pr;case MC:return Ea}return l});var PC=ts?Pr:Su,ph=Sf(lh),Ba=kC||function(a,l){return fn.setTimeout(a,l)},Mu=Sf(FC),dh=hw(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(Qx,function(f,_,j,N){l.push(j?N.replace(s0,"$1"):_||f)}),l}),DC=at(function(a,l){return Xt(a)?ja(a,hn(l,1,Xt,!0)):[]}),LC=at(function(a,l){var f=Xn(l);return Xt(f)&&(f=C),Xt(a)?ja(a,hn(l,1,Xt,!0),qe(f,2)):[]}),BC=at(function(a,l){var f=Xn(l);return Xt(f)&&(f=C),Xt(a)?ja(a,hn(l,1,Xt,!0),C,f):[]}),UC=at(function(a){var l=d(a,iu);return l.length&&l[0]===a[0]?Gl(l):[]}),ZC=at(function(a){var l=Xn(a),f=d(a,iu);return l===Xn(f)?l=C:f.pop(),f.length&&f[0]===a[0]?Gl(f,qe(l,2)):[]}),HC=at(function(a){var l=Xn(a),f=d(a,iu);return l=typeof l=="function"?l:C,l&&f.pop(),f.length&&f[0]===a[0]?Gl(f,C,l):[]}),WC=at(Rf),qC=Nr(function(a,l){var f=a==null?0:a.length,_=Wl(a,l);return Gd(a,d(l,function(j){return $r(j,f)?+j:j}).sort(nf)),_}),VC=at(function(a){return Gr(hn(a,1,Xt,!0))}),GC=at(function(a){var l=Xn(a);return Xt(l)&&(l=C),Gr(hn(a,1,Xt,!0),qe(l,2))}),KC=at(function(a){var l=Xn(a);return l=typeof l=="function"?l:C,Gr(hn(a,1,Xt,!0),C,l)}),JC=at(function(a,l){return Xt(a)?ja(a,l):[]}),YC=at(function(a){return ru(u(a,Xt))}),XC=at(function(a){var l=Xn(a);return Xt(l)&&(l=C),ru(u(a,Xt),qe(l,2))}),QC=at(function(a){var l=Xn(a);return l=typeof l=="function"?l:C,ru(u(a,Xt),C,l)}),eS=at(gu),tS=at(function(a){var l=a.length,f=l>1?a[l-1]:C;return f=typeof f=="function"?(a.pop(),f):C,Of(a,f)}),nS=Nr(function(a){var l=a.length,f=l?a[0]:0,_=this.__wrapped__,j=function(N){return Wl(N,a)};return!(l>1||this.__actions__.length)&&_ instanceof Ne&&$r(f)?(_=_.slice(f,+f+(l?1:0)),_.__actions__.push({func:Vo,args:[j],thisArg:C}),new He(_,this.__chain__).thru(function(N){return l&&!N.length&&N.push(C),N})):this.thru(j)}),rS=Do(function(a,l,f){Ct.call(a,f)?++a[f]:Mr(a,f,1)}),iS=uf(Af),aS=uf(Tf),oS=Do(function(a,l,f){Ct.call(a,f)?a[f].push(l):Mr(a,f,[l])}),sS=at(function(a,l,f){var _=-1,j=typeof l=="function",N=An(a)?on(a.length):[];return Xr(a,function(Z){N[++_]=j?n(l,Z,f):Ia(Z,l,f)}),N}),lS=Do(function(a,l,f){Mr(a,f,l)}),uS=Do(function(a,l,f){a[f?0:1].push(l)},function(){return[[],[]]}),cS=at(function(a,l){if(a==null)return[];var f=l.length;return f>1&&_n(a,l[0],l[1])?l=[]:f>2&&_n(l[0],l[1],l[2])&&(l=[l[0]]),qd(a,hn(l,1),[])}),fs=wC||function(){return fn.Date.now()},Fu=at(function(a,l,f){var _=ft;if(f.length){var j=Xe(f,Vi(Fu));_|=ot}return Fr(a,_,l,f,j)}),fh=at(function(a,l,f){var _=ft|Qe;if(f.length){var j=Xe(f,Vi(fh));_|=ot}return Fr(l,_,a,f,j)}),pS=at(function(a,l){return Nd(a,1,l)}),dS=at(function(a,l,f){return Nd(a,Qn(l)||0,f)});Ko.Cache=zr;var fS=NC(function(a,l){l=l.length==1&&et(l[0])?d(l[0],w(qe())):d(hn(l,1),w(qe()));var f=l.length;return at(function(_){for(var j=-1,N=mn(_.length,f);++j<N;)_[j]=l[j].call(this,_[j]);return n(a,this,_)})}),Nu=at(function(a,l){return Fr(a,ot,C,l,Xe(l,Vi(Nu)))}),hh=at(function(a,l){return Fr(a,cr,C,l,Xe(l,Vi(hh)))}),hS=Nr(function(a,l){return Fr(a,Tr,C,C,C,l)}),mS=Zo(Vl),gS=Zo(function(a,l){return a>=l}),_i=Dd(function(){return arguments}())?Dd:function(a){return Jt(a)&&Ct.call(a,"callee")&&!th.call(a,"callee")},et=on.isArray,vS=Ed?w(Ed):R_,Qr=CC||Su,yS=Ad?w(Ad):O_,mh=Td?w(Td):M_,$u=jd?w(jd):F_,gh=Id?w(Id):N_,ea=Rd?w(Rd):$_,bS=Zo(Yl),xS=Zo(function(a,l){return a<=l}),_S=Wi(function(a,l){if(Ma(l)||An(l))return yr(l,pn(l),a),C;for(var f in l)Ct.call(l,f)&&Ta(a,f,l[f])}),vh=Wi(function(a,l){yr(l,Tn(l),a)}),hs=Wi(function(a,l,f,_){yr(l,Tn(l),a,_)}),wS=Wi(function(a,l,f,_){yr(l,pn(l),a,_)}),kS=Nr(Wl),CS=at(function(a,l){a=Ot(a);var f=-1,_=l.length,j=_>2?l[2]:C;for(j&&_n(l[0],l[1],j)&&(_=1);++f<_;)for(var N=l[f],Z=Tn(N),q=-1,ne=Z.length;++q<ne;){var ve=Z[q],fe=a[ve];(fe===C||fr(fe,Ji[ve])&&!Ct.call(a,ve))&&(a[ve]=N[ve])}return a}),SS=at(function(a){return a.push(C,gf),n(yh,C,a)}),ES=pf(function(a,l,f){l!=null&&typeof l.toString!="function"&&(l=rs.call(l)),a[l]=f},xu(jn)),AS=pf(function(a,l,f){l!=null&&typeof l.toString!="function"&&(l=rs.call(l)),Ct.call(a,l)?a[l].push(f):a[l]=[f]},qe),TS=at(Ia),jS=Wi(function(a,l,f){No(a,l,f)}),yh=Wi(function(a,l,f,_){No(a,l,f,_)}),IS=Nr(function(a,l){var f={};if(a==null)return f;var _=!1;l=d(l,function(N){return N=Kr(N,a),_||(_=N.length>1),N}),yr(a,cu(a),f),_&&(f=Jn(f,we|Ae|De,nw));for(var j=l.length;j--;)nu(f,l[j]);return f}),RS=Nr(function(a,l){return a==null?{}:L_(a,l)}),bh=hf(pn),xh=hf(Tn),OS=qi(function(a,l,f){return l=l.toLowerCase(),a+(f?Vf(l):l)}),zS=qi(function(a,l,f){return a+(f?"-":"")+l.toLowerCase()}),MS=qi(function(a,l,f){return a+(f?" ":"")+l.toLowerCase()}),FS=lf("toLowerCase"),NS=qi(function(a,l,f){return a+(f?"_":"")+l.toLowerCase()}),$S=qi(function(a,l,f){return a+(f?" ":"")+Pu(l)}),PS=qi(function(a,l,f){return a+(f?" ":"")+l.toUpperCase()}),Pu=lf("toUpperCase"),_h=at(function(a,l){try{return n(a,C,l)}catch(f){return vu(f)?f:new Eu(f)}}),DS=Nr(function(a,l){return i(l,function(f){f=br(f),Mr(a,f,Fu(a[f],a))}),a}),LS=cf(),BS=cf(!0),US=at(function(a,l){return function(f){return Ia(f,a,l)}}),ZS=at(function(a,l){return function(f){return Ia(a,f,l)}}),HS=su(d),WS=su(o),qS=su(h),VS=df(),GS=df(!0),KS=Bo(function(a,l){return a+l},0),JS=lu("ceil"),YS=Bo(function(a,l){return a/l},1),XS=lu("floor"),QS=Bo(function(a,l){return a*l},1),eE=lu("round"),tE=Bo(function(a,l){return a-l},0);return T.after=Ak,T.ary=Nf,T.assign=_S,T.assignIn=vh,T.assignInWith=hs,T.assignWith=wS,T.at=kS,T.before=$f,T.bind=Fu,T.bindAll=DS,T.bindKey=fh,T.castArray=Fk,T.chain=zf,T.chunk=xw,T.compact=_w,T.concat=ww,T.cond=V1,T.conforms=G1,T.constant=xu,T.countBy=rS,T.create=i1,T.curry=Pf,T.curryRight=Df,T.debounce=Lf,T.defaults=CS,T.defaultsDeep=SS,T.defer=pS,T.delay=dS,T.difference=DC,T.differenceBy=LC,T.differenceWith=BC,T.drop=kw,T.dropRight=Cw,T.dropRightWhile=Sw,T.dropWhile=Ew,T.fill=Aw,T.filter=fk,T.flatMap=hk,T.flatMapDeep=mk,T.flatMapDepth=gk,T.flatten=jf,T.flattenDeep=Tw,T.flattenDepth=jw,T.flip=Tk,T.flow=LS,T.flowRight=BS,T.fromPairs=Iw,T.functions=p1,T.functionsIn=d1,T.groupBy=oS,T.initial=Ow,T.intersection=UC,T.intersectionBy=ZC,T.intersectionWith=HC,T.invert=ES,T.invertBy=AS,T.invokeMap=sS,T.iteratee=_u,T.keyBy=lS,T.keys=pn,T.keysIn=Tn,T.map=Go,T.mapKeys=h1,T.mapValues=m1,T.matches=J1,T.matchesProperty=Y1,T.memoize=Ko,T.merge=jS,T.mergeWith=yh,T.method=US,T.methodOf=ZS,T.mixin=wu,T.negate=Jo,T.nthArg=Q1,T.omit=IS,T.omitBy=g1,T.once=jk,T.orderBy=yk,T.over=HS,T.overArgs=fS,T.overEvery=WS,T.overSome=qS,T.partial=Nu,T.partialRight=hh,T.partition=uS,T.pick=RS,T.pickBy=qf,T.property=Jf,T.propertyOf=eC,T.pull=WC,T.pullAll=Rf,T.pullAllBy=Nw,T.pullAllWith=$w,T.pullAt=qC,T.range=VS,T.rangeRight=GS,T.rearg=hS,T.reject=_k,T.remove=Pw,T.rest=Ik,T.reverse=mu,T.sampleSize=kk,T.set=y1,T.setWith=b1,T.shuffle=Ck,T.slice=Dw,T.sortBy=cS,T.sortedUniq=qw,T.sortedUniqBy=Vw,T.split=$1,T.spread=Rk,T.tail=Gw,T.take=Kw,T.takeRight=Jw,T.takeRightWhile=Yw,T.takeWhile=Xw,T.tap=ik,T.throttle=Ok,T.thru=Vo,T.toArray=Zf,T.toPairs=bh,T.toPairsIn=xh,T.toPath=aC,T.toPlainObject=Wf,T.transform=x1,T.unary=zk,T.union=VC,T.unionBy=GC,T.unionWith=KC,T.uniq=Qw,T.uniqBy=ek,T.uniqWith=tk,T.unset=_1,T.unzip=gu,T.unzipWith=Of,T.update=w1,T.updateWith=k1,T.values=Gi,T.valuesIn=C1,T.without=JC,T.words=Kf,T.wrap=Mk,T.xor=YC,T.xorBy=XC,T.xorWith=QC,T.zip=eS,T.zipObject=nk,T.zipObjectDeep=rk,T.zipWith=tS,T.entries=bh,T.entriesIn=xh,T.extend=vh,T.extendWith=hs,wu(T,T),T.add=KS,T.attempt=_h,T.camelCase=OS,T.capitalize=Vf,T.ceil=JS,T.clamp=S1,T.clone=Nk,T.cloneDeep=Pk,T.cloneDeepWith=Dk,T.cloneWith=$k,T.conformsTo=Lk,T.deburr=Gf,T.defaultTo=K1,T.divide=YS,T.endsWith=T1,T.eq=fr,T.escape=j1,T.escapeRegExp=I1,T.every=dk,T.find=iS,T.findIndex=Af,T.findKey=a1,T.findLast=aS,T.findLastIndex=Tf,T.findLastKey=o1,T.floor=XS,T.forEach=Mf,T.forEachRight=Ff,T.forIn=s1,T.forInRight=l1,T.forOwn=u1,T.forOwnRight=c1,T.get=yu,T.gt=mS,T.gte=gS,T.has=f1,T.hasIn=bu,T.head=If,T.identity=jn,T.includes=vk,T.indexOf=Rw,T.inRange=E1,T.invoke=TS,T.isArguments=_i,T.isArray=et,T.isArrayBuffer=vS,T.isArrayLike=An,T.isArrayLikeObject=Xt,T.isBoolean=Bk,T.isBuffer=Qr,T.isDate=yS,T.isElement=Uk,T.isEmpty=Zk,T.isEqual=Hk,T.isEqualWith=Wk,T.isError=vu,T.isFinite=qk,T.isFunction=Pr,T.isInteger=Bf,T.isLength=Yo,T.isMap=mh,T.isMatch=Vk,T.isMatchWith=Gk,T.isNaN=Kk,T.isNative=Jk,T.isNil=Xk,T.isNull=Yk,T.isNumber=Uf,T.isObject=Zt,T.isObjectLike=Jt,T.isPlainObject=Fa,T.isRegExp=$u,T.isSafeInteger=Qk,T.isSet=gh,T.isString=Xo,T.isSymbol=Pn,T.isTypedArray=ea,T.isUndefined=e1,T.isWeakMap=t1,T.isWeakSet=n1,T.join=zw,T.kebabCase=zS,T.last=Xn,T.lastIndexOf=Mw,T.lowerCase=MS,T.lowerFirst=FS,T.lt=bS,T.lte=xS,T.max=sC,T.maxBy=lC,T.mean=uC,T.meanBy=cC,T.min=pC,T.minBy=dC,T.stubArray=Cu,T.stubFalse=Su,T.stubObject=tC,T.stubString=nC,T.stubTrue=rC,T.multiply=QS,T.nth=Fw,T.noConflict=X1,T.noop=ku,T.now=fs,T.pad=R1,T.padEnd=O1,T.padStart=z1,T.parseInt=M1,T.random=A1,T.reduce=bk,T.reduceRight=xk,T.repeat=F1,T.replace=N1,T.result=v1,T.round=eE,T.runInContext=J,T.sample=wk,T.size=Sk,T.snakeCase=NS,T.some=Ek,T.sortedIndex=Lw,T.sortedIndexBy=Bw,T.sortedIndexOf=Uw,T.sortedLastIndex=Zw,T.sortedLastIndexBy=Hw,T.sortedLastIndexOf=Ww,T.startCase=$S,T.startsWith=P1,T.subtract=tE,T.sum=fC,T.sumBy=hC,T.template=D1,T.times=iC,T.toFinite=Dr,T.toInteger=rt,T.toLength=Hf,T.toLower=L1,T.toNumber=Qn,T.toSafeInteger=r1,T.toString=wt,T.toUpper=B1,T.trim=U1,T.trimEnd=Z1,T.trimStart=H1,T.truncate=W1,T.unescape=q1,T.uniqueId=oC,T.upperCase=PS,T.upperFirst=Pu,T.each=Mf,T.eachRight=Ff,T.first=If,wu(T,function(){var a={};return vr(T,function(l,f){Ct.call(T.prototype,f)||(a[f]=l)}),a}(),{chain:!1}),T.VERSION=G,i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){T[a].placeholder=T}),i(["drop","take"],function(a,l){Ne.prototype[a]=function(f){f=f===C?1:sn(rt(f),0);var _=this.__filtered__&&!l?new Ne(this):this.clone();return _.__filtered__?_.__takeCount__=mn(f,_.__takeCount__):_.__views__.push({size:mn(f,Vn),type:a+(_.__dir__<0?"Right":"")}),_},Ne.prototype[a+"Right"]=function(f){return this.reverse()[a](f).reverse()}}),i(["filter","map","takeWhile"],function(a,l){var f=l+1,_=f==ka||f==Ao;Ne.prototype[a]=function(j){var N=this.clone();return N.__iteratees__.push({iteratee:qe(j,3),type:f}),N.__filtered__=N.__filtered__||_,N}}),i(["head","last"],function(a,l){var f="take"+(l?"Right":"");Ne.prototype[a]=function(){return this[f](1).value()[0]}}),i(["initial","tail"],function(a,l){var f="drop"+(l?"":"Right");Ne.prototype[a]=function(){return this.__filtered__?new Ne(this):this[f](1)}}),Ne.prototype.compact=function(){return this.filter(jn)},Ne.prototype.find=function(a){return this.filter(a).head()},Ne.prototype.findLast=function(a){return this.reverse().find(a)},Ne.prototype.invokeMap=at(function(a,l){return typeof a=="function"?new Ne(this):this.map(function(f){return Ia(f,a,l)})}),Ne.prototype.reject=function(a){return this.filter(Jo(qe(a)))},Ne.prototype.slice=function(a,l){a=rt(a);var f=this;return f.__filtered__&&(a>0||l<0)?new Ne(f):(a<0?f=f.takeRight(-a):a&&(f=f.drop(a)),l!==C&&(l=rt(l),f=l<0?f.dropRight(-l):f.take(l-a)),f)},Ne.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ne.prototype.toArray=function(){return this.take(Vn)},vr(Ne.prototype,function(a,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),_=/^(?:head|last)$/.test(l),j=T[_?"take"+(l=="last"?"Right":""):l],N=_||/^find/.test(l);j&&(T.prototype[l]=function(){var Z=this.__wrapped__,q=_?[1]:arguments,ne=Z instanceof Ne,ve=q[0],fe=ne||et(Z),_e=function(lt){var ut=j.apply(T,m([lt],q));return _&&ze?ut[0]:ut};fe&&f&&typeof ve=="function"&&ve.length!=1&&(ne=fe=!1);var ze=this.__chain__,$e=!!this.__actions__.length,Be=N&&!ze,nt=ne&&!$e;if(!N&&fe){Z=nt?Z:new Ne(this);var Ue=a.apply(Z,q);return Ue.__actions__.push({func:Vo,args:[_e],thisArg:C}),new He(Ue,ze)}return Be&&nt?a.apply(this,q):(Ue=this.thru(_e),Be?_?Ue.value()[0]:Ue.value():Ue)})}),i(["pop","push","shift","sort","splice","unshift"],function(a){var l=es[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",_=/^(?:pop|shift)$/.test(a);T.prototype[a]=function(){var j=arguments;if(_&&!this.__chain__){var N=this.value();return l.apply(et(N)?N:[],j)}return this[f](function(Z){return l.apply(et(Z)?Z:[],j)})}}),vr(Ne.prototype,function(a,l){var f=T[l];if(f){var _=f.name+"";Ct.call(Xi,_)||(Xi[_]=[]),Xi[_].push({name:l,func:f})}}),Xi[Lo(C,Qe).name]=[{name:"wrapper",func:C}],Ne.prototype.clone=Sn,Ne.prototype.reverse=Zl,Ne.prototype.value=Y0,T.prototype.at=nS,T.prototype.chain=ak,T.prototype.commit=ok,T.prototype.next=sk,T.prototype.plant=uk,T.prototype.reverse=ck,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=pk,T.prototype.first=T.prototype.head,Na&&(T.prototype[Na]=lk),T},Hi=J0();fi?((fi.exports=Hi)._=Hi,Bl._=Hi):fn._=Hi}).call(Un)})(el,el.exports);var JZ=el.exports,ev=JZ.runInContext(),mt=aj(ev,ev);const Px=/^[A-Za-z][_0-9A-Za-z]*$/,Dx=e=>({name:"attributeNameAlreadyUsed",message:Vt.unique.id,test(t){if(!t)return!1;const n=mt.snakeCase(t);return!e.some(r=>mt.snakeCase(r)===n)}}),ap=e=>({name:"forbiddenAttributeName",message:ee("error.attributeName.reserved-name"),test(t){if(!t)return!1;const n=mt.snakeCase(t);return!e.some(r=>mt.snakeCase(r)===n)}}),Ee={default:()=>jt().nullable(),max:()=>rr().integer().nullable(),min:()=>rr().integer().when("max",(e,t)=>e?t.max(e,ee("error.validation.minSupMax")):t).nullable(),maxLength:()=>rr().integer().positive(ee("error.validation.positive")).nullable(),maxLengthString:()=>rr().integer().positive(ee("error.validation.positive")).max(255,"Maximum length for short text fields is 255 characters").nullable(),minLength:()=>rr().integer().min(1).when("maxLength",(e,t)=>e?t.max(e,ee("error.validation.minSupMax")):t).nullable(),name(e,t){return jt().test(Dx(e)).test(ap(t)).matches(Px,Vt.regex.id).required(Vt.required.id)},required:()=>oo(),type:()=>jt().required(Vt.required.id),unique:()=>oo().nullable()},tv=(e,t)=>({name:Ee.name(e,t),type:Ee.type(),default:Ee.default(),unique:Ee.unique(),required:Ee.required(),maxLength:Ee.maxLength(),minLength:Ee.minLength(),regex:jt().test({name:"isValidRegExpPattern",message:ee("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),YZ=(e,t)=>({name:Ee.name(e,t),type:Ee.type(),default:Ee.default(),unique:Ee.unique(),required:Ee.required(),maxLength:Ee.maxLengthString(),minLength:Ee.minLength(),regex:jt().test({name:"isValidRegExpPattern",message:ee("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),_c=()=>({name:"isMinSuperiorThanMax",message:ee("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN(Bu(e))?!0:Bu(t)>=Bu(e)}}),As={date(e,t){const n={name:Ee.name(e,t),type:Ee.type()};return Lt(n)},datetime(e,t){const n={name:Ee.name(e,t),type:Ee.type()};return Lt(n)},time(e,t){const n={name:Ee.name(e,t),type:Ee.type()};return Lt(n)},default(e,t){const n={name:Ee.name(e,t),type:Ee.type()};return Lt(n)},biginteger(e,t){const n={name:Ee.name(e,t),type:Ee.type(),default:jt().nullable().matches(/^-?\d*$/),unique:Ee.unique(),required:Ee.required(),max:jt().nullable().matches(/^-?\d*$/,Vt.regex.id),min:jt().nullable().test(_c()).matches(/^-?\d*$/,Vt.regex.id)};return Lt(n)},boolean(e,t){const n={name:Ee.name(e,t),default:oo().nullable(),required:Ee.required(),unique:Ee.unique()};return Lt(n)},component(e,t){const n={name:Ee.name(e,t),type:Ee.type(),required:Ee.required(),max:Ee.max(),min:Ee.min(),component:jt().required(Vt.required.id)};return Lt(n)},decimal(e,t){const n={name:Ee.name(e,t),type:Ee.type(),default:rr(),required:Ee.required(),max:rr(),min:rr().test(_c())};return Lt(n)},dynamiczone(e,t){const n={name:Ee.name(e,t),type:Ee.type(),required:Ee.required(),max:Ee.max(),min:Ee.min()};return Lt(n)},email(e,t){const n={name:Ee.name(e,t),type:Ee.type(),default:jt().email().nullable(),unique:Ee.unique(),required:Ee.required(),maxLength:Ee.maxLength(),minLength:Ee.minLength()};return Lt(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:jt().test(Dx(e)).test(ap(t)).matches(n,Vt.regex.id).required(Vt.required.id),type:Ee.type(),default:Ee.default(),unique:Ee.unique(),required:Ee.required(),enum:jh().of(jt()).min(1,Vt.min.id).test({name:"areEnumValuesUnique",message:ee("error.validation.enum-duplicate"),test(i){return i?!KZ(i.map(xc).filter((o,u,c)=>c.indexOf(o)!==u)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:ee("error.validation.enum-empty-string"),test:i=>i?!i.map(xc).some(s=>s===""):!1}).test({name:"doesMatchRegex",message:ee("error.validation.enum-regex"),test:i=>i?i.map(xc).every(s=>n.test(s)):!1}),enumName:jt().nullable()};return Lt(r)},float(e,t){const n={name:Ee.name(e,t),type:Ee.type(),required:Ee.required(),default:rr(),max:rr(),min:rr().test(_c())};return Lt(n)},integer(e,t){const n={name:Ee.name(e,t),type:Ee.type(),default:rr().integer(),unique:Ee.unique(),required:Ee.required(),max:Ee.max(),min:Ee.min()};return Lt(n)},json(e,t){const n={name:Ee.name(e,t),type:Ee.type(),required:Ee.required(),unique:Ee.unique()};return Lt(n)},media(e,t){const n={name:Ee.name(e,t),type:Ee.type(),multiple:oo(),required:Ee.required(),allowedTypes:jh().of(jt().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Lt(n)},password(e,t){const n={name:Ee.name(e,t),type:Ee.type(),default:Ee.default(),unique:Ee.unique(),required:Ee.required(),maxLength:Ee.maxLength(),minLength:Ee.minLength()};return Lt(n)},relation(e,t,n,{initialData:r,modifiedData:i}){const s={name:Ee.name(e,t),target:jt().required(Vt.required.id),relation:jt().required(),type:jt().required(),targetAttribute:oj(()=>{const o=mp(i.relation,i.targetAttribute);if(o==="oneWay"||o==="manyWay")return jt().nullable();const u=jt().test(ap(t)),p=[...n.map(({name:d})=>d),i.name].filter(d=>d!==r.targetAttribute);return u.matches(Px,Vt.regex.id).test({name:"forbiddenTargetAttributeName",message:ee("error.validation.relation.targetAttribute-taken"),test(d){return d?!p.includes(d):!1}}).required(Vt.required.id)})};return Lt(s)},richtext(e,t){const n={name:Ee.name(e,t),type:Ee.type(),default:Ee.default(),unique:Ee.unique(),required:Ee.required(),maxLength:Ee.maxLength(),minLength:Ee.minLength()};return Lt(n)},blocks(e,t){const n={name:Ee.name(e,t),type:Ee.type(),default:Ee.default(),unique:Ee.unique(),required:Ee.required(),maxLength:Ee.maxLength(),minLength:Ee.minLength()};return Lt(n)},string(e,t){const n=YZ(e,t);return Lt(n)},text(e,t){const n=tv(e,t);return Lt(n)},uid(e,t){const n=tv(e,t);return Lt(n)}},XZ=/^[A-Za-z][-_0-9A-Za-z]*$/,QZ=(e,t,n,r,i)=>{const s={displayName:jt().test({name:"nameAlreadyUsed",message:Vt.unique.id,test(o){if(!o)return!1;const u=Ga(o,n),c=mt.snakeCase(u),p=mt.snakeCase(i);return e.every(d=>mt.snakeCase(d)!==c)&&r.every(d=>mt.snakeCase(d)!==p)}}).test({name:"nameNotAllowed",message:ee("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const u=mt.snakeCase(o);return t.every(c=>mt.snakeCase(c)!==u)}}).required(Vt.required.id),category:jt().matches(XZ,Vt.regex.id).required(Vt.required.id),icon:jt()};return Lt(s)},nv={name:"displayName",type:"text",intlLabel:{id:ee("contentType.displayName.label"),defaultMessage:"Display name"}},wc={advanced:{default(){return{sections:[{items:[{intlLabel:{id:ee("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:ee("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[nv,{description:{id:ee("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:ee("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:ee("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:ee("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[nv,{disabled:!0,description:{id:ee("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:ee("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:ee("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:ee("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:ee("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:ee("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:ee("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:ee("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},e8=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:r=[],collectionNames:i=[]})=>{const s={displayName:jt().test({name:"nameAlreadyUsed",message:Vt.unique.id,test(o){if(!o)return!1;const u=$v(o),c=mt.snakeCase(u);return!e.some(p=>mt.snakeCase(p)===c)}}).test({name:"nameNotAllowed",message:ee("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const u=mt.snakeCase(o);return!t.some(c=>mt.snakeCase(c)===u)}}).required(Vt.required.id),pluralName:jt().test({name:"pluralNameAlreadyUsed",message:Vt.unique.id,test(o){if(!o)return!1;const u=mt.snakeCase(o);return!r.some(c=>mt.snakeCase(c)===u)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:ee("error.contentType.pluralName-equals-singularName"),test(o){if(!o)return!1;const u=mt.snakeCase(o);return!n.some(c=>mt.snakeCase(c)===u)}}).test({name:"pluralAndSingularAreUnique",message:ee("error.contentType.pluralName-used"),test(o,u){return o?mt.snakeCase(u.parent.singularName)!==mt.snakeCase(o):!1}}).test({name:"pluralNameNotAllowed",message:ee("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const u=mt.snakeCase(o);return!t.some(c=>mt.snakeCase(c)===u)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:ee("error.contentType.pluralName-equals-collectionName"),test(o){if(!o)return!1;const u=mt.snakeCase(o);return!i.some(c=>mt.snakeCase(c)===u)}}).required(Vt.required.id),singularName:jt().test({name:"singularNameAlreadyUsed",message:Vt.unique.id,test(o){if(!o)return!1;const u=mt.snakeCase(o);return!n.some(c=>mt.snakeCase(c)===u)}}).test({name:"singularNameAlreadyUsedAsPlural",message:ee("error.contentType.singularName-equals-pluralName"),test(o){if(!o)return!1;const u=mt.snakeCase(o);return!r.some(c=>mt.snakeCase(c)===u)}}).test({name:"pluralAndSingularAreUnique",message:ee("error.contentType.singularName-used"),test(o,u){return o?mt.snakeCase(u.parent.pluralName)!==mt.snakeCase(o):!1}}).test({name:"singularNameNotAllowed",message:ee("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const u=mt.snakeCase(o);return!t.some(c=>mt.snakeCase(c)===u)}}).required(Vt.required.id),draftAndPublish:oo(),kind:jt().oneOf(["singleType","collectionType"])};return Lt(s)},kc={advanced:{default(){return{sections:ya.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[ip]},...ya.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[ip]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:ee("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},rv=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items?.push(n);return}t.push(n)})},t8=(e,t)=>`components_${mt.snakeCase(t)}_${ha(mt.snakeCase(e))}`,iv=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n),wi={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:r,schemaData:i,ctbFormsAPI:s}){const o=iv(e,i);let u;return t==="relation"?u=As[t](o,r.attributes,[],{initialData:{},modifiedData:{}}):u=As[t](o,r.attributes),s.makeCustomFieldValidator(u,n,o,r.attributes,i)},form:{base({customField:e}){const t=[{sectionTitle:null,items:[Cr]}];return e.options?.base&&rv(e.options.base,t),{sections:t}},advanced({customField:e,data:t,step:n,extensions:r,...i}){const s=[{sectionTitle:null,items:[]},{sectionTitle:{id:"form.attribute.condition.section",defaultMessage:"Conditions"},items:[{name:"conditions",type:"condition-form",intlLabel:{id:"form.attribute.condition.label",defaultMessage:"Visibility condition"},description:{id:"form.attribute.condition.desc",defaultMessage:"Show this field only when a boolean/enum condition matches."}}]}],o=r.getAdvancedForm(["attribute",e.type],{data:t,type:e.type,step:n,...i});if(e.options?.advanced&&rv(e.options.advanced,s),o){const u={sectionTitle:{id:ee("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:o};s.push(u)}return{sections:s}}}},attribute:{schema(e,t,n,r,i,s){const o=e?.attributes??[],u=iv(o,i);try{const c=As[t](u,n.attributes,r,i);return s.makeValidator(["attribute",t],c,u,n.attributes,r,i)}catch(c){return console.error("Error yup build schema",c),As.default(u,n.attributes)}},form:{advanced({data:e,type:t,step:n,extensions:r,...i}){try{const s=Qg.advanced[t](e,n).sections,o=r.getAdvancedForm(["attribute",t],{data:e,type:t,step:n,...i});let u=!1;return{sections:s.reduce((p,d)=>(d.sectionTitle===null||u?p.push(d):(p.push({...d,items:[...d.items,...o]}),u=!0),p),[])}}catch(s){return console.error(s),{sections:[]}}},base({data:e,type:t,step:n,attributes:r}){try{return Qg.base[t](e,n,r)}catch{return ZZ}}}},contentType:{schema(e,t,n,r,i,s){const o=Object.values(s).map(h=>h.info.singularName),u=Object.values(s).map(h=>h?.info?.pluralName??""),c=t?e.filter(h=>h!==n):e,p=t?o.filter(h=>{const{info:x}=s[n];return x.singularName!==h}):o,d=t?u.filter(h=>{const{info:x}=s[n];return x.pluralName!==h}):u,m=Object.values(s).map(h=>h?.collectionName??""),v=t?m.filter(h=>{const{collectionName:x}=s[n];return h!==x}):m,y=e8({usedContentTypeNames:c,reservedModels:r.models,singularNames:p,pluralNames:d,collectionNames:v});return i.makeValidator(["contentType"],y,c,r.models,p,d)},form:{base({actionType:e}){return e==="create"?wc.base.create():wc.base.edit()},advanced({extensions:e}){const t=wc.advanced.default().sections.map(r=>r.items).flat(),n=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...t,...n]}]}}}},component:{schema(e,t,n,r=!1,i,s,o=null){const u=r?e.filter(m=>m!==o):e,c=Object.values(i).map(m=>m?.collectionName),p=t8(s,t),d=r?c.filter(m=>m!==p):c;return QZ(u,n.models,t,d,p)},form:{advanced(){return{sections:ya.advanced()}},base(){return{sections:ya.base()}}}},addComponentToDynamicZone:{form:{advanced(){return kc.advanced.default()},base({data:e}){return e?.createComponent??!1?kc.base.createComponent():kc.base.default()}}}},n8=(e,t)=>{const n=e.kind;return n==="singleType"||n===t.kind?!0:(e?.attributes??[]).filter(s=>{if(s.type!=="relation")return!1;const{relation:o,targetAttribute:u}=s,c=mp(o,u);return!["oneWay","manyWay"].includes(c||"")}).length===0},r8=(e="",t,n)=>{const r=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],i=e==="contentType";if(i)return[[...r.slice(0,-1),"uid",...r.slice(-1)],["component","dynamiczone"]];if(e){const o=$x(t,n)>=Fv;if(!i&&!o)return[r,["component"]]}return[r]},av=e=>e.reduce((t,n)=>{const r=n.items.reduce((i,s)=>(s.name&&i.push(s.name),i),[]);return[...t,...r]},[]),i8=gt.form`
  overflow: auto;
`,a8=e=>e["content-type-builder_formModal"]||sj,o8=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:r,actionType:i,attributeName:s,attributeType:o,customFieldUid:u,dynamicZoneTarget:c,forTarget:p,modalType:d,isOpen:m,kind:v,step:y,targetUid:h,showBackLink:x,activeTab:b,setActiveTab:k}=wa(),S=ao("FormModal",Ze=>Ze.getPlugin),I=ao("FormModal",Ze=>Ze.customFields.get)(u),F=al(),{toggleNotification:O}=ba(),D=bv(a8,lj),B=uj(),{trackUsage:K}=Fi(),{formatMessage:V}=ct(),Q=S(ai)?.apis.forms,M=Q.components.inputs,Y=Ri("FormModal",Ze=>Ze.dispatch),{addAttribute:w,editAttribute:P,addCustomFieldAttribute:xe,addCreatedComponentToDynamicZone:oe,changeDynamicZoneComponents:ue,contentTypes:z,components:se,createSchema:X,createComponentSchema:R,deleteComponent:Te,deleteContentType:ke,editCustomFieldAttribute:ae,updateSchema:Ye,nestedComponents:Xe,sortedContentTypesList:he,updateComponentSchema:Oe,updateComponentUid:ge,reservedNames:je}=qn(),{componentToCreate:Ve,formErrors:We,initialData:E,isCreatingComponentWhileAddingAField:le,modifiedData:H}=D,$=p==="component"?se[h]:z[h],[C,G]=W.useState(!1),[me,ye]=W.useState(null),te=()=>{if(i!=="edit"||d!=="attribute")return!1;const Ze=E.name,vt=E.enum,Kt=H.enum,Pt=($?.attributes||[]).filter(Dt=>{if(!Dt.conditions)return!1;const dn=Dt.conditions.visible;if(!dn)return!1;const[[,Li]]=Object.entries(dn),[Bi,To]=Li;return Bi.var!==Ze?!1:vt&&Kt?vt.filter(di=>!Kt.includes(di)).includes(To):!0});return Pt.length>0?Pt:!1};W.useEffect(()=>{if(m){const Ze=he.filter(Ax);i==="edit"&&d==="attribute"&&p==="contentType"&&K("willEditFieldOfContentType");const vt=Qc(Wt($,"schema.attributes",[]),c)||null;if(d==="contentType"&&i==="create"&&F(Qt.setDataToEdit({data:{draftAndPublish:!0}})),d==="contentType"&&i==="edit"&&F(Qt.setDataToEdit({data:{displayName:$.info.displayName,draftAndPublish:$.options?.draftAndPublish,kind:"kind"in $&&$.kind,pluginOptions:$.pluginOptions,pluralName:"pluralName"in $.info&&$.info.pluralName,singularName:"singularName"in $.info&&$.info.singularName}})),d==="component"&&i==="edit"&&F(Qt.setDataToEdit({data:{displayName:$.info.displayName,category:"category"in $&&$.category,icon:$.info.icon}})),d==="addComponentToDynamicZone"&&i==="edit"){const Kt={...vt,components:[],name:c,createComponent:!1,componentToCreate:{type:"component"}};F(Qt.setDynamicZoneDataSchema({attributeToEdit:Kt}))}if(o){const st={...Qc(Wt($,["attributes"],[]),s),name:s};o==="component"&&i==="edit"&&(!("repeatable"in st)||!st.repeatable)&&cj(st,"repeatable",!1),F(d==="customField"?i==="edit"?Qt.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:st,uid:$.uid}):Qt.setCustomFieldDataSchema({customField:pj(I,["type","options"]),isEditing:!1,modifiedDataToSetForEditing:st,uid:$.uid}):Qt.setAttributeDataSchema({attributeType:o,nameToSetForRelation:Wt(Ze,["0","title"],"error"),targetUid:Wt(Ze,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:st,step:y,uid:$.uid}))}}else F(Qt.resetProps())},[i,s,o,c,p,m,d]);const re=d==="contentType",pe=d==="component",U=d==="attribute",ie=d==="customField",we=o==="component"&&U,Ae=i==="create",De=Wt(H,"createComponent",!1)||le,pt=y==="1",_t=d==="chooseAttribute",ft=$v(H.singularName||""),Qe=Wt($,["attributes"],null),an=async()=>{let Ze;const vt=De&&y==="1"?Wt(H,"componentToCreate",{}):H;if(re)Ze=wi.contentType.schema(Object.keys(z),i==="edit",$?.uid??null,je,Q,z);else if(pe)Ze=wi.component.schema(Object.keys(se),H.category||"",je,i==="edit",se,H.displayName||"",$?.uid??null);else if(ie)Ze=wi.customField.schema({schemaAttributes:Wt($,["attributes"],[]),attributeType:I.type,reservedNames:je,schemaData:{modifiedData:H,initialData:E},ctbFormsAPI:Q,customFieldValidator:I.options?.validator});else if(we&&De&&pt)Ze=wi.component.schema(Object.keys(se),Wt(H,"componentToCreate.category",""),je,i==="edit",se,H.componentToCreate.displayName||"");else if(U&&!pt){const Kt=o==="relation"?"relation":H.type;let st=[];if(Kt==="relation"){const Pt=Wt(H,["target"],null);st=Wt(z,[Pt,"attributes"],[]).filter(({name:dn})=>i!=="edit"?!0:dn!==E.targetAttribute)}Ze=wi.attribute.schema($,Kt,je,st,{modifiedData:H,initialData:E},Q)}else if(pt&&De)Ze=wi.component.schema(Object.keys(se),Wt(H,"componentToCreate.category",""),je,i==="edit",se,H.componentToCreate.displayName||"");else return;await Ze.validate(vt,{abortEarly:!1})},ht=W.useCallback(({target:{name:Ze,value:vt,type:Kt,...st}})=>{const Pt=["enumName","max","min","maxLength","minLength","regex","default"];let Dt;Pt.includes(Ze)&&vt===""?Dt=null:Ze==="enum"?Dt=Array.isArray(vt)?vt:[vt]:Dt=vt;const dn=Object.assign({},We);Ze==="max"&&delete dn.min,Ze==="maxLength"&&delete dn.minLength,delete dn[Ze],F(Qt.setErrors({errors:dn})),F(Qt.onChange({keys:Ze.split("."),value:Dt}))},[F,We]),kt=async(Ze,vt=Ae)=>{try{await an(),F(Qt.setErrors({errors:{}})),qr(vt);const Kt=h;if(re)if(Ae)X({data:{kind:v,displayName:H.displayName,draftAndPublish:H.draftAndPublish,pluginOptions:H.pluginOptions,singularName:H.singularName,pluralName:H.pluralName},uid:ft}),B({pathname:`/plugins/${ai}/content-types/${ft}`}),e();else{const st=$;n8(st,H)?(e(),await Ye({uid:st.uid,data:{displayName:H.displayName,kind:H.kind,draftAndPublish:H.draftAndPublish,pluginOptions:H.pluginOptions}})):O({type:"danger",message:V({id:"notification.contentType.relations.conflict"})});return}else if(d==="component")if(Ae){const st=Ga(H.displayName,H.category),{category:Pt,...Dt}=H;R({data:{displayName:Dt.displayName,icon:Dt.icon},uid:st,componentCategory:Pt}),B({pathname:`/plugins/${ai}/component-categories/${Pt}/${st}`}),e();return}else{if(Oe({data:{icon:H.icon,displayName:H.displayName},componentUID:h}),$.status==="NEW"){const st=Ga(H.displayName,H.category);ge({componentUID:h,newComponentUID:st}),B({pathname:`/plugins/${ai}/component-categories/${H.category}/${st}`})}e();return}else if(ie){const st={attributeToSet:{...H,customField:u},forTarget:p,targetUid:h,name:E.name};i==="edit"?ae(st):xe(st),vt?t({forTarget:p,targetUid:Kt}):e();return}else if(U&&!De){if(o==="dynamiczone"){i==="create"?w({attributeToSet:H,forTarget:p,targetUid:h}):P({attributeToSet:H,forTarget:p,targetUid:h,name:E.name}),Ae?(F(Qt.resetPropsAndSetTheFormForAddingACompoToADz()),k("basic"),n({dynamicZoneTarget:H.name})):e();return}if(!we){i==="create"?w({attributeToSet:H,forTarget:p,targetUid:h}):P({attributeToSet:H,forTarget:p,targetUid:h,name:E.name}),vt?t({forTarget:p,targetUid:Kt}):e();return}if(pt){r(),F(Qt.resetPropsAndSetFormForAddingAnExistingCompo({uid:$.uid}));return}if(i==="create")w({attributeToSet:H,forTarget:p,targetUid:h});else{const Pt={...H};(!("conditions"in H)||H.conditions===void 0)&&(Pt.conditions=void 0),P({attributeToSet:Pt,forTarget:p,targetUid:h,name:E.name})}vt?t({forTarget:p,targetUid:h}):e()}else if(U&&De){if(pt){K("willCreateComponentFromAttributesModal"),F(Qt.resetPropsAndSaveCurrentData({uid:$.uid})),r();return}const{category:st,...Pt}=Ve,Dt=Ga(Ve.displayName,st);R({data:{icon:Pt.icon,displayName:Pt.displayName},uid:Dt,componentCategory:st}),w({attributeToSet:H,forTarget:p,targetUid:h}),F(Qt.resetProps()),vt?t({forTarget:"component",targetUid:Dt}):e();return}else{if(pt)if(De){const{category:st,type:Pt,...Dt}=H.componentToCreate,dn=Ga(H.componentToCreate.displayName,st);R({data:Dt,uid:dn,componentCategory:st}),oe({forTarget:p,targetUid:h,dynamicZoneTarget:c,componentsToAdd:[dn]}),t({forTarget:"component",targetUid:dn})}else ue({forTarget:p,targetUid:h,dynamicZoneTarget:c,newComponents:H.components}),e();else console.error("This case is not handled");return}F(Qt.resetProps())}catch(Kt){if(dj.isError(Kt)){const st=GU(Kt);F(Qt.setErrors({errors:st}))}}},ot=async(Ze,vt=Ae)=>{if(Ze.preventDefault(),te()){ye({e:Ze,shouldContinue:vt}),G(!0);return}await kt(Ze,vt)},cr=()=>{window.confirm(V({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),F(Qt.resetProps()))},Cn=()=>{io(H,E)?(e(),F(Qt.resetProps())):cr()},Tr=Ze=>{if(Ze==="advanced"){if(re){K("didSelectContentTypeSettings");return}p==="contentType"&&K("didSelectContentTypeFieldSettings")}},qr=Ze=>{d==="attribute"&&p==="contentType"&&o!=="dynamiczone"&&Ze&&K("willAddMoreFieldToContentType")},jr=()=>!!(d==="component"||fj(H,"createComponent")),Vr=r8(p,h,Xe);if(!d)return null;const So=Wt(wi,[d,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),_l=p==="component",ka={customInputs:{"allowed-types-select":JU,"boolean-radio-group":c3,"checkbox-with-number-field":p3,"icon-picker":x3,"content-type-radio-group":d3,"radio-group":ed,relation:TZ,"select-category":jZ,"select-component":IZ,"select-components":RZ,"select-default-boolean":l3,"select-number":zZ,"select-date":OZ,"toggle-draft-publish":f3,"text-plural":_3,"text-singular":MZ,"textarea-enum":$Z,"condition-form":UZ,...M},componentToCreate:Ve,dynamicZoneTarget:c,formErrors:We,isAddingAComponentToAnotherComponent:_l,isCreatingComponentWhileAddingAField:le,mainBoxHeader:Wt($,["info","displayName"],""),modifiedData:H,naturePickerType:p,isCreating:Ae,targetUid:h,forTarget:p,contentTypeSchema:$},Eo=So.advanced({data:H,type:o,step:y,actionType:i,attributes:Qe,extensions:Q,forTarget:p,contentTypeSchema:$||{},customField:I}).sections,Ao=So.base({data:H,type:o,step:y,actionType:i,attributes:Qe,extensions:Q,forTarget:p,contentTypeSchema:$||{},customField:I}).sections,Ir=av(Ao),gr=av(Eo),wl=Object.keys(We).some(Ze=>Ir.includes(Ze)),Di=Object.keys(We).some(Ze=>gr.includes(Ze)),Vn=Wt(z,[h,"kind"]),kl=()=>i==="edit"&&Qe.every(({name:Ze})=>Ze!==H?.name),Cl=()=>{kl()&&K("didEditFieldNameOnContentType"),Y({type:"set_completed_actions",payload:[Fs.contentTypeBuilder.addField]})};return g.jsx(un.Root,{open:m,onOpenChange:Cn,children:g.jsxs(un.Content,{children:[g.jsxs(Oi.Root,{open:C,onOpenChange:G,children:[g.jsx(Oi.Trigger,{}),g.jsx(yo,{onConfirm:()=>{if(me){const{e:Ze,shouldContinue:vt}=me;G(!1),ye(null),kt(Ze,vt)}},onCancel:()=>{G(!1),ye(null)},children:(()=>{const Ze=te();if(!Ze)return null;const vt=Ze.map(st=>st.name).join(", ");if(E.enum&&H.enum){const st=E.enum,Pt=H.enum,Dt=st.filter(dn=>!Pt.includes(dn));return g.jsx(Re,{children:g.jsxs(Ie,{children:[V({id:"form.attribute.condition.enum-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),g.jsx(Ie,{fontWeight:"bold",children:vt}),V({id:"form.attribute.condition.enum-change-warning-values",defaultMessage:". Changing or removing the enum values "}),g.jsx(Ie,{fontWeight:"bold",children:Dt.join(", ")}),V({id:"form.attribute.condition.enum-change-warning-end",defaultMessage:" will break these conditions. Do you want to proceed?"})]})})}return g.jsx(Re,{children:g.jsxs(Ie,{children:[V({id:"form.attribute.condition.field-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),g.jsx(Ie,{fontWeight:"bold",children:vt}),V({id:"form.attribute.condition.field-change-warning-end",defaultMessage:". Renaming it will break these conditions. Do you want to proceed?"})]})})})()})]}),g.jsx(m3,{actionType:i,attributeName:s,contentTypeKind:v,dynamicZoneTarget:c,modalType:d,forTarget:p,targetUid:h,attributeType:o,customFieldUid:u,showBackLink:x}),_t&&g.jsx(s3,{attributes:Vr,forTarget:p,kind:Vn||"collectionType"}),!_t&&g.jsxs(i8,{onSubmit:ot,children:[g.jsx(un.Body,{children:g.jsxs(ir.Root,{variant:"simple",value:b,onValueChange:Ze=>{k(Ze),Tr(Ze)},hasError:wl?"basic":Di?"advanced":void 0,children:[g.jsxs(Ce,{justifyContent:"space-between",children:[g.jsx(v3,{actionType:i,forTarget:p,kind:v,step:y,modalType:d,attributeType:o,attributeName:s,customField:I}),g.jsxs(ir.List,{children:[g.jsx(ir.Trigger,{value:"basic",children:V({id:ee("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),g.jsx(ir.Trigger,{value:"advanced",disabled:jr(),children:V({id:ee("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),g.jsx(il,{marginBottom:6}),g.jsx(ir.Content,{value:"basic",children:g.jsx(Ce,{direction:"column",alignItems:"stretch",gap:6,children:g.jsx(Xg,{form:Ao,formErrors:We,genericInputProps:ka,modifiedData:H,onChange:ht})})}),g.jsx(ir.Content,{value:"advanced",children:g.jsx(Ce,{direction:"column",alignItems:"stretch",gap:6,children:g.jsx(Xg,{form:Eo,formErrors:We,genericInputProps:ka,modifiedData:H,onChange:ht})})})]})}),g.jsxs(un.Footer,{children:[g.jsx(dt,{type:"button",variant:"tertiary",onClick:Ze=>{Ze.preventDefault(),Cn()},children:V({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),g.jsx(h3,{deleteContentType:()=>ke(h),deleteComponent:()=>Te(h),isAttributeModal:d==="attribute",isCustomFieldModal:d==="customField",isComponentToDzModal:d==="addComponentToDynamicZone",isComponentAttribute:o==="component",isComponentModal:d==="component",isContentTypeModal:d==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:H.createComponent||!1,isCreatingComponentInDz:H.createComponent||!1,isCreatingComponentWhileAddingAField:le,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:o==="dynamiczone",isInFirstComponentStep:y==="1",onSubmitAddComponentAttribute:ot,onSubmitAddComponentToDz:ot,onSubmitCreateComponent:ot,onSubmitCreateContentType:ot,onSubmitCreateDz:ot,onSubmitEditAttribute:ot,onSubmitEditComponent:ot,onSubmitEditContentType:ot,onSubmitEditCustomFieldAttribute:ot,onSubmitEditDz:ot,onClickFinish:Cl})]})]})]})})},ov={actionType:null,attributeName:null,attributeType:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!0,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},s8=({children:e})=>{const[t,n]=W.useState(ov),{trackUsage:r}=Fi(),i=W.useCallback(({attributeType:S,customFieldUid:A})=>{n(I=>({...I,actionType:"create",modalType:"customField",attributeType:S,customFieldUid:A,activeTab:"basic"}))},[]),s=W.useCallback(({attributeType:S,step:A})=>{t.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:S}),n(I=>({...I,actionType:"create",modalType:"attribute",step:A,attributeType:S,showBackLink:!0,activeTab:"basic"}))},[t.forTarget,r]),o=W.useCallback(({dynamicZoneTarget:S,targetUid:A})=>{n(I=>({...I,dynamicZoneTarget:S,targetUid:A,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},[]),u=W.useCallback(({forTarget:S,targetUid:A})=>{n(I=>({...I,actionType:"create",forTarget:S,targetUid:A,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},[]),c=W.useCallback(S=>{n(A=>({...A,...S,isOpen:!0,activeTab:"basic"}))},[]),p=W.useCallback(({forTarget:S,targetUid:A,attributeName:I,attributeType:F,customFieldUid:O})=>{n(D=>({...D,modalType:"customField",customFieldUid:O,actionType:"edit",forTarget:S,targetUid:A,attributeName:I,attributeType:F,isOpen:!0,activeTab:"basic"}))},[]),d=W.useCallback(({forTarget:S,targetUid:A,attributeName:I,attributeType:F,step:O})=>{n(D=>({...D,modalType:"attribute",actionType:"edit",forTarget:S,targetUid:A,attributeName:I,attributeType:F,step:O,isOpen:!0}))},[]),m=W.useCallback(({modalType:S,forTarget:A,targetUid:I,kind:F})=>{n(O=>({...O,modalType:S,actionType:"edit",forTarget:A,targetUid:I,kind:F,isOpen:!0,activeTab:"basic"}))},[]),v=W.useCallback(()=>{n(ov)},[]),y=W.useCallback(({forTarget:S,targetUid:A})=>{n(I=>({...I,forTarget:S,targetUid:A,modalType:"chooseAttribute",activeTab:"basic"}))},[]),h=W.useCallback(()=>{n(S=>({...S,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},[]),x=W.useCallback(({dynamicZoneTarget:S})=>{n(A=>({...A,dynamicZoneTarget:S,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},[]),b=W.useCallback(S=>{n(A=>({...A,activeTab:S}))},[]),k=W.useMemo(()=>({...t,onClickSelectField:s,onClickSelectCustomField:i,onCloseModal:v,onNavigateToChooseAttributeModal:y,onNavigateToAddCompoToDZModal:x,onOpenModalAddComponentsToDZ:o,onNavigateToCreateComponentStep2:h,onOpenModalAddField:u,onOpenModalCreateSchema:c,onOpenModalEditField:d,onOpenModalEditCustomField:p,onOpenModalEditSchema:m,setFormModalNavigationState:n,setActiveTab:b}),[t,s,i,v,y,x,o,h,u,c,d,p,m,b]);return g.jsx(Ex.Provider,{value:k,children:e})},l8=gt(Ce)`
  @container (max-width: 200px) {
    .hide-on-small {
      display: none;
    }
  }
  container-type: inline-size;
`,u8=()=>{const{formatMessage:e}=ct(),t=e({id:ee("table.content.create-first-content-type.title"),defaultMessage:"No content types"}),{isChatEnabled:n,openChat:r}=ur(),{openCodeUpload:i}=Yp(),{openFigmaUpload:s}=Qp();return g.jsxs(l8,{justifyContent:"center",height:"100%",width:"400px",maxWidth:"90%",margin:"auto",direction:"column",gap:6,children:[g.jsx(_v,{width:"160px",height:"88px"}),g.jsx(pp.contentTypeBuilder.Introduction,{children:g.jsx(Re,{})}),g.jsxs(Ce,{gap:2,alignItems:"center",direction:"column",children:[g.jsx(Ie,{variant:"beta",textAlign:"center",children:t}),g.jsx(Ie,{variant:"omega",textAlign:"center",textColor:"neutral600",children:e({id:ee("table.content.create-first-content-type.description"),defaultMessage:"Create collection types, single types and components in order to build your schema."})})]}),n&&g.jsxs(Ce,{gap:2,direction:"column",className:"hide-on-small",children:[g.jsx(dt,{startIcon:g.jsx(ry,{}),variant:"tertiary",onClick:()=>s(!0),children:e({id:ee("table.content.create-first-content-type.import-figma"),defaultMessage:"Import from Figma"})}),g.jsx(dt,{startIcon:g.jsx(dp,{}),variant:"tertiary",onClick:()=>i(!0),children:e({id:ee("table.content.create-first-content-type.import-code"),defaultMessage:"Import from computer"})}),g.jsx(dt,{startIcon:g.jsx(rl,{}),variant:"tertiary",onClick:r,children:e({id:ee("table.content.create-first-content-type.start-with-prompt"),defaultMessage:"Start with a prompt"})})]})]})},Cc=W.lazy(()=>bj(()=>import("./ListView-ChTnxcgK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),c8=()=>{const{formatMessage:e}=ct(),t=e({id:`${ai}.plugin.name`,defaultMessage:"Content Types Builder"}),n=Hr("DataManagerProvider",o=>o.autoReload),r=hj(),i=Ri("ContentTypeBuilderApp",o=>o.state),s=Ri("ContentTypeBuilderApp",o=>o.dispatch);return W.useEffect(()=>{A5()},[]),W.useEffect(()=>{const o=r?"ContentTypeBuilderAI":"ContentTypeBuilderNoAI";i.tours.contentTypeBuilder.tourType!==o&&s({type:"set_tour_type",payload:{tourName:"contentTypeBuilder",tourType:o}})},[r,i.tours.contentTypeBuilder.tourType,s]),g.jsxs(Uu.Protect,{permissions:mj.main,children:[g.jsx(Uu.Title,{children:t}),g.jsx(gj,{children:g.jsx(s8,{children:g.jsxs(WU,{children:[g.jsx(qU,{}),g.jsx(WB,{children:g.jsxs(g.Fragment,{children:[n&&g.jsx(o8,{}),g.jsx(vj.Root,{sideNav:g.jsx(IU,{}),children:g.jsx(W.Suspense,{fallback:g.jsx(Uu.Loading,{}),children:g.jsxs(yj,{children:[g.jsx(ys,{path:"content-types/create-content-type",element:g.jsx(u8,{})}),g.jsx(ys,{path:"content-types/:contentTypeUid",element:g.jsx(Cc,{})}),g.jsx(ys,{path:"component-categories/:categoryUid/:componentUid",element:g.jsx(Cc,{})}),g.jsx(ys,{path:"*",element:g.jsx(Cc,{})})]})})}),g.jsx(EU,{})]})})]})})})]})},b8=Object.freeze(Object.defineProperty({__proto__:null,default:c8},Symbol.toStringTag,{value:"Module"}));export{go as A,jx as C,v8 as S,wa as a,y8 as c,ee as g,b8 as i,qn as u};
